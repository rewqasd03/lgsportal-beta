exports.id=13,exports.ids=[13],exports.modules={21251:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,12994,23)),Promise.resolve().then(a.t.bind(a,96114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,79671,23)),Promise.resolve().then(a.t.bind(a,41868,23)),Promise.resolve().then(a.t.bind(a,84759,23))},53490:(e,t,a)=>{Promise.resolve().then(a.bind(a,58532))},58532:(e,t,a)=>{"use strict";function r(){return null}a.d(t,{default:()=>r}),a(17577)},6845:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.d(t,{AW:()=>$,FP:()=>O,Gc:()=>f,I8:()=>d,JU:()=>i.doc,M3:()=>P,MA:()=>S,MV:()=>I,O7:()=>g,Oh:()=>B,QT:()=>i.getDoc,Sh:()=>v,ZH:()=>x,_P:()=>h,addBulkOkumaSinavlari:()=>q,addKitapSinavi:()=>E,bK:()=>y,cW:()=>A,db:()=>c,deleteKitapSinavi:()=>N,deleteOdev:()=>H,deleteOkumaSinavi:()=>Y,f6:()=>D,getKitapSinavlari:()=>T,getOdevDurumlari:()=>F,getOdevDurumlariTumKayitlar:()=>z,getOkumaSinavlariByClassAndDate:()=>R,qb:()=>j,rO:()=>C,rd:()=>k,sK:()=>p,tS:()=>m,updateKitapSinavi:()=>K,updateOdevDurumu:()=>M,w0:()=>b,z3:()=>u});var o=a(23745),i=a(1492),n=a(60401),l=e([o,i,n]);[o,i,n]=l.then?(await l)():l;let s=(0,o.initializeApp)({apiKey:"AIzaSyBYfBhkLIfjqpnL9MxBhxW6iJeC0VAEDLk",authDomain:"kopruler-basari-portali.firebaseapp.com",projectId:"kopruler-basari-portali",storageBucket:"kopruler-basari-portali.firebasestorage.app",messagingSenderId:"318334276429",appId:"1:318334276429:web:7caa5e5b9dccb564d71d04",measurementId:"G-EF6P77SMFP"}),c=(0,i.getFirestore)(s),d=(0,n.getAuth)(s),u=async(e,t,a)=>{try{if(a&&""!==a.trim()){let r=(0,i.query)((0,i.collection)(c,"students"),(0,i.where)("pin","==",a)),o=await (0,i.getDocs)(r);if(!o.empty){let a=o.docs[0],r=a.data();if(r.class===e&&r.number===t)return{id:a.id,...r}}}else{let a=(0,i.query)((0,i.collection)(c,"students"),(0,i.where)("class","==",e),(0,i.where)("number","==",t)),r=await (0,i.getDocs)(a);if(!r.empty){let e=r.docs[0],t=e.data();if(!t.pin){console.log(`âš ï¸ ${t.name} \xf6ÄŸrencisinin PIN'i yok, otomatik atanÄ±yor...`);let a=w();await f(e.id,{pin:a}),console.log(`âœ… ${t.name} i\xe7in PIN oluÅŸturuldu: ${a}`)}return{id:e.id,...t}}}return null}catch(e){return console.error("Authentication error:",e),null}},m=async e=>{try{let t;let a=!1,r=0,o=(await p()).map(e=>e.pin).filter(Boolean);do if(t=w(),a=!o.includes(t),++r>100)throw Error("Benzersiz PIN oluÅŸturulamadÄ±");while(!a);let n=await (0,i.addDoc)((0,i.collection)(c,"students"),{...e,pin:t,viewCount:0,lastViewDate:new Date().toISOString(),createdAt:new Date().toISOString()});return console.log(`âœ… Yeni \xf6ÄŸrenci eklendi: ${e.name} - PIN: ${t}`),n.id}catch(e){throw console.error("Error adding student:",e),e}},p=async()=>(await (0,i.getDocs)((0,i.collection)(c,"students"))).docs.map(e=>({id:e.id,...e.data()})),h=async()=>(await (0,i.getDocs)((0,i.collection)(c,"exams"))).docs.map(e=>({id:e.id,...e.data()})),g=async()=>(await (0,i.getDocs)((0,i.collection)(c,"results"))).docs.map(e=>({id:e.id,...e.data()})),D=async e=>(await (0,i.addDoc)((0,i.collection)(c,"results"),{...e,createdAt:new Date().toISOString()})).id,w=()=>Math.floor(1e3+9e3*Math.random()).toString(),y=async()=>{try{let e=await p(),t={updated:0,errors:[]};for(let a of e.filter(e=>!e.pin))try{let r;let o=!1,i=0;do if(r=w(),o=!e.find(e=>e.pin===r),++i>100)throw Error("Benzersiz PIN oluÅŸturulamadÄ±");while(!o);await f(a.id,{pin:r}),t.updated++,console.log(`ðŸ“ ${a.name} \xf6ÄŸrencisine PIN atandÄ±: ${r}`)}catch(r){let e=`${a.name} i\xe7in PIN atanÄ±rken hata: ${r}`;t.errors.push(e),console.error(e)}return console.log(`âœ… PIN atama iÅŸlemi tamamlandÄ±. ${t.updated} \xf6ÄŸrenci g\xfcncellendi.`),t}catch(e){throw console.error("PIN atama iÅŸlemi hatasÄ±:",e),e}},f=async(e,t)=>{try{let a=(0,i.doc)(c,"students",e);return await (0,i.updateDoc)(a,t),!0}catch(e){throw console.error("Error updating student:",e),e}},v=async e=>{try{let t=(0,i.doc)(c,"students",e),a=await (0,i.getDoc)(t);if(a.exists()){let e=a.data().viewCount||0,r=a.data().lastViewDate||"",o=new Date().toISOString().split("T")[0];if(r!==o)return await (0,i.updateDoc)(t,{viewCount:e+1,lastViewDate:o}),e+1;return e}return 0}catch(e){return console.error("Error incrementing view count:",e),0}},S=async e=>{try{let t=(0,i.doc)(c,"students",e);return await (0,i.deleteDoc)(t),!0}catch(e){throw console.error("Error deleting student:",e),e}},k=async e=>(await (0,i.addDoc)((0,i.collection)(c,"exams"),{...e,createdAt:new Date().toISOString()})).id,b=async(e,t)=>{try{let a=(0,i.doc)(c,"exams",e);return await (0,i.updateDoc)(a,t),!0}catch(e){throw console.error("Error updating exam:",e),e}},x=async e=>{try{let t=(0,i.doc)(c,"exams",e);return await (0,i.deleteDoc)(t),!0}catch(e){throw console.error("Error deleting exam:",e),e}},A=async(e,t)=>{try{let a=(0,i.doc)(c,"results",e);return await (0,i.updateDoc)(a,t),!0}catch(e){throw console.error("Error updating result:",e),e}},I=async e=>{try{let t=(0,i.doc)(c,"results",e);return await (0,i.deleteDoc)(t),!0}catch(e){throw console.error("Error deleting result:",e),e}},O=e=>({...e}),P=e=>({...e}),B=async(e,t,a)=>{try{let r=O(t),o=(0,i.doc)(c,"targets",e);await (0,i.setDoc)(o,{studentId:e,targets:r,targetScore:a||450,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),console.log("\uD83C\uDFAF Hedefler kaydedildi (Dashboard formatÄ±nda):",e,r),console.log("\uD83C\uDFAF Puan hedefi kaydedildi:",a||450)}catch(e){throw console.error("Hedef kaydetme hatasÄ±:",e),e}},$=async e=>{try{let t=(0,i.doc)(c,"targets",e),a=await (0,i.getDoc)(t);if(console.log(`ðŸ“‹ Hedef arama - \xd6ÄŸrenci ID: ${e}`),console.log("\uD83D\uDCCB Doc mevcut mu:",a.exists()),a.exists()){let e=a.data(),t=e.targets||{};return console.log("\uD83D\uDCCB Bulunan net hedefleri (Dashboard formatÄ±):",t),console.log("\uD83C\uDFAF Puan hedefi:",e.targetScore||450),console.log("\uD83D\uDD04 Panel i\xe7in d\xf6n\xfcÅŸt\xfcr\xfclm\xfcÅŸ:",P(t)),t}return console.log("\uD83D\uDCCB Hedef bulunamadÄ±"),null}catch(e){return console.error("Hedef getirme hatasÄ±:",e),null}},C=async e=>{try{let t=(0,i.doc)(c,"targets",e),a=await (0,i.getDoc)(t);if(a.exists()){let t=a.data().targetScore;return console.log(`ðŸŽ¯ Puan hedefi bulundu (${e}):`,t||450),t||450}return console.log(`ðŸ“‹ Puan hedefi bulunamadÄ±, varsayÄ±lan kullanÄ±lÄ±yor: 450`),450}catch(e){return console.error("Puan hedefi getirme hatasÄ±:",e),450}},j=async()=>{try{let e=await (0,i.getDocs)((0,i.collection)(c,"targets")),t={};return e.docs.forEach(e=>{let a=e.data();a.studentId&&a.targets&&(t[a.studentId]=a.targets)}),t}catch(e){return console.error("T\xfcm hedefleri getirme hatasÄ±:",e),{}}},E=async e=>{try{let t=(0,i.collection)(c,"kitapSinavlari"),a=await (0,i.addDoc)(t,{...e,createdAt:new Date().toISOString()});return console.log("\uD83D\uDCDA Kitap sÄ±navÄ± eklendi:",a.id),a.id}catch(e){throw console.error("Kitap sÄ±navÄ± ekleme hatasÄ±:",e),e}},T=async()=>{try{let e=(0,i.collection)(c,"kitapSinavlari"),t=await (0,i.getDocs)(e),a=[];return t.forEach(e=>{a.push({id:e.id,...e.data()})}),a.sort((e,t)=>new Date(t.tarih).getTime()-new Date(e.tarih).getTime()),console.log("\uD83D\uDCDA Bulunan kitap sÄ±navlarÄ±:",a.length),a}catch(e){return console.error("Kitap sÄ±navlarÄ± getirme hatasÄ±:",e),[]}},K=async(e,t)=>{try{let a=(0,i.doc)(c,"kitapSinavlari",e);await (0,i.updateDoc)(a,{puanlar:t,updatedAt:new Date().toISOString()}),console.log("\uD83D\uDCDA Kitap sÄ±navÄ± g\xfcncellendi:",e)}catch(e){throw console.error("Kitap sÄ±navÄ± g\xfcncelleme hatasÄ±:",e),e}},N=async e=>{try{let t=(0,i.doc)(c,"kitapSinavlari",e);await (0,i.deleteDoc)(t),console.log("\uD83D\uDCDA Kitap sÄ±navÄ± silindi:",e)}catch(e){throw console.error("Kitap sÄ±navÄ± silme hatasÄ±:",e),e}},F=async(e,t,a)=>{try{let r=(0,i.doc)(c,"odevler",`${e}_${t}_${a}`),o=await (0,i.getDoc)(r);if(o.exists())return o.data().ogrenciDurumlari||{};return{}}catch(e){return console.error("\xd6dev durumlarÄ± getirme hatasÄ±:",e),{}}},M=async(e,t,a,r,o)=>{try{let n=`${e}_${t}_${a}`,l=(0,i.doc)(c,"odevler",n),s=await (0,i.getDoc)(l),d={...s.exists()&&s.data().ogrenciDurumlari||{},[r]:o},u=Object.keys(d).length,m=Object.values(d).filter(e=>"yapildi"===e).length,p=Object.values(d).filter(e=>"eksikYapildi"===e).length,h=Object.values(d).filter(e=>"yapilmadi"===e).length,g=u>0?m/u*100:0,D={ders:e,sinif:t,tarih:a,ogrenciDurumlari:d,toplamOgrenci:u,yapildi:m,eksikYapildi:p,yapilmadi:h,yuzde:Math.round(100*g)/100,updatedAt:new Date().toISOString()};await (0,i.setDoc)(l,{...D,createdAt:s.exists()?s.data().createdAt:new Date().toISOString()},{merge:!0}),console.log(`ðŸ“ \xd6dev durumu g\xfcncellendi: ${e} - ${t} - ${a} - ${r} = ${o}`)}catch(e){throw console.error("\xd6dev durumu g\xfcncelleme hatasÄ±:",e),e}},z=async()=>{try{let e=(0,i.collection)(c,"odevler"),t=(0,i.query)(e,(0,i.orderBy)("tarih","desc")),a=await (0,i.getDocs)(t),r=[];return a.forEach(e=>{let t=e.data(),a=Object.entries(t.ogrenciDurumlari||{}).map(([e,t])=>({ogrenciId:e,durum:t}));r.push({ders:t.ders,sinif:t.sinif,tarih:t.tarih,ogrenciler:a,toplamOgrenci:t.toplamOgrenci||0,yapildi:t.yapildi||0,eksikYapildi:t.eksikYapildi||0,yapilmadi:t.yapilmadi||0,updatedAt:t.updatedAt})}),r}catch(e){return console.error("\xd6dev ge\xe7miÅŸ kayÄ±tlarÄ± getirme hatasÄ±:",e),[]}},H=async e=>{try{let t=(0,i.doc)(c,"odevler",e);await (0,i.deleteDoc)(t),console.log("\uD83D\uDCDD \xd6dev silindi:",e)}catch(e){throw console.error("\xd6dev silme hatasÄ±:",e),e}},q=async e=>{try{let t=(0,i.writeBatch)(c);e.forEach(e=>{let a=(0,i.doc)((0,i.collection)(c,"okumaSinavlari"));t.set(a,{class:e.classId,date:e.date,studentId:e.studentId,studentName:e.studentName,wpm:e.wpm,createdAt:new Date().toISOString()})}),await t.commit(),console.log("\uD83D\uDCDA Toplu okuma sÄ±navÄ± kaydedildi:",e.length,"sonu\xe7")}catch(e){throw console.error("Toplu okuma sÄ±navÄ± kaydetme hatasÄ±:",e),e}},R=async(e,t)=>{try{let a=(0,i.query)((0,i.collection)(c,"okumaSinavlari"),(0,i.where)("class","==",e));return(await (0,i.getDocs)(a)).docs.map(e=>({id:e.id,...e.data()})).filter(e=>e.date===t)}catch(e){throw console.error("SÄ±nÄ±f okuma sÄ±navlarÄ± getirme hatasÄ±:",e),e}},Y=async e=>{try{await (0,i.deleteDoc)((0,i.doc)(c,"okumaSinavlari",e)),console.log("\uD83D\uDCDA Okuma sÄ±navÄ± silindi:",e)}catch(e){throw console.error("Okuma sÄ±navÄ± silme hatasÄ±:",e),e}};r()}catch(e){r(e)}})},46005:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c,metadata:()=>l,viewport:()=>s});var r=a(19510),o=a(45317),i=a.n(o);a(5023);let n=(0,a(68570).createProxy)(String.raw`/workspace/src/app/components/ServiceWorkerRegistrar.tsx#default`),l={title:"BaÅŸarÄ± Takip ve Raporlama Sistemi",description:"\xd6ÄŸrenci baÅŸarÄ± takip sistemi - HeatMap ve AkÄ±llÄ± Raporlar",applicationName:"BaÅŸarÄ± Takip",appleWebApp:{capable:!0,title:"BaÅŸarÄ± Takip",statusBarStyle:"default"},formatDetection:{telephone:!1},openGraph:{type:"website",locale:"tr_TR",url:"https://example.com",siteName:"BaÅŸarÄ± Takip Sistemi",title:"BaÅŸarÄ± Takip ve Raporlama Sistemi",description:"\xd6ÄŸrenci baÅŸarÄ± takip sistemi - HeatMap ve AkÄ±llÄ± Raporlar",images:[{url:"/icon-512.png",width:512,height:512,alt:"BaÅŸarÄ± Takip Sistemi"}]},manifest:"/manifest.json",icons:{icon:"/icon-192.png",apple:"/icon-192.png"},keywords:["eÄŸitim","baÅŸarÄ± takip","LGS","\xf6ÄŸrenci","rapor","analiz","heatmap"],authors:[{name:"Murat UYSAL"}],robots:"index, follow"},s={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1,themeColor:"#3B82F6"};function c({children:e}){return(0,r.jsxs)("html",{lang:"tr",children:[(0,r.jsxs)("head",{children:[r.jsx("link",{rel:"manifest",href:"/manifest.json"}),r.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),r.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),r.jsx("meta",{name:"msapplication-TileColor",content:"#3B82F6"}),r.jsx("meta",{name:"msapplication-config",content:"/browserconfig.xml"})]}),(0,r.jsxs)("body",{className:`${i().className} min-h-screen`,children:[r.jsx(n,{}),e]})]})}},73881:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var r=a(66621);let o=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};