(()=>{var e={};e.id=790,e.ids=[790],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},23745:e=>{"use strict";e.exports=import("firebase/app")},60401:e=>{"use strict";e.exports=import("firebase/auth")},1492:e=>{"use strict";e.exports=import("firebase/firestore")},9518:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c}),a(77743),a(46005),a(35866);var t=a(23191),r=a(88716),l=a(37922),i=a.n(l),n=a(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(s,d);let c=["",{children:["panel",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,77743)),"/workspace/src/app/panel/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,46005)),"/workspace/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["/workspace/src/app/panel/page.tsx"],m="/panel/page",x={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/panel/page",pathname:"/panel",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},54113:(e,s,a)=>{Promise.resolve().then(a.bind(a,99543))},69057:(e,s,a)=>{"use strict";a.a(e,async(e,t)=>{try{a.d(s,{Z:()=>b});var r=a(10326),l=a(17577),i=a(30660),n=a(14958),d=a(18423),c=a(62637),o=a(9997),m=a(44675),x=a(69274),u=a(74390),h=a(6845),g=a(57799),p=e([h]);h=(p.then?(await p)():p)[0];let y={"2-A":[{key:"turkce",name:"T\xfcrk\xe7e",color:"#10B981"},{key:"matematik",name:"Matematik",color:"#F59E0B"},{key:"hayat",name:"Hayat Bilgisi",color:"#8B5CF6"},{key:"ingilizce",name:"Ä°ngilizce",color:"#EF4444"}],"3-A":[{key:"turkce",name:"T\xfcrk\xe7e",color:"#10B981"},{key:"matematik",name:"Matematik",color:"#F59E0B"},{key:"hayat",name:"Hayat Bilgisi",color:"#8B5CF6"},{key:"ingilizce",name:"Ä°ngilizce",color:"#EF4444"},{key:"fen",name:"Fen Bilimleri",color:"#3B82F6"}],"4-A":[{key:"turkce",name:"T\xfcrk\xe7e",color:"#10B981"},{key:"matematik",name:"Matematik",color:"#F59E0B"},{key:"sosyal",name:"Sosyal Bilgiler",color:"#8B5CF6"},{key:"ingilizce",name:"Ä°ngilizce",color:"#EF4444"},{key:"din",name:"Din K\xfclt\xfcr\xfc",color:"#F97316"},{key:"fen",name:"Fen Bilimleri",color:"#3B82F6"}]},j=e=>y[e]||y["4-A"],f=({students:e,exams:s,onDataUpdate:a})=>{let[t,i]=(0,l.useState)(null),[n,d]=(0,l.useState)([]),[c,o]=(0,l.useState)(!1),[m,x]=(0,l.useState)("file"),[u,g]=(0,l.useState)(""),[p,b]=(0,l.useState)({title:"",date:new Date().toISOString().split("T")[0],classes:[]}),[y,j]=(0,l.useState)({total:0,added:0,updated:0,errors:[]}),f=e=>{let s=e.split("/"),a=parseInt(s[0])||0,t=parseInt(s[1])||0,r=parseInt(s[2])||0;return{D:a,Y:t,B:r,net:Math.round(10*(a-t/4))/10}},N=e=>{let s=e.trim().split("\n"),a=[];return s.slice(1).forEach((e,s)=>{if(!e.trim())return;let t=e.split(",").map(e=>e.trim().replace(/"/g,""));if(t.length>=12){let e=f(t[3]||"0/0/0"),s=f(t[7]||"0/0/0"),r=f(t[8]||"0/0/0"),l={name:t[0]||"",class:t[1]||"",number:t[2]||"",turkce:e.net,matematik:s.net,fen:r.net,puan:parseFloat(t[11])||0,scores:{turkce:{D:e.D,Y:e.Y,N:e.net,B:e.B},matematik:{D:s.D,Y:s.Y,N:s.net,B:s.B},fen:{D:r.D,Y:r.Y,N:r.net,B:r.B}},tarih:f(t[4]||"0/0/0"),din:f(t[5]||"0/0/0"),ingilizce:f(t[6]||"0/0/0"),toplam:f(t[9]||"0/0/0"),lgsNeti:parseFloat(t[10])||0};a.push(l)}}),a},v=e=>new Promise((s,a)=>{let t=new FileReader;t.onload=e=>{try{let a=e.target?.result;s(a)}catch(e){a(e)}},t.onerror=a,t.readAsText(e)}),k=async()=>{let e="";if("file"===m&&t){o(!0);try{e=await v(t)}catch(e){console.error("File reading error:",e),alert("Dosya okunurken bir hata oluÅŸtu."),o(!1);return}}else if("paste"===m&&u.trim())e=u;else{alert("L\xfctfen bir dosya se\xe7in veya veri yapÄ±ÅŸtÄ±rÄ±n.");return}try{let s=N(e);d(s),0===s.length&&alert("Hi\xe7 veri bulunamadÄ±. L\xfctfen formatÄ± kontrol edin.")}catch(e){console.error("Parsing error:",e),alert("Veri parse edilirken bir hata oluÅŸtu.")}finally{o(!1)}},w=async()=>{if(0===n.length)return;o(!0);let t={total:n.length,added:0,updated:0,errors:[]};try{let r="",l=s.find(e=>e.title===p.title&&e.date===p.date);if(l)r=l.id;else{let e={title:p.title,date:p.date,classes:p.classes.length>0?p.classes:void 0};r=await (0,h.rd)(e)}for(let s of n)try{let a=e.find(e=>e.name===s.name&&e.class===s.class);if(a)t.updated++;else{let e={name:s.name,class:s.class,number:s.number||"0",viewCount:0,lastViewDate:new Date().toISOString(),createdAt:new Date().toISOString()},r=await (0,h.tS)(e);a={...e,id:r},t.added++}let l={total:(s.turkce||0)+(s.matematik||0)+(s.fen||0),turkce:s.turkce||0,matematik:s.matematik||0,fen:s.fen||0},i={studentId:a.id,examId:r,nets:l,scores:{puan:s.puan||0,...s.scores},createdAt:new Date().toISOString()};await (0,h.f6)(i)}catch(e){console.error("Student import error:",e),t.errors.push(`\xd6ÄŸrenci ${s.name}: ${e}`)}j(t),a(),alert(`Ä°\xe7e aktarÄ±m tamamlandÄ±! ${t.added} yeni \xf6ÄŸrenci eklendi, ${t.updated} g\xfcncellendi.`)}catch(e){console.error("Firebase import error:",e),alert("Firebase'e aktarÄ±m sÄ±rasÄ±nda bir hata oluÅŸtu.")}finally{o(!1)}};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-teal-600 rounded-2xl p-8 text-white",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"\uD83D\uDCCA Excel/CSV Ä°\xe7e AktarÄ±m"}),r.jsx("p",{className:"text-green-100 text-xs",children:"Excel (.xlsx) veya CSV dosyalarÄ±ndan \xf6ÄŸrenci verilerini hÄ±zlÄ±ca sisteme aktarÄ±n"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Ä°\xe7e AktarÄ±m Y\xf6ntemi"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[r.jsx("button",{onClick:()=>x("file"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${"file"===m?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"\uD83D\uDCC1 Dosya Y\xfckle"}),r.jsx("button",{onClick:()=>x("paste"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${"paste"===m?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"\uD83D\uDCCB YapÄ±ÅŸtÄ±r"})]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx("span",{className:"text-blue-600 mr-3",children:"\uD83D\uDCE5"}),"Excel Åžablonu Ä°ndir"]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"LGS sÄ±nav sonu\xe7larÄ± i\xe7in hazÄ±r ÅŸablonu indirin. Åžablondaki \xf6rnek verileri kendi verilerinizle deÄŸiÅŸtirin."}),(0,r.jsxs)("ul",{className:"text-xs text-gray-500 space-y-1",children:[r.jsx("li",{children:"â€¢ D/Y/B FormatÄ±: DoÄŸru/YanlÄ±ÅŸ/BoÅŸ (\xf6rn: 20/5/15 = 20 doÄŸru, 5 yanlÄ±ÅŸ, 15 boÅŸ)"}),r.jsx("li",{children:"â€¢ Net Hesaplama: Net = DoÄŸru - (YanlÄ±ÅŸ/4)"}),r.jsx("li",{children:"â€¢ LGS Neti: T\xfcm derslerin toplam neti"}),r.jsx("li",{children:"â€¢ LGS PuanÄ±: 100-500 arasÄ± puan aralÄ±ÄŸÄ±"})]})]}),(0,r.jsxs)("button",{onClick:()=>{let e=[["\xd6ÄŸrenci AdÄ±","SÄ±nÄ±f","Numara","T\xfcrk\xe7e (D/Y/B)","Tarih (D/Y/B)","Din K.ve A.B. (D/Y/B)","Ä°ngilizce (D/Y/B)","Matematik (D/Y/B)","Fen (D/Y/B)","Toplam (D/Y/B)","LGS Neti (N)","LGS PuanÄ±"],["Ahmet YÄ±lmaz","8-A","1","20/5/15","18/7/5","15/3/2","16/4/0","25/8/7","22/6/2","116/33/31","85.2","425.8"],["AyÅŸe Demir","8-B","2","22/3/5","20/5/5","18/2/0","18/3/1","28/6/6","25/4/1","131/23/18","89.5","465.2"],["Mehmet Kaya","8-A","3","18/8/14","15/10/5","12/6/2","14/6/0","20/12/8","19/8/3","98/50/32","76.3","380.1"],["Fatma \xd6zkan","8-C","4","24/1/5","22/3/5","20/1/1","19/2/1","30/3/7","27/2/1","142/12/20","92.8","495.7"],["Ali \xc7elik","8-B","5","19/6/15","17/8/5","14/5/1","15/5/0","23/9/8","21/7/2","109/40/31","81.6","410.3"]].map(e=>e.map(e=>`"${e}"`).join(",")).join("\n"),s=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),t=URL.createObjectURL(s);a.setAttribute("href",t),a.setAttribute("download","lgs_ogrenci_veri_sablonu.csv"),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors font-medium flex items-center",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Åžablon Ä°ndir (.CSV)"]})]})]}),"file"===m?(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx("span",{className:"text-green-600 mr-3",children:"\uD83D\uDCC1"}),"Dosya Se\xe7in"]}),(0,r.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-green-400 transition-colors",children:[r.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:e=>{let s=e.target.files?.[0];s&&("text/csv"===s.type||"application/vnd.ms-excel"===s.type||s.name.endsWith(".csv")||s.name.endsWith(".xlsx"))?(i(s),d([])):alert("L\xfctfen bir CSV veya Excel dosyasÄ± se\xe7in.")},className:"hidden",id:"excel-upload"}),(0,r.jsxs)("label",{htmlFor:"excel-upload",className:"cursor-pointer",children:[r.jsx("div",{className:"text-green-600 mb-4",children:r.jsx("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),r.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:t?t.name:"Excel/CSV dosyasÄ±nÄ± buraya s\xfcr\xfckleyin veya se\xe7in"}),r.jsx("p",{className:"text-sm text-gray-500",children:"CSV, XLSX veya XLS dosyalarÄ± desteklenmektedir"})]})]})]}):(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx("span",{className:"text-blue-600 mr-3",children:"\uD83D\uDCCB"}),"Veri YapÄ±ÅŸtÄ±r"]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Excel'den veya Google Sheets'ten verileri kopyalayÄ±p buraya yapÄ±ÅŸtÄ±rÄ±n:"}),r.jsx("textarea",{value:u,onChange:e=>g(e.target.value),placeholder:"\xd6ÄŸrenci AdÄ±, SÄ±nÄ±f, Numara, T\xfcrk\xe7e (D/Y/B), Tarih (D/Y/B), Din K.ve A.B. (D/Y/B), Ä°ngilizce (D/Y/B), Matematik (D/Y/B), Fen (D/Y/B), Toplam (D/Y/B), LGS Neti (N), LGS PuanÄ± Ahmet YÄ±lmaz, 8-A, 1, 20/5/15, 18/7/5, 15/3/2, 16/4/0, 25/8/7, 22/6/2, 116/33/31, 85.2, 425.8",className:"w-full h-40 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 font-mono text-sm"})]}),(t||u.trim())&&r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:r.jsx("div",{className:"flex justify-center",children:r.jsx("button",{onClick:k,disabled:c,className:"bg-green-500 text-white px-8 py-3 rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 font-semibold",children:c?"Ä°ÅŸleniyor...":"\uD83D\uDCCA Veriyi Ä°ÅŸle"})})}),n.length>0&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx("span",{className:"text-blue-600 mr-3",children:"\uD83D\uDCCB"}),"Deneme Bilgileri"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deneme AdÄ± *"}),r.jsx("input",{type:"text",value:p.title,onChange:e=>b(s=>({...s,title:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Deneme adÄ±nÄ± girin",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deneme Tarihi *"}),r.jsx("input",{type:"date",value:p.date,onChange:e=>b(s=>({...s,date:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ä°lgili SÄ±nÄ±flar (Opsiyonel)"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(e=>(0,r.jsxs)("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:p.classes.includes(e),onChange:s=>{s.target.checked?b(s=>({...s,classes:[...s.classes,e]})):b(s=>({...s,classes:s.classes.filter(s=>s!==e)}))},className:"mr-2"}),r.jsx("span",{className:"text-sm",children:e})]},e))})]})]}),n.length>0&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx("span",{className:"text-green-600 mr-3",children:"\uD83D\uDC65"}),"Parse Edilen \xd6ÄŸrenci Verileri (",n.length," \xf6ÄŸrenci)"]}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"\xd6ÄŸrenci AdÄ±"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"SÄ±nÄ±f"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Numara"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"T\xfcrk\xe7e Net"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Matematik Net"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Fen Net"}),r.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Toplam Puan"})]})}),r.jsx("tbody",{children:n.map((e,s)=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"border border-gray-300 px-4 py-2",children:e.name}),r.jsx("td",{className:"border border-gray-300 px-4 py-2",children:e.class}),r.jsx("td",{className:"border border-gray-300 px-4 py-2",children:e.number}),r.jsx("td",{className:"border border-gray-300 px-4 py-2",children:e.turkce}),r.jsx("td",{className:"border border-gray-300 px-4 py-2",children:e.matematik}),r.jsx("td",{className:"border border-gray-300 px-4 py-2",children:e.fen}),r.jsx("td",{className:"border border-gray-300 px-4 py-2 font-semibold",children:e.puan})]},s))})]})}),r.jsx("div",{className:"mt-6 flex justify-center",children:r.jsx("button",{onClick:w,disabled:c||!p.title,className:"bg-green-500 text-white px-8 py-3 rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 font-semibold",children:c?"AktarÄ±lÄ±yor...":`ðŸš€ ${n.length} \xd6ÄŸrenciyi Firebase'e Aktar`})})]}),y.total>0&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx("span",{className:"text-indigo-600 mr-3",children:"\uD83D\uDCCA"}),"Ä°\xe7e AktarÄ±m Sonu\xe7larÄ±"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y.total}),r.jsx("div",{className:"text-blue-800",children:"Toplam \xd6ÄŸrenci"})]}),(0,r.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:y.added}),r.jsx("div",{className:"text-green-800",children:"Yeni Eklenen"})]}),(0,r.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-600",children:y.updated}),r.jsx("div",{className:"text-orange-800",children:"G\xfcncellenen"})]})]}),y.errors.length>0&&(0,r.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[r.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Hatalar:"}),r.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:y.errors.map((e,s)=>(0,r.jsxs)("li",{children:["â€¢ ",e]},s))})]})]}),(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-green-900 mb-4 flex items-center",children:[r.jsx("span",{className:"text-green-600 mr-3",children:"\uD83D\uDCA1"}),"Desteklenen Formatlar"]}),(0,r.jsxs)("div",{className:"space-y-3 text-green-800",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:"\uD83D\uDCCA Excel/CSV Format:"}),r.jsx("p",{className:"text-sm",children:"\xd6ÄŸrenci AdÄ±, SÄ±nÄ±f, Numara, T\xfcrk\xe7e Net, Matematik Net, Fen Net, Toplam Puan"})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:"\uD83D\uDCCB \xd6rnek Veri:"}),r.jsx("pre",{className:"bg-green-100 p-2 rounded text-xs",children:`Ahmet YÄ±lmaz, 8-A, 1, 15.2, 12.8, 14.5, 425
AyÅŸe Demir, 8-B, 2, 16.1, 11.9, 15.2, 432
Mehmet Kaya, 8-A, 3, 14.8, 13.5, 13.9, 418`})]}),r.jsx("div",{className:"bg-green-100 p-3 rounded",children:(0,r.jsxs)("p",{className:"text-green-900 text-sm",children:[r.jsx("strong",{children:"\uD83D\uDCA1 Ä°pucu:"})," Excel'den verileri kopyalayÄ±p \"YapÄ±ÅŸtÄ±r\" modunda doÄŸrudan buraya yapÄ±ÅŸtÄ±rabilirsiniz. Bu y\xf6ntem PDF'den \xe7ok daha hÄ±zlÄ± ve g\xfcvenilirdir!"]})})]})]})]})},N=[{key:"home",label:"\uD83C\uDFE0 Ana Sayfa"},{key:"sinif",label:"\uD83C\uDFDBï¸ SÄ±nÄ±f Y\xf6netimi"},{key:"deneme",label:"\uD83D\uDCCB Deneme Y\xf6netimi"},{key:"bireysel",label:"\uD83D\uDC68â€\uD83C\uDF93 Bireysel Veri"},{key:"toplu",label:"\uD83D\uDC65 Toplu Veri"},{key:"excel-import",label:"\uD83D\uDCCA Excel Ä°\xe7e Aktar"},{key:"kitap-sinavi",label:"\uD83D\uDCDA Kitap SÄ±navÄ±"},{key:"odev-takibi",label:"\uD83D\uDCDD \xd6dev Takibi"},{key:"eksik-konu",label:"\uD83D\uDCCA Deneme DeÄŸerlendirme"},{key:"hedef",label:"\uD83C\uDFAF Hedef Belirleme"},{key:"lgs-hesaplama",label:"\uD83E\uDDEE LGS Puan Hesaplama"},{key:"analytics",label:"\uD83D\uDCCA Analitik & Raporlar"},{key:"van-taban-puan",label:"\uD83C\uDF93 Lise Taban PuanlarÄ±"},{key:"puan-bazli-tavsiye",label:"\uD83C\uDFAF Puan BazlÄ± Tavsiye"},{key:"okuma-sinavi",label:"\uD83D\uDCDA Okuma SÄ±navÄ±"}],v={turkce:"#10B981",matematik:"#F59E0B",fen:"#3B82F6",sosyal:"#8B5CF6",ingilizce:"#EF4444",din:"#F97316",kimya:"#06B6D4",biyoloji:"#84CC16",tarih:"#EC4899",cografya:"#6366F1"},k={elementary:[{key:"turkce",label:"T\xfcrk\xe7e",grades:["2","3","4","5"],color:v.turkce},{key:"sosyal",label:"Sosyal Bilgiler",grades:["4","5"],color:v.sosyal},{key:"din",label:"Din K\xfclt\xfcr\xfc ve Ahlak Bilgisi",grades:["4","5"],color:v.din},{key:"ingilizce",label:"Ä°ngilizce",grades:["2","3","4","5"],color:v.ingilizce},{key:"matematik",label:"Matematik",grades:["2","3","4","5"],color:v.matematik},{key:"fen",label:"Fen Bilimleri",grades:["3","4","5"],color:v.fen},{key:"hayat",label:"Hayat Bilgisi",grades:["2","3"],color:"#F59E0B"}],middle:[{key:"turkce",label:"T\xfcrk\xe7e",grades:["6","7","8"],color:v.turkce},{key:"sosyal",label:"Sosyal Bilgiler",grades:["6","7","8"],color:v.sosyal},{key:"din",label:"Din K\xfclt\xfcr\xfc ve Ahlak Bilgisi",grades:["6","7","8"],color:v.din},{key:"ingilizce",label:"Ä°ngilizce",grades:["6","7","8"],color:v.ingilizce},{key:"matematik",label:"Matematik",grades:["6","7","8"],color:v.matematik},{key:"fen",label:"Fen Bilimleri",grades:["6","7","8"],color:v.fen}],high:[{key:"turkce",label:"T\xfcrk Dili ve EdebiyatÄ±",grades:["9","10","11","12"],color:v.turkce},{key:"matematik",label:"Matematik",grades:["9","10","11","12"],color:v.matematik},{key:"fen",label:"Fizik",grades:["9","10","11","12"],color:v.fen},{key:"kimya",label:"Kimya",grades:["9","10","11","12"],color:v.kimya},{key:"biyoloji",label:"Biyoloji",grades:["9","10","11","12"],color:v.biyoloji},{key:"sosyal",label:"Tarih",grades:["9","10","11","12"],color:v.tarih},{key:"cografya",label:"CoÄŸrafya",grades:["9","10","11","12"],color:v.cografya},{key:"ingilizce",label:"Ä°ngilizce",grades:["9","10","11","12"],color:v.ingilizce}]},D=["2-A","3-A","4-A","5-A","6-A","7-A","8-A"],w=e=>{let s=e.split("-")[0],a=parseInt(s);return a<=5?k.elementary.filter(e=>e.grades.includes(s)):a<=8?k.middle.filter(e=>e.grades.includes(s)):k.high.filter(e=>e.grades.includes(s))},C=(e,s)=>e-.33*s;function b(){let[e,s]=(0,l.useState)([]),[a,t]=(0,l.useState)([]),[i,n]=(0,l.useState)([]),[d,c]=(0,l.useState)(!0),[o,m]=(0,l.useState)("home"),[x,u]=(0,l.useState)(null),p=[{name:"Van T\xfcrk Telekom Fen Lisesi",type:"Fen Lisesi",score:"460.91",percentile:"2.51",capacity:"150",district:"Edremit"},{name:"Ä°pekyolu Borsa Ä°stanbul Fen Lisesi",type:"Fen Lisesi",score:"441.61",percentile:"4.67",capacity:"150",district:"Ä°pekyolu"},{name:"TuÅŸba TOBB Fen Lisesi",type:"Fen Lisesi",score:"422.90",percentile:"7.20",capacity:"150",district:"TuÅŸba"},{name:"Niyazi T\xfcrkmenoÄŸlu Anadolu Lisesi",type:"Anadolu Lisesi",score:"416.75",percentile:"8.09",capacity:"120",district:"Ä°pekyolu"},{name:"ErciÅŸ Fen Lisesi",type:"Fen Lisesi",score:"402.18",percentile:"10.39",capacity:"150",district:"ErciÅŸ"},{name:"KazÄ±m Karabekir Anadolu Lisesi",type:"Anadolu Lisesi",score:"400.23",percentile:"10.71",capacity:"150",district:"Ä°pekyolu"},{name:"Åžehit ErdoÄŸan CÄ±nbÄ±roÄŸlu Anadolu Lisesi",type:"Anadolu Lisesi",score:"412.45",percentile:"9.12",capacity:"150",district:"Ä°pekyolu"},{name:"Van Anadolu Lisesi",type:"Anadolu Lisesi",score:"408.32",percentile:"9.87",capacity:"150",district:"Ä°pekyolu"},{name:"Atat\xfcrk Anadolu Lisesi",type:"Anadolu Lisesi",score:"405.78",percentile:"10.23",capacity:"150",district:"Ä°pekyolu"},{name:"Mehmet Akif Ersoy Anadolu Lisesi",type:"Anadolu Lisesi",score:"402.15",percentile:"10.58",capacity:"150",district:"Ä°pekyolu"}],b=[{name:"Mesut \xd6zata Anadolu Lisesi",type:"Anadolu Lisesi",score:"91.09",capacity:"150",district:"Ä°pekyolu"},{name:"\xd6zen AdalÄ± Anadolu Lisesi",type:"Anadolu Lisesi",score:"89.66",capacity:"150",district:"Ä°pekyolu"},{name:"Mehmet Akif Ersoy Anadolu Lisesi",type:"Anadolu Lisesi",score:"88.96",capacity:"150",district:"Ä°pekyolu"},{name:"Arif Nihat Asya Anadolu Lisesi",type:"Anadolu Lisesi",score:"89.39",capacity:"150",district:"ErciÅŸ"},{name:"Faki Teyran Anadolu Lisesi",type:"Anadolu Lisesi",score:"85.96",capacity:"150",district:"Edremit"},{name:"Ä°ki Nisan Anadolu Lisesi",type:"Anadolu Lisesi",score:"84.93",capacity:"150",district:"Ä°pekyolu"}],[y,v]=(0,l.useState)({}),[k,L]=(0,l.useState)({}),[B,Y]=(0,l.useState)(""),[I,O]=(0,l.useState)(),P=async()=>{try{c(!0);let[e,a,r,l]=await Promise.all([(0,h.sK)(),(0,h._P)(),(0,h.O7)(),(0,h.qb)()]),i={};await Promise.all(e.map(async e=>{try{let s=await (0,h.rO)(e.id);s&&(i[e.id]=s)}catch(s){console.error(`Puan hedefi \xe7ekilemedi (${e.id}):`,s),i[e.id]=450}})),s(e),t(a),n(r),v(l),L(i)}catch(e){console.error("Data loading error:",e),K("Veriler y\xfcklenirken hata oluÅŸtu","error")}finally{c(!1)}},H=async()=>{try{let[e,a,r]=await Promise.all([(0,h.sK)(),(0,h._P)(),(0,h.O7)()]);s(e),t(a),n(r)}catch(e){console.error("Firebase data load error:",e)}},K=(e,s)=>{u({message:e,type:s}),setTimeout(()=>u(null),4e3)},G=()=>{let s=(0,l.useMemo)(()=>e.map(e=>{let s=i.filter(s=>s.studentId===e.id).sort((e,s)=>{let t=a.find(s=>s.id===e.examId),r=a.find(e=>e.id===s.examId);return t&&r?new Date(r.date).getTime()-new Date(t.date).getTime():0}),t=s.length,r=t>0?s.reduce((e,s)=>{let a=Object.entries(s.nets||{}).filter(([e])=>"total"!==e).reduce((e,[,s])=>e+(Number(s)||0),0);return e+a},0)/t:0;"Åž\xfckr\xfcye AkpÄ±nar"===e.name&&console.log(`âœ… Åž\xdcKR\xdcYE FINAL (Ders BazÄ±nda): avgNet = ${r.toFixed(2)}`);let l=s[0],n=l?a.find(e=>e.id===l.examId):null;return{...e,totalExams:t,avgNet:r,avgPuan:t>0?(()=>{let e=[];return s.forEach(s=>{if(null!=s.puan&&s.puan>0&&e.push(Number(s.puan)),s.scores?.puan!=null){let a="string"==typeof s.scores.puan?parseFloat(s.scores.puan):s.scores.puan;a>0&&e.push(a)}}),e.length>0?e.reduce((e,s)=>e+s,0)/e.length:0})():0,lastExam:n?.title||"Deneme yok",lastDate:n?new Date(n.date).toLocaleDateString("tr-TR"):"N/A",lastNet:l?Object.entries(l.nets||{}).filter(([e])=>"total"!==e).reduce((e,[,s])=>e+(Number(s)||0),0):0}}),[e,i,a]),t=(0,l.useMemo)(()=>{let e=s.reduce((e,s)=>(e[s.class]||(e[s.class]=[]),e[s.class].push(s),e),{}),a={};return Object.entries(e).forEach(([e,s])=>{a[e]=s.sort((e,s)=>s.avgNet-e.avgNet).slice(0,5)}),a},[s]),n=(0,l.useMemo)(()=>{let e=s.reduce((e,s)=>(e[s.class]||(e[s.class]=[]),e[s.class].push(s),e),{}),a={};return Object.entries(e).forEach(([e,s])=>{a[e]=s.sort((e,s)=>s.avgPuan-e.avgPuan).slice(0,5)}),a},[s]),d=(0,l.useMemo)(()=>[...a].sort((e,s)=>new Date(s.date).getTime()-new Date(e.date).getTime()).slice(0,3),[a]),c=(0,l.useMemo)(()=>{let s=e.length,t=a.length,r=i.length,l=e.reduce((e,s)=>e+(s.viewCount||0),0),n=e.filter(e=>(e.viewCount||0)>0).length;return{totalStudents:s,totalExams:t,totalResults:r,avgStudentsPerExam:t>0?Math.round(r/t):0,totalViews:l,activeStudents:n,avgViewsPerStudent:s>0?Math.round(l/s):0}},[e,a,i]);return(0,r.jsxs)("div",{className:"space-y-8",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white",children:(0,r.jsxs)("div",{className:"flex items-center gap-6",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("img",{src:"/projelogo.png",alt:"Proje Logo",className:"w-20 h-20 object-contain"})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-4xl font-bold mb-2",children:"\uD83D\uDCCA BaÅŸarÄ± Takip Sistemi"}),r.jsx("p",{className:"text-blue-100 text-sm",children:"\xd6ÄŸrencilerinizin akademik baÅŸarÄ±larÄ±nÄ± takip edin ve analiz edin"})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[r.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-500 text-xs",children:"Toplam \xd6ÄŸrenci"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalStudents})]}),r.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:r.jsx("span",{className:"text-xl",children:"\uD83D\uDC65"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-500 text-xs",children:"Toplam Deneme"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalExams})]}),r.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:r.jsx("span",{className:"text-xl",children:"\uD83D\uDCCB"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-500 text-xs",children:"Toplam Sonu\xe7"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalResults})]}),r.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:r.jsx("span",{className:"text-xl",children:"\uD83D\uDCCA"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-500 text-xs",children:"Toplam G\xf6r\xfcnt\xfclenme"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.totalViews})]}),r.jsx("div",{className:"bg-yellow-100 p-2 rounded-full",children:r.jsx("span",{className:"text-xl",children:"\uD83D\uDC41ï¸"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-500 text-xs",children:"Aktif \xd6ÄŸrenci"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.activeStudents})]}),r.jsx("div",{className:"bg-indigo-100 p-2 rounded-full",children:r.jsx("span",{className:"text-xl",children:"âœ…"})})]})}),r.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-500 text-xs",children:"Ort. G\xf6r\xfcnt\xfclenme"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:c.avgViewsPerStudent})]}),r.jsx("div",{className:"bg-cyan-100 p-2 rounded-full",children:r.jsx("span",{className:"text-xl",children:"\uD83D\uDCC8"})})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("h3",{className:"text-xs font-semibold text-gray-800 flex items-center gap-3",children:[r.jsx("span",{className:"bg-yellow-100 p-2 rounded-lg",children:"\uD83C\uDFC6"}),"En BaÅŸarÄ±lÄ± \xd6ÄŸrenciler (Ortalama Net)"]})}),r.jsx("div",{className:"space-y-6",children:Object.keys(t).length>0?Object.entries(t).map(([e,s])=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 px-4 py-3 border-b border-gray-200",children:(0,r.jsxs)("h4",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx("span",{className:"bg-green-100 p-1 rounded text-xs",children:"\uD83C\uDFAF"}),e]})}),r.jsx("div",{className:"p-4 space-y-3",children:s.length>0?s.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 text-white rounded-full w-6 h-6 flex items-center justify-center font-bold text-xs",children:s+1}),r.jsx("div",{children:r.jsx("p",{className:"font-medium text-gray-900 text-sm",children:e.name})})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-sm font-bold text-green-600",children:[(e.avgNet||0).toFixed(2)," net"]}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:[e.totalExams," deneme"]})]})]},e.id)):r.jsx("p",{className:"text-gray-500 text-center py-4 text-sm",children:"Bu sÄ±nÄ±fta hen\xfcz deneme sonucu bulunmamaktadÄ±r."})})]},e)):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"Hen\xfcz sonu\xe7 bulunmamaktadÄ±r."})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:(0,r.jsxs)("h3",{className:"text-xs font-semibold text-gray-800 flex items-center gap-3",children:[r.jsx("span",{className:"bg-purple-100 p-2 rounded-lg",children:"\uD83C\uDFC5"}),"En BaÅŸarÄ±lÄ± \xd6ÄŸrenciler (Ortalama Puan)"]})}),r.jsx("div",{className:"space-y-6",children:Object.keys(n).length>0?Object.entries(n).map(([e,s])=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 px-4 py-3 border-b border-gray-200",children:(0,r.jsxs)("h4",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[r.jsx("span",{className:"bg-purple-100 p-1 rounded text-xs",children:"\uD83C\uDFAF"}),e]})}),r.jsx("div",{className:"p-4 space-y-3",children:s.length>0?s.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-pink-500 text-white rounded-full w-6 h-6 flex items-center justify-center font-bold text-xs",children:s+1}),r.jsx("div",{children:r.jsx("p",{className:"font-medium text-gray-900 text-sm",children:e.name})})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-sm font-bold text-purple-600",children:[(e.avgPuan||0).toFixed(0)," puan"]}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:[e.totalExams," deneme"]})]})]},e.id)):r.jsx("p",{className:"text-gray-500 text-center py-4 text-sm",children:"Bu sÄ±nÄ±fta hen\xfcz deneme sonucu bulunmamaktadÄ±r."})})]},e)):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"Hen\xfcz sonu\xe7 bulunmamaktadÄ±r."})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsxs)("h3",{className:"text-xs font-semibold text-gray-800 flex items-center gap-3",children:[r.jsx("span",{className:"bg-blue-100 p-2 rounded-lg",children:"\uD83D\uDCCB"}),"Son Eklenen Denemeler"]})}),r.jsx("div",{className:"p-6",children:d.length>0?r.jsx("div",{className:"space-y-4",children:d.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:e.title}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:[new Date(e.date).toLocaleDateString("tr-TR")," â€¢ ",e.classes?.join(", ")||"T\xfcm sÄ±nÄ±flar"]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[i.filter(s=>s.examId===e.id).length," sonu\xe7"]})]},e.id))}):r.jsx("p",{className:"text-gray-500 text-center py-8",children:"Hen\xfcz deneme bulunmamaktadÄ±r."})})]})]})},$=()=>{let[s,a]=(0,l.useState)(!1),[t,i]=(0,l.useState)(null),[n,d]=(0,l.useState)({name:"",class:"",number:"0",viewCount:0,lastViewDate:new Date().toISOString()}),[c,o]=(0,l.useState)(!1),[m,x]=(0,l.useState)(!1),u=async()=>{if(!n.name.trim()||!n.class){K("L\xfctfen t\xfcm alanlarÄ± doldurun","error");return}try{o(!0);let e={name:n.name.trim(),class:n.class,number:n.number||"0",viewCount:0,lastViewDate:new Date().toISOString(),createdAt:new Date().toISOString()};await (0,h.tS)(e),await P(),d({name:"",class:"",number:"0",viewCount:0,lastViewDate:new Date().toISOString()}),a(!1),K("\xd6ÄŸrenci baÅŸarÄ±yla eklendi! (PIN otomatik atandÄ±)","success")}catch(e){console.error("Add student error:",e),K("\xd6ÄŸrenci eklenirken hata oluÅŸtu","error")}finally{o(!1)}},g=async()=>{if(confirm("T\xfcm \xf6ÄŸrencilere otomatik PIN atanacak. Devam etmek istiyor musunuz?"))try{x(!0);let e=await (0,h.bK)();await P(),0===e.errors.length?K(`âœ… ${e.updated} \xf6ÄŸrenciye baÅŸarÄ±yla PIN atandÄ±!`,"success"):(K(`âš ï¸ ${e.updated} \xf6ÄŸrenciye PIN atandÄ±, ${e.errors.length} hata oluÅŸtu`,"info"),console.log("Hatalar:",e.errors))}catch(e){console.error("PIN atama hatasÄ±:",e),K("PIN atama iÅŸlemi sÄ±rasÄ±nda hata oluÅŸtu","error")}finally{x(!1)}},p=async()=>{if(!t||!n.name.trim()||!n.class){K("L\xfctfen t\xfcm alanlarÄ± doldurun","error");return}try{o(!0);let e={name:n.name.trim(),class:n.class,number:n.number||"0"};await (0,h.Gc)(t.id,e),await P(),i(null),d({name:"",class:"",number:"0",viewCount:0,lastViewDate:new Date().toISOString()}),K("\xd6ÄŸrenci baÅŸarÄ±yla g\xfcncellendi!","success")}catch(e){console.error("Update student error:",e),K("\xd6ÄŸrenci g\xfcncellenirken hata oluÅŸtu","error")}finally{o(!1)}},b=async e=>{if(confirm(`${e.name} \xf6ÄŸrencisini silmek istediÄŸinizden emin misiniz?`))try{await (0,h.MA)(e.id),await P(),K("\xd6ÄŸrenci baÅŸarÄ±yla silindi!","success")}catch(e){console.error("Delete student error:",e),K("\xd6ÄŸrenci silinirken hata oluÅŸtu","error")}},y=e=>{i(e),d({name:e.name,class:e.class,number:e.number||"0",viewCount:e.viewCount||0,lastViewDate:e.lastViewDate||new Date().toISOString()}),a(!0)};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl p-8 text-white",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"\uD83C\uDF93 \xd6ÄŸrenci Y\xf6netimi"}),r.jsx("p",{className:"text-indigo-100 text-xs",children:"\xd6ÄŸrenci bilgilerini ekleyin, d\xfczenleyin ve y\xf6netin"})]}),s&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-xs font-semibold text-gray-800 mb-4",children:t?"\xd6ÄŸrenci D\xfczenle":"Yeni \xd6ÄŸrenci Ekle"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"\xd6ÄŸrenci AdÄ± *"}),r.jsx("input",{type:"text",value:n.name,onChange:e=>d(s=>({...s,name:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"\xd6ÄŸrenci adÄ±nÄ± girin",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"SÄ±nÄ±f *"}),(0,r.jsxs)("select",{value:n.class,onChange:e=>d(s=>({...s,class:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[r.jsx("option",{value:"",children:"SÄ±nÄ±f se\xe7in"}),D.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Numara"}),r.jsx("input",{type:"text",value:n.number,onChange:e=>d(s=>({...s,number:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"\xd6ÄŸrenci numarasÄ±"})]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:t?p:u,disabled:c,className:"bg-indigo-500 text-white px-6 py-2 rounded-lg hover:bg-indigo-600 transition-colors disabled:opacity-50",children:c?"Kaydediliyor...":t?"G\xfcncelle":"Kaydet"}),r.jsx("button",{onClick:()=>{i(null),a(!1),d({name:"",class:"",number:"0",viewCount:0,lastViewDate:new Date().toISOString()})},disabled:c,className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Ä°ptal"})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"\xd6ÄŸrenci Listesi"}),(0,r.jsxs)("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:g,disabled:m,className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 text-sm",children:m?"\uD83D\uDD04 PIN AtanÄ±yor...":"\uD83D\uDD10 T\xfcm \xd6ÄŸrencilere PIN Ata"}),r.jsx("button",{onClick:()=>a(!0),className:"bg-indigo-500 text-white px-6 py-2 rounded-lg hover:bg-indigo-600 transition-colors",children:"+ Yeni \xd6ÄŸrenci"})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6",children:D.map(s=>{let a=e.filter(e=>e.class===s).length;return(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:a}),(0,r.jsxs)("div",{className:"text-xs text-gray-600",children:[s," SÄ±nÄ±fÄ±"]})]},s)})}),r.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:D.map(s=>{let a=e.filter(e=>e.class===s),t=s.split("-")[0];return(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:`px-6 py-4 border-b border-gray-200 ${"8"===t?"bg-gradient-to-r from-red-50 to-red-100":"7"===t?"bg-gradient-to-r from-orange-50 to-orange-100":"6"===t?"bg-gradient-to-r from-yellow-50 to-yellow-100":"bg-gradient-to-r from-blue-50 to-blue-100"}`,children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white ${"8"===t?"bg-red-500":"7"===t?"bg-orange-500":"6"===t?"bg-yellow-500":"bg-blue-500"}`,children:t}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:s}),(0,r.jsxs)("p",{className:"text-xs text-gray-600",children:[a.length," \xf6ÄŸrenci"]})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("div",{className:"text-xs text-gray-500",children:a.length>0?"âœ… Aktif":"â³ BoÅŸ"})})]})}),r.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.length>0?r.jsx("div",{className:"p-4 space-y-2",children:a.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-medium text-gray-600",children:e.name.charAt(0).toUpperCase()}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xs font-medium text-gray-900",children:e.name}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["No: ",e.number]}),e.pin&&(0,r.jsxs)("div",{className:"text-xs text-blue-600 font-medium",children:["PIN: ",e.pin]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xs text-gray-500",children:e.createdAt?new Date(e.createdAt).toLocaleDateString("tr-TR"):"N/A"}),(0,r.jsxs)("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>y(e),className:"text-xs px-2 py-1 text-indigo-600 hover:text-indigo-800 bg-indigo-50 hover:bg-indigo-100 rounded transition-colors",children:"D\xfczenle"}),r.jsx("button",{onClick:()=>b(e),className:"text-xs px-2 py-1 text-red-600 hover:text-red-800 bg-red-50 hover:bg-red-100 rounded transition-colors",children:"Sil"})]})]})]},e.id))}):(0,r.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[r.jsx("div",{className:"text-4xl mb-2",children:"\uD83D\uDC65"}),r.jsx("p",{className:"text-xs",children:"Bu sÄ±nÄ±fta hen\xfcz \xf6ÄŸrenci bulunmuyor"}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"\xd6ÄŸrenci eklemek i\xe7in yukarÄ±daki formu kullanÄ±n"})]})})]},s)})}),r.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-6 text-white",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-3xl font-bold",children:e.length}),r.jsx("div",{className:"text-indigo-100",children:"Toplam \xd6ÄŸrenci"})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-3xl font-bold",children:new Set(e.map(e=>e.class)).size}),r.jsx("div",{className:"text-indigo-100",children:"Aktif SÄ±nÄ±f"})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-3xl font-bold",children:Math.round(e.length/Math.max(new Set(e.map(e=>e.class)).size,1))}),r.jsx("div",{className:"text-indigo-100",children:"Ortalama SÄ±nÄ±f \xd6ÄŸrenci"})]})]})})]})]})},V=()=>{let[e,s]=(0,l.useState)(!1),[t,n]=(0,l.useState)(null),[d,c]=(0,l.useState)({title:"",date:new Date().toISOString().split("T")[0],classes:[]}),[o,m]=(0,l.useState)({}),[x,u]=(0,l.useState)(!1),g=async()=>{if(!d.title.trim()||!d.date){K("L\xfctfen t\xfcm alanlarÄ± doldurun","error");return}try{u(!0);let e={title:d.title.trim(),date:d.date,classes:d.classes.length>0?d.classes:void 0,generalAverages:Object.keys(o).length>0?o:void 0};await (0,h.rd)(e),await P(),c({title:"",date:new Date().toISOString().split("T")[0],classes:[]}),s(!1),K("Deneme baÅŸarÄ±yla eklendi!","success")}catch(e){console.error("Add exam error:",e),K("Deneme eklenirken hata oluÅŸtu","error")}finally{u(!1)}},p=async()=>{if(!t||!d.title.trim()||!d.date){K("L\xfctfen t\xfcm alanlarÄ± doldurun","error");return}try{u(!0);let e={title:d.title.trim(),date:d.date,classes:d.classes.length>0?d.classes:void 0,generalAverages:Object.keys(o).length>0?o:void 0};await (0,h.w0)(t.id,e),await P(),n(null),c({title:"",date:new Date().toISOString().split("T")[0],classes:[]}),s(!1),K("Deneme baÅŸarÄ±yla g\xfcncellendi!","success")}catch(e){console.error("Update exam error:",e),K("Deneme g\xfcncellenirken hata oluÅŸtu","error")}finally{u(!1)}},b=async e=>{if(confirm(`${e.title} denemesini silmek istediÄŸinizden emin misiniz?`))try{await (0,h.ZH)(e.id),await P(),K("Deneme baÅŸarÄ±yla silindi!","success")}catch(e){console.error("Delete exam error:",e),K("Deneme silinirken hata oluÅŸtu","error")}},y=e=>{n(e),c({title:e.title,date:e.date,classes:e.classes||[]}),m(e.generalAverages||{}),s(!0)},j=e=>{c(s=>({...s,classes:s.classes.includes(e)?s.classes.filter(s=>s!==e):[...s.classes,e]}))},f=(e,s,a)=>{m(t=>({...t,[e]:{...t[e],[s]:a}}))},N=(e,s)=>{m(a=>({...a,[e]:{...a[e],generalScore:s}}))};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl p-8 text-white",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"\uD83D\uDCCB Deneme Y\xf6netimi"}),r.jsx("p",{className:"text-emerald-100 text-xs",children:"Deneme bilgilerini ekleyin, d\xfczenleyin ve y\xf6netin"})]}),e&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-xs font-semibold text-gray-800 mb-4",children:t?"Deneme D\xfczenle":"Yeni Deneme Ekle"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Deneme AdÄ± *"}),r.jsx("input",{type:"text",value:d.title,onChange:e=>c(s=>({...s,title:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Deneme adÄ±nÄ± girin",required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Deneme Tarihi *"}),r.jsx("input",{type:"date",value:d.date,onChange:e=>c(s=>({...s,date:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Hedef SÄ±nÄ±flar (Ä°steÄŸe baÄŸlÄ±)"}),r.jsx("div",{className:"grid grid-cols-4 md:grid-cols-8 gap-2",children:D.map(e=>(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",checked:d.classes.includes(e),onChange:()=>j(e),className:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"}),r.jsx("span",{className:"text-xs text-gray-700",children:e})]},e))}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"BoÅŸ bÄ±rakÄ±lÄ±rsa t\xfcm sÄ±nÄ±flar i\xe7in ge\xe7erli olur"})]}),d.classes.length>0&&(0,r.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("div",{className:"mb-4",children:r.jsx("h4",{className:"text-lg font-semibold text-blue-800",children:"\uD83D\uDCCA Genel Ortalama Bilgileri"})}),d.classes.length>0&&(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("p",{className:"text-xs text-blue-700",children:"\uD83D\uDCCB Her sÄ±nÄ±f i\xe7in genel ortalamalarÄ± girin. Bu bilgiler \xfc\xe7l\xfc kÄ±yaslama yorumlayÄ±cÄ±sÄ±nda kullanÄ±lacak."}),d.classes.map(e=>{let s=o[e]||{generalScore:0},a=w(e);return(0,r.jsxs)("div",{className:"bg-white p-4 rounded border border-blue-200",children:[(0,r.jsxs)("h5",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[r.jsx("span",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 text-xs font-bold mr-2",children:e}),e," SÄ±nÄ±fÄ± Genel OrtalamalarÄ±"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 mb-4",children:a.sort((e,s)=>{let a={turkce:1,sosyal:2,din:3,ingilizce:4,matematik:5,fen:6};return(a[e.key]||999)-(a[s.key]||999)}).map(a=>(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("label",{className:"block text-xs font-medium text-gray-600",children:[a.label," Net"]}),r.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:s[a.key]||"",onChange:s=>f(e,a.key,Number(s.target.value)||0),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0,00"},`avg-${e}-${a.key}`)]},a.key))}),(0,r.jsxs)("div",{className:"pt-3 border-t border-gray-200",children:[(0,r.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["\uD83C\uDF86 ",e," Genel Puan OrtalamasÄ±"]}),r.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:s.generalScore||"",onChange:s=>N(e,Number(s.target.value)||0),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0,00"},`gen-${e}`)]})]},e)})]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:t?p:g,disabled:x,className:"bg-emerald-500 text-white px-6 py-2 rounded-lg hover:bg-emerald-600 transition-colors disabled:opacity-50",children:x?"Kaydediliyor...":t?"G\xfcncelle":"Kaydet"}),r.jsx("button",{onClick:()=>{n(null),s(!1),c({title:"",date:new Date().toISOString().split("T")[0],classes:[]}),m({})},disabled:x,className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Ä°ptal"})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Deneme Listesi"}),r.jsx("button",{onClick:()=>s(!0),className:"bg-emerald-500 text-white px-6 py-2 rounded-lg hover:bg-emerald-600 transition-colors",children:"+ Yeni Deneme"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deneme"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tarih"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SÄ±nÄ±flar"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sonu\xe7 SayÄ±sÄ±"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ä°ÅŸlemler"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-xs font-medium text-gray-900",children:e.title})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleDateString("tr-TR")})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-xs text-gray-500",children:e.classes&&e.classes.length>0?e.classes.join(", "):"T\xfcm sÄ±nÄ±flar"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-xs text-gray-500",children:i.filter(s=>s.examId===e.id).length})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-xs font-medium",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>y(e),className:"text-emerald-600 hover:text-emerald-900",children:"D\xfczenle"}),r.jsx("button",{onClick:()=>b(e),className:"text-red-600 hover:text-red-900",children:"Sil"})]})})]},e.id))})]})}),0===a.length&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:"Hen\xfcz deneme bulunmamaktadÄ±r."})]})]})},R=()=>{let[s,t]=(0,l.useState)(""),[n,d]=(0,l.useState)({studentId:"",examId:"",puan:"",scores:{}}),[c,o]=(0,l.useState)([]),[m,x]=(0,l.useState)([]),[u,g]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(s){let t=e.filter(e=>i.filter(s=>s.studentId===e.id).filter(e=>{let s=e.nets?.total||0,a=e.scores?.puan?parseFloat(e.scores.puan):e.puan||e.totalScore||0;return s>0||a>0}).length>0).filter(e=>e.class===s);o(t);let r=a.filter(e=>!e.classes||e.classes.includes(s)||0===e.classes.length);x(r),d({studentId:"",examId:"",puan:"",scores:{}})}else o([]),x([])},[s,e,a]),(0,l.useEffect)(()=>{if(n.studentId&&n.examId&&s&&c.find(e=>e.id===n.studentId)){let e=w(s),a=i.find(e=>e.studentId===n.studentId&&e.examId===n.examId),t=e.reduce((e,s)=>(a&&a.scores&&a.scores[s.key]?e[s.key]={D:a.scores[s.key].D||"",Y:a.scores[s.key].Y||"",B:a.scores[s.key].B||""}:e[s.key]={D:"",Y:"",B:""},e),{});d(e=>({...e,puan:a.scores.puan||"",scores:t}))}},[n.studentId,n.examId,s,c,i]);let p=(0,l.useCallback)((e,s,a)=>{d(t=>({...t,scores:{...t.scores,[e]:{...t.scores[e],[s]:a}}}))},[]),b=(0,l.useCallback)(()=>{let e=n.scores,s=0,a=0,t=0,r=0;Object.values(e).forEach(e=>{let l=parseInt(e.D)||0,i=parseInt(e.Y)||0,n=parseInt(e.B)||0,d=C(l,i);s+=l,a+=i,t+=n,r+=d});let l=parseFloat(n.puan)||0;return{totalD:s,totalY:a,totalB:t,totalNet:Number(r.toFixed(2)),totalP:l}},[n.scores,n.puan]),y=async()=>{if(!n.studentId||!n.examId){K("L\xfctfen \xf6ÄŸrenci ve deneme se\xe7in","error");return}let e=b();try{g(!0);let s={total:e.totalNet};Object.entries(n.scores).forEach(([e,a])=>{let t=parseInt(a.D)||0,r=parseInt(a.Y)||0;s[e]=C(t,r)});let a={studentId:n.studentId,examId:n.examId,nets:s,scores:{...n.scores,puan:n.puan||"0"}},t=i.find(e=>e.studentId===n.studentId&&e.examId===n.examId);t?await (0,h.cW)(t.id,a):await (0,h.f6)(a),await P(),d({studentId:"",examId:"",puan:"",scores:{}}),K("Bireysel sonu\xe7 baÅŸarÄ±yla kaydedildi!","success")}catch(e){console.error("Individual result error:",e),K("Sonu\xe7 kaydedilirken hata oluÅŸtu","error")}finally{g(!1)}},j=b();return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-600 rounded-2xl p-8 text-white",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"\uD83D\uDC68â€\uD83C\uDF93 Bireysel Veri GiriÅŸi"}),r.jsx("p",{className:"text-blue-100 text-xs",children:"\xd6ÄŸrencilerin tek tek deneme sonu\xe7larÄ±nÄ± girin ve analiz edin"})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),y()},className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"SÄ±nÄ±f Se\xe7in *"}),(0,r.jsxs)("select",{value:s,onChange:e=>t(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[r.jsx("option",{value:"",children:"SÄ±nÄ±f se\xe7in"}),D.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),s&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"\xd6ÄŸrenci Se\xe7in *"}),(0,r.jsxs)("select",{value:n.studentId,onChange:e=>d(s=>({...s,studentId:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[r.jsx("option",{value:"",children:"\xd6ÄŸrenci se\xe7in"}),c.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," (",e.number,")"]},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Deneme Se\xe7in *"}),(0,r.jsxs)("select",{value:n.examId,onChange:e=>d(s=>({...s,examId:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[r.jsx("option",{value:"",children:"Deneme se\xe7in"}),m.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.title," (",new Date(e.date).toLocaleDateString("tr-TR"),")"]},e.id))]})]})]}),n.studentId&&n.examId&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-xs font-semibold text-gray-800",children:"Net Hesaplama"}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:w(s).map(e=>(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[r.jsx("h4",{className:"font-medium text-gray-800 mb-3",children:e.label}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"DoÄŸru (D)"}),r.jsx("input",{type:"number",min:"0",value:n.scores[e.key]?.D||"",onChange:s=>p(e.key,"D",s.target.value),className:"w-full px-3 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"0"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"YanlÄ±ÅŸ (Y)"}),r.jsx("input",{type:"number",min:"0",value:n.scores[e.key]?.Y||"",onChange:s=>p(e.key,"Y",s.target.value),className:"w-full px-3 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"0"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"BoÅŸ (B)"}),r.jsx("input",{type:"number",min:"0",value:n.scores[e.key]?.B||"",onChange:s=>p(e.key,"B",s.target.value),className:"w-full px-3 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"0"})]}),r.jsx("div",{className:"pt-2 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"text-xs font-bold text-blue-600",children:["Net: ",C(parseInt(n.scores[e.key]?.D||"0"),parseInt(n.scores[e.key]?.Y||"0")).toFixed(2)]})})]})]},e.key))}),(0,r.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[r.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"\uD83C\uDFAF Toplam Puan (Puan TabanÄ±nda)"}),(0,r.jsxs)("div",{className:"max-w-md",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"\xd6ÄŸrencinin Toplam PuanÄ±"}),r.jsx("input",{type:"number",step:"0.01",min:"0",value:n.puan||"",onChange:e=>d(s=>({...s,puan:e.target.value})),className:"w-full px-3 py-2 text-lg border border-yellow-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500",placeholder:"\xd6ÄŸrencinin toplam puanÄ±nÄ± girin"}),r.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Puan alanÄ±nÄ± manuel giriniz"})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[r.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Toplam Ä°statistikler"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-center",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:j.totalD}),r.jsx("div",{className:"text-xs text-blue-700",children:"Toplam DoÄŸru"})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:j.totalY}),r.jsx("div",{className:"text-xs text-red-700",children:"Toplam YanlÄ±ÅŸ"})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-gray-600",children:j.totalB}),r.jsx("div",{className:"text-xs text-gray-700",children:"Toplam BoÅŸ"})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:j.totalP}),r.jsx("div",{className:"text-xs text-yellow-700",children:"Toplam Puan"})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:j.totalNet}),r.jsx("div",{className:"text-xs text-green-700",children:"Toplam Net"})]})]})]})]}),n.studentId&&n.examId&&r.jsx("div",{className:"flex justify-center",children:r.jsx("button",{type:"submit",disabled:u,className:`px-8 py-3 rounded-lg font-semibold transition-colors ${u?"bg-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:u?"Kaydediliyor...":"\uD83D\uDCBE Sonu\xe7larÄ± Kaydet"})})]})})]})},U=()=>{let[s,a]=(0,l.useState)(""),[t,n]=(0,l.useState)(""),[d,c]=(0,l.useState)({}),[o,m]=(0,l.useState)(0),[x,u]=(0,l.useState)(!1),g=e.find(e=>e.id===t),p=(0,l.useMemo)(()=>g?j(g.class):[],[g]);(0,l.useEffect)(()=>{t?(async()=>{try{let e=(0,h.JU)(h.db,"targets",t),s=await (0,h.QT)(e);if(s.exists()){let e=s.data(),a=e.targets||{},t=(0,h.M3)(a),r=e.targetScore||0,l={};p.forEach(e=>{l[e.key]=t[e.key]||0}),console.log("\uD83D\uDCCA Fresh hedefler y\xfcklendi - Panel:",l),console.log("\uD83C\uDFAF Fresh puan hedefi:",r),c(l),m(r)}else{let e={};p.forEach(s=>{e[s.key]=0}),c(e),m(0),console.log("\uD83D\uDCCB Hedef bulunamadÄ±, varsayÄ±lan deÄŸerler y\xfcklendi")}}catch(s){console.error("Fresh target load error:",s);let e={};p.forEach(s=>{e[s.key]=0}),c(e),m(450)}})():(c({}),m(450))},[t]);let b=(e,s)=>{c(a=>({...a,[e]:s}))},f=async()=>{if(!t){K("L\xfctfen bir \xf6ÄŸrenci se\xe7in","error");return}try{u(!0),await (0,h.Oh)(t,d,o);let e=(0,h.FP)(d);v(s=>({...s,[t]:e})),L(e=>({...e,[t]:o})),K("Hedefler baÅŸarÄ±yla kaydedildi!","success")}catch(e){console.error("Target save error:",e),K("Hedefler kaydedilirken hata oluÅŸtu","error")}finally{u(!1)}},N=(()=>{if(!t||0===i.length)return p.reduce((e,s)=>(e[s.key]=0,e),{});let e=i.filter(e=>e.studentId===t);if(0===e.length)return p.reduce((e,s)=>(e[s.key]=0,e),{});e.length;let s={};return p.forEach(a=>{let t=[];e.forEach((e,s)=>{if(e.scores&&e.scores[a.key]){let s=e.scores[a.key],r=parseInt(s.D)||0,l=parseInt(s.Y)||0,i=C(r,l);i>0&&t.push(i)}});let r=t.filter(e=>e>0),l=r.length>0?r.reduce((e,s)=>e+s,0)/r.length:0;s[a.key]=l}),s})(),k=(()=>{if(!t||0===i.length)return p.reduce((e,s)=>(e[s.key]=0,e),{});let e=i.filter(e=>e.studentId===t);if(0===e.length)return p.reduce((e,s)=>(e[s.key]=0,e),{});let s=e[e.length-1],a={};return p.forEach(e=>{if(s.scores&&s.scores[e.key]){let t=parseInt(s.scores[e.key].D)||0,r=parseInt(s.scores[e.key].Y)||0,l=C(t,r);a[e.key]=l}else a[e.key]=0}),a})(),D=Object.values(N).reduce((e,s)=>e+s,0),w=Object.values(d).reduce((e,s)=>e+s,0),S=w-D;return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl p-8 text-white",children:[r.jsx("h1",{className:"text-3xl font-bold mb-2",children:"\uD83C\uDFAF Hedef Belirleme"}),r.jsx("p",{className:"text-purple-100 text-xs",children:"\xd6ÄŸrenciler i\xe7in ders bazÄ±nda hedef net belirleyin ve takip edin"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-xs font-semibold text-gray-800 mb-4",children:"Se\xe7im YapÄ±n"}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-2",children:"SÄ±nÄ±f Se\xe7in"}),(0,r.jsxs)("select",{value:s,onChange:e=>{a(e.target.value),n("")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"",children:"SÄ±nÄ±f se\xe7in"}),Array.from(new Set(e.map(e=>e.class))).map(e=>r.jsx("option",{value:e,children:e},e))]})]}),s&&(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs text-gray-600 mb-2",children:"\xd6ÄŸrenci Se\xe7in"}),(0,r.jsxs)("select",{value:t,onChange:e=>n(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"",children:"\xd6ÄŸrenci se\xe7in"}),e.filter(e=>i.filter(s=>s.studentId===e.id).filter(e=>{let s=e.nets?.total||0,a=e.scores?.puan?parseFloat(e.scores.puan):e.puan||e.totalScore||0;return s>0||a>0}).length>0).filter(e=>e.class===s).map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]})]}),!t&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83C\uDFAF"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Hedef Belirleme"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Bir \xf6ÄŸrenci se\xe7erek ders hedeflerini belirleyebilir ve mevcut durumunu g\xf6r\xfcnt\xfcleyebilirsiniz."}),r.jsx("p",{className:"text-sm text-gray-500",children:"YukarÄ±dan bir sÄ±nÄ±f ve \xf6ÄŸrenci se\xe7in"})]}),t&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl shadow-sm p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4",children:["\uD83C\uDFAF ",e.find(e=>e.id===t)?.name," - LGS Puan Hedefi"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Hedef Puan"}),r.jsx("input",{type:"number",min:"100",max:"500",value:o,onChange:e=>{let s=Number(e.target.value)||0;m(s)},className:"w-full px-4 py-3 border border-white/20 rounded-lg bg-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50",placeholder:"Hedef puanÄ±nÄ±zÄ± girin (100-500)"})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:["\uD83D\uDCDA ",e.find(e=>e.id===t)?.name," - LGS Ders Hedefleri"]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:p.map(e=>(0,r.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg p-4 border border-blue-200 min-h-[280px] flex flex-col",children:[(0,r.jsxs)("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center text-sm",children:[r.jsx("span",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold mr-2",style:{backgroundColor:`${e.color}20`,color:e.color},children:e.name.charAt(0)}),e.name]}),(0,r.jsxs)("div",{className:"space-y-3 flex-grow",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Mevcut Durum"}),(0,r.jsxs)("div",{className:"bg-gray-100 p-2 rounded-lg space-y-1",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Ortalama:"}),r.jsx("span",{className:"text-xs font-bold text-gray-700",children:N[e.key]?.toFixed(1)||"0.0"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Son Deneme:"}),r.jsx("span",{className:"text-xs font-bold text-gray-700",children:k[e.key]?.toFixed(1)||"0.0"})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Mevcut Hedef"}),(0,r.jsxs)("div",{className:"bg-purple-100 p-2 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-xs text-purple-600",children:"Belirlenen:"}),r.jsx("span",{className:"text-xs font-bold text-purple-700",children:d[e.key]?.toFixed(1)||0})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-xs text-purple-600",children:"Fark:"}),(0,r.jsxs)("span",{className:`text-xs font-bold ${(d[e.key]||0)-(N[e.key]||0)>=0?"text-green-600":"text-red-600"}`,children:[(d[e.key]||0)-(N[e.key]||0)>=0?"+":"",((d[e.key]||0)-(N[e.key]||0)).toFixed(1)]})]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Yeni Hedef Net"}),r.jsx("input",{type:"number",min:"0",step:"0.5",value:d[e.key]||"",onChange:s=>b(e.key,Number(s.target.value)),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm font-semibold",placeholder:"0"})]}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"ArtÄ±ÅŸ:"}),(0,r.jsxs)("span",{className:`ml-1 font-bold text-xs ${(d[e.key]||0)-(N[e.key]||0)>=0?"text-green-600":"text-red-600"}`,children:[(d[e.key]||0)-(N[e.key]||0)>=0?"+":"",((d[e.key]||0)-(N[e.key]||0)).toFixed(1)," net"]})]}),r.jsx("div",{className:"mt-2",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(100,(d[e.key]||0)/20*100)}%`}})})})]})]},e.key))})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl p-8",children:[r.jsx("h4",{className:"text-2xl font-bold mb-6 text-center",children:"\uD83C\uDFC6 Toplam Hedef \xd6zeti"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[(0,r.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-6",children:[r.jsx("div",{className:"text-3xl font-bold mb-2",children:D}),r.jsx("div",{className:"text-purple-100 text-lg",children:"Mevcut Toplam Net"})]}),(0,r.jsxs)("div",{className:"bg-white bg-opacity-30 rounded-lg p-6 border-2 border-white",children:[r.jsx("div",{className:"text-4xl font-bold mb-2",children:w}),r.jsx("div",{className:"text-white text-xl",children:"Hedef Toplam Net"})]}),(0,r.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"text-3xl font-bold mb-2 text-yellow-300",children:[S>=0?"+":"",S.toFixed(1)]}),r.jsx("div",{className:"text-purple-100 text-lg",children:"Toplam ArtÄ±ÅŸ"})]})]}),(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs mb-2",children:[r.jsx("span",{children:"Mevcut Durum"}),r.jsx("span",{children:"Hedef"})]}),r.jsx("div",{className:"w-full bg-white bg-opacity-20 rounded-full h-4",children:r.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-green-400 h-4 rounded-full transition-all duration-500",style:{width:`${Math.min(100,D/w*100)}%`}})})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-4",children:"\uD83D\uDCCA SÄ±nÄ±f BazÄ±nda Hedef Belirleme"}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SÄ±nÄ±f Se\xe7in:"}),(0,r.jsxs)("select",{value:I||"",onChange:e=>O(e.target.value||void 0),className:"w-full max-w-xs px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[r.jsx("option",{value:"",children:"T\xfcm SÄ±nÄ±flar"}),Array.from(new Set(e.map(e=>e.class))).map(e=>r.jsx("option",{value:e,children:e},e))]})]}),r.jsx("div",{className:"text-xs text-gray-600",children:I?`${I} sÄ±nÄ±fÄ± i\xe7in hedef belirleme`:"T\xfcm sÄ±nÄ±flar i\xe7in hedef belirleme"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-xs font-semibold text-gray-800 mb-4",children:"\uD83D\uDCDD \xd6ÄŸrenci Hedefleri"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(I?e.filter(e=>i.filter(s=>s.studentId===e.id).filter(e=>{let s=e.nets?.total||0,a=e.scores?.puan?parseFloat(e.scores.puan):e.puan||e.totalScore||0;return s>0||a>0}).length>0).filter(e=>e.class===I):e.filter(e=>i.filter(s=>s.studentId===e.id).filter(e=>{let s=e.nets?.total||0,a=e.scores?.puan?parseFloat(e.scores.puan):e.puan||e.totalScore||0;return s>0||a>0}).length>0)).map(e=>{let s=y[e.id],a=s?Object.values(s).reduce((e,s)=>e+s,0):0;return(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium text-gray-800",children:e.name}),r.jsx("span",{className:"text-xs text-gray-500",children:e.class})]}),s?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"text-xs text-gray-600",children:["Toplam Hedef: ",r.jsx("span",{className:"font-bold text-purple-600",children:a.toFixed(1)})," net"]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${a/120*100}%`}})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>n(e.id),className:"text-xs px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"D\xfczenle"}),r.jsx("button",{onClick:()=>{let s={...y};delete s[e.id],v(s)},className:"text-xs px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:"Sil"})]})]}):r.jsx("button",{onClick:()=>n(e.id),className:"text-xs px-3 py-2 bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition-colors",children:"+ Hedef Belirle"})]},e.id)})})]}),r.jsx("div",{className:"text-center",children:r.jsx("button",{onClick:f,disabled:x||!t,className:`px-8 py-4 rounded-lg font-semibold text-lg transition-colors ${x||!t?"bg-gray-400 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700"}`,children:x?"Kaydediliyor...":"\uD83D\uDCBE Hedefleri Kaydet"})})]})]})},q=()=>{let[s,t]=(0,l.useState)(""),[n,d]=(0,l.useState)(""),[c,o]=(0,l.useState)({}),[m,x]=(0,l.useState)({}),[u,g]=(0,l.useState)(!1),[p,b]=(0,l.useState)([]),[y,j]=(0,l.useState)([]);(0,l.useEffect)(()=>{if(s){let t=e.filter(e=>e.class===s);b(t);let r=a.filter(e=>!e.classes||e.classes.includes(s)||0===e.classes.length);j(r);let l={};t.forEach(e=>{let s=w(e.class);l[e.id]=s.reduce((e,s)=>(e[s.key]={D:"",Y:"",B:""},e),{})}),o(l),d("")}else b([]),j([]),o({}),d("")},[s,e,a]),(0,l.useEffect)(()=>{n&&s&&p.length>0&&f()},[n,s,p.length]);let f=(0,l.useCallback)(()=>{try{if(!n)return;let e=p.map(e=>e.id),s=i.filter(s=>s.examId===n&&e.includes(s.studentId));if(s.length>0){let e={},a={};p.forEach(t=>{let r=s.find(e=>e.studentId===t.id),l=w(t.class);e[t.id]=l.reduce((e,s)=>(r&&r.scores&&r.scores[s.key]?e[s.key]={D:r.scores[s.key].D||"",Y:r.scores[s.key].Y||"",B:r.scores[s.key].B||""}:e[s.key]={D:"",Y:"",B:""},e),{}),r&&r.scores&&r.scores.puan&&(a[t.id]=r.scores.puan)}),o(e),x(a)}}catch(e){console.error("Load existing exam data error:",e),setTimeout(()=>{K("Mevcut veriler y\xfcklenirken hata oluÅŸtu","error")},100)}},[n,p,i,o,x]),N=(0,l.useCallback)((e,s,a,t)=>{o(r=>({...r,[e]:{...r[e],[s]:{...r[e][s],[a]:t}}}))},[]),v=(0,l.useCallback)(e=>{let s=0,a=0,t=0,r=0;return Object.values(e).forEach(e=>{let l=parseInt(e.D)||0,i=parseInt(e.Y)||0,n=parseInt(e.B)||0,d=C(l,i);s+=l,a+=i,t+=n,r+=d}),{totalD:s,totalY:a,totalB:t,totalNet:Number(r.toFixed(2))}},[]),k=(0,l.useCallback)(()=>{let e={totalD:0,totalY:0,totalB:0,totalNet:0},s=Object.values(c).filter(e=>v(e).totalNet>0),a=s.length;s.forEach(s=>{let a=v(s);e.totalD+=a.totalD,e.totalY+=a.totalY,e.totalB+=a.totalB,e.totalNet+=a.totalNet});let t=Object.values(m).map(e=>parseFloat(e)||0).filter(e=>e>0),r=t.reduce((e,s)=>e+s,0),l=t.length>0?r/t.length:0;return{totalD:a>0?Number((e.totalD/a).toFixed(2)):0,totalY:a>0?Number((e.totalY/a).toFixed(2)):0,totalB:a>0?Number((e.totalB/a).toFixed(2)):0,totalNet:a>0?Number((e.totalNet/a).toFixed(2)):0,averagePuan:Number(l.toFixed(2))}},[c,v,m]),S=async()=>{if(!s||!n){K("L\xfctfen sÄ±nÄ±f ve deneme se\xe7in","error");return}let a=Object.keys(c).length;try{g(!0);let t=i.filter(e=>e.examId===n);if(t.length>0){let a=t.filter(a=>{let t=e.find(e=>e.id===a.studentId);return t&&t.class===s});if(a.length>0){let e=a.map(e=>(0,h.MV)(e.id));await Promise.all(e)}}let r=Object.entries(c).map(async([e,s])=>{let a={total:v(s).totalNet};Object.entries(s).forEach(([e,s])=>{let t=parseInt(s.D)||0,r=parseInt(s.Y)||0;a[e]=C(t,r)});let t={studentId:e,examId:n,nets:a,scores:{...s,puan:m[e]||"0"}};return(0,h.f6)(t)});await Promise.all(r),await P(),K(`${a} \xf6ÄŸrenci i\xe7in sonu\xe7lar baÅŸarÄ±yla kaydedildi!`,"success")}catch(e){console.error("Bulk results error:",e),K("Sonu\xe7lar kaydedilirken hata oluÅŸtu","error")}finally{g(!1)}},A=k();return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-600 rounded-2xl p-6 text-white",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"\uD83D\uDC65 Toplu Veri GiriÅŸi"}),r.jsx("p",{className:"text-cyan-100 text-xs",children:"Birden fazla \xf6ÄŸrencinin deneme sonu\xe7larÄ±nÄ± aynÄ± anda girin"})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"SÄ±nÄ±f Se\xe7in *"}),(0,r.jsxs)("select",{value:s,onChange:e=>t(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",required:!0,children:[r.jsx("option",{value:"",children:"SÄ±nÄ±f se\xe7in"}),D.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Deneme Se\xe7in *"}),(0,r.jsxs)("select",{value:n,onChange:e=>d(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",required:!0,disabled:!s,children:[r.jsx("option",{value:"",children:"Deneme se\xe7in"}),y.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.title," (",new Date(e.date).toLocaleDateString("tr-TR"),")"]},e.id))]})]})]}),s&&n&&p.length>0&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h3",{className:"text-xs font-semibold text-gray-800",children:["\xd6ÄŸrenci Sonu\xe7 GiriÅŸi (",p.length," \xf6ÄŸrenci)"]}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full border border-gray-200 rounded-lg",style:{fontSize:"11px"},children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-2 py-1 text-left text-[10px] font-medium text-gray-700 border-b",children:"\xd6ÄŸrenci"}),w(s).map(e=>(0,r.jsxs)("th",{className:"px-1 py-1 text-center text-[10px] font-medium text-gray-700 border-b min-w-[100px]",children:[e.label,(0,r.jsxs)("div",{className:"text-[8px] text-gray-600 mt-0.5 font-semibold",children:[r.jsx("span",{className:"inline-block w-4 text-center",children:"D"}),r.jsx("span",{className:"inline-block w-4 text-center",children:"Y"}),r.jsx("span",{className:"inline-block w-4 text-center",children:"B"}),r.jsx("span",{className:"inline-block w-4 text-center",children:"N"})]})]},e.key)),r.jsx("th",{className:"px-2 py-1 text-center text-[10px] font-medium text-gray-700 border-b",children:"Puan"}),r.jsx("th",{className:"px-2 py-1 text-center text-[10px] font-medium text-gray-700 border-b",children:"D/Y/B/N"})]})}),r.jsx("tbody",{className:"bg-white",children:p.map((e,a)=>(0,r.jsxs)("tr",{className:a%2==0?"bg-white":"bg-gray-50",children:[r.jsx("td",{className:"px-2 py-1 text-[10px] font-medium text-gray-900 border-b",children:(0,r.jsxs)("div",{children:[r.jsx("div",{children:e.name}),(0,r.jsxs)("div",{className:"text-[8px] text-gray-500",children:["No: ",e.number]})]})}),w(s).map(s=>r.jsx("td",{className:"px-1 py-1 border-b text-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-0.5",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[r.jsx("label",{className:"text-[8px] text-gray-600 font-medium mb-0.5",children:"D"}),r.jsx("input",{type:"number",min:"0",value:c[e.id]?.[s.key]?.D||"",onChange:a=>N(e.id,s.key,"D",a.target.value),className:"w-8 h-5 px-0.5 py-0.5 text-[9px] border border-gray-300 rounded-md focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-center font-semibold",placeholder:"0"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[r.jsx("label",{className:"text-[8px] text-gray-600 font-medium mb-0.5",children:"Y"}),r.jsx("input",{type:"number",min:"0",value:c[e.id]?.[s.key]?.Y||"",onChange:a=>N(e.id,s.key,"Y",a.target.value),className:"w-8 h-5 px-0.5 py-0.5 text-[9px] border border-gray-300 rounded-md focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-center font-semibold",placeholder:"0"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[r.jsx("label",{className:"text-[8px] text-gray-600 font-medium mb-0.5",children:"B"}),r.jsx("input",{type:"number",min:"0",value:c[e.id]?.[s.key]?.B||"",onChange:a=>N(e.id,s.key,"B",a.target.value),className:"w-8 h-5 px-0.5 py-0.5 text-[9px] border border-gray-300 rounded-md focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-center font-semibold",placeholder:"0"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[r.jsx("label",{className:"text-[8px] text-gray-600 font-medium mb-0.5",children:"N"}),r.jsx("input",{type:"text",maxLength:6,value:C(parseInt(c[e.id]?.[s.key]?.D||"0"),parseInt(c[e.id]?.[s.key]?.Y||"0")).toFixed(2),readOnly:!0,className:"w-9 h-5 px-0.5 py-0.5 text-[9px] border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-center font-bold",placeholder:"0"})]})]})},s.key)),r.jsx("td",{className:"px-2 py-1 text-center border-b",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-0.5 text-[8px]",children:[(0,r.jsxs)("div",{className:"bg-blue-100 px-0.5 py-0.5 rounded text-blue-800 font-medium",children:["D: ",v(c[e.id]||{}).totalD]}),(0,r.jsxs)("div",{className:"bg-red-100 px-0.5 py-0.5 rounded text-red-800 font-medium",children:["Y: ",v(c[e.id]||{}).totalY]}),(0,r.jsxs)("div",{className:"bg-gray-100 px-0.5 py-0.5 rounded text-gray-800 font-medium",children:["B: ",v(c[e.id]||{}).totalB]}),(0,r.jsxs)("div",{className:"bg-green-100 px-0.5 py-0.5 rounded text-green-800 font-bold col-span-2",children:["N: ",v(c[e.id]||{}).totalNet.toFixed(2)]})]})}),r.jsx("td",{className:"px-2 py-1 text-center border-b",children:r.jsx("input",{type:"number",min:"0",step:"0.01",value:m[e.id]||"",onChange:s=>x(a=>({...a,[e.id]:s.target.value})),className:"w-full px-1 py-0.5 text-[9px] border border-yellow-300 rounded focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 text-center font-semibold",placeholder:"Puan"})})]},e.id))})]})}),(0,r.jsxs)("div",{className:"bg-cyan-50 p-3 rounded-lg border border-cyan-200",children:[r.jsx("h4",{className:"font-semibold text-cyan-800 mb-2 text-sm",children:"SÄ±nÄ±f Ortalama Ä°statistikleri"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-center",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xl font-bold text-blue-600",children:A.totalD}),r.jsx("div",{className:"text-[10px] text-blue-700",children:"Ortalama DoÄŸru"})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xl font-bold text-red-600",children:A.totalY}),r.jsx("div",{className:"text-[10px] text-red-700",children:"Ortalama YanlÄ±ÅŸ"})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xl font-bold text-gray-600",children:A.totalB}),r.jsx("div",{className:"text-[10px] text-gray-700",children:"Ortalama BoÅŸ"})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xl font-bold text-yellow-600",children:A.averagePuan.toFixed(2)}),r.jsx("div",{className:"text-[10px] text-yellow-700",children:"Ortalama Puan"})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-xl font-bold text-green-600",children:A.totalNet.toFixed(2)}),r.jsx("div",{className:"text-[10px] text-green-700",children:"Ortalama Net"})]})]})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx("button",{onClick:S,disabled:u,className:`px-6 py-2 rounded-lg font-semibold transition-colors text-sm ${u?"bg-gray-400 cursor-not-allowed":"bg-cyan-500 text-white hover:bg-cyan-600"}`,children:u?"Kaydediliyor...":`ðŸ’¾ ${p.length} \xd6ÄŸrenci Sonucunu Kaydet`})})]})]})})]})};return d?r.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Y\xfckleniyor..."})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[x&&r.jsx("div",{className:"fixed top-6 right-6 z-50 transform transition-all duration-300 ease-in-out animate-slideIn",children:(0,r.jsxs)("div",{className:`
            relative min-w-[320px] max-w-md p-4 rounded-xl shadow-2xl text-white overflow-hidden
            ${"success"===x.type?"bg-gradient-to-r from-emerald-500 to-teal-600 border border-emerald-400":"error"===x.type?"bg-gradient-to-r from-red-500 to-pink-600 border border-red-400":"bg-gradient-to-r from-blue-500 to-indigo-600 border border-blue-400"}
          `,children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")",backgroundRepeat:"repeat"}})}),r.jsx("div",{className:"absolute top-0 left-0 h-1 bg-white bg-opacity-30 animate-progressBar"}),(0,r.jsxs)("div",{className:"relative flex items-start gap-3",children:[(0,r.jsxs)("div",{className:"flex-shrink-0 mt-0.5",children:["success"===x.type&&r.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),"error"===x.type&&r.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),"info"===x.type&&r.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:r.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})})]}),r.jsx("div",{className:"flex-1 min-w-0",children:r.jsx("p",{className:"text-sm font-medium leading-relaxed",children:x.message})}),r.jsx("button",{onClick:()=>u(null),className:"flex-shrink-0 w-6 h-6 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full flex items-center justify-center transition-all duration-200 group",children:r.jsx("svg",{className:"w-3 h-3 text-white group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}),(0,r.jsxs)("div",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-8",children:[(0,r.jsxs)("div",{className:"text-center mb-4 md:mb-8",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"BaÅŸarÄ± Takip Sistemi"}),r.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"\xd6ÄŸrencilerinizin akademik baÅŸarÄ±larÄ±nÄ± y\xf6netin"})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-2 mb-4 md:mb-8",children:r.jsx("div",{className:"flex flex-wrap gap-1 md:gap-2 overflow-x-auto",children:N.map(e=>(0,r.jsxs)("button",{onClick:()=>m(e.key),className:`px-3 py-2 md:px-6 md:py-3 rounded-lg font-medium text-xs md:text-sm transition-all whitespace-nowrap flex-shrink-0 ${o===e.key?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:[r.jsx("span",{className:"hidden sm:inline",children:e.label}),r.jsx("span",{className:"sm:hidden",children:e.label.split(" ")[0]})]},e.key))})}),r.jsx("div",{className:"min-h-[600px]",children:(()=>{switch(o){case"home":default:return r.jsx(G,{});case"sinif":return r.jsx($,{});case"deneme":return r.jsx(V,{});case"bireysel":return r.jsx(R,{});case"toplu":return r.jsx(q,{});case"excel-import":return r.jsx(f,{students:e,exams:a,onDataUpdate:H});case"kitap-sinavi":return r.jsx(z,{students:e,onDataUpdate:H});case"odev-takibi":return r.jsx(E,{students:e,onDataUpdate:H});case"eksik-konu":return r.jsx(T,{students:e,onDataUpdate:H});case"hedef":return r.jsx(U,{});case"lgs-hesaplama":return r.jsx(S,{});case"analytics":return r.jsx(g.Z,{students:e,results:i,exams:a});case"van-taban-puan":return r.jsx(A,{lgsSchools:p,obpSchools:b});case"puan-bazli-tavsiye":return r.jsx(F,{students:e,results:i,exams:a,lgsSchools:p,obpSchools:b});case"okuma-sinavi":return r.jsx(M,{students:e})}})()})]})]})}let S=()=>{let[e,s]=(0,l.useState)({turkce:{dogru:0,yanlis:0},matematik:{dogru:0,yanlis:0},fen:{dogru:0,yanlis:0},sosyal:{dogru:0,yanlis:0},din:{dogru:0,yanlis:0},ingilizce:{dogru:0,yanlis:0}}),[a,t]=(0,l.useState)(null),i={turkce:3.671,matematik:4.953,fen:4.072,sosyal:1.685,din:1.941,ingilizce:1.632},n={turkce:20,matematik:20,fen:20,sosyal:10,din:10,ingilizce:10},d={turkce:"T\xfcrk\xe7e",matematik:"Matematik",fen:"Fen Bilimleri",sosyal:"Sosyal Bilgiler",din:"Din K\xfclt\xfcr\xfc ve Ahlak Bilgisi",ingilizce:"Ä°ngilizce"},c=(e,a,t)=>{let r=parseInt(t)||0;s(s=>({...s,[e]:{...s[e],[a]:Math.max(0,r)}}))};return r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-2 sm:p-4 lg:p-6",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"\uD83E\uDDEE LGS Puan Hesaplama"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3 sm:mb-6",children:"LGS puanÄ±nÄ±zÄ± hesaplamak i\xe7in doÄŸru ve yanlÄ±ÅŸ sayÄ±larÄ±nÄ±zÄ± girin."}),(0,r.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[["turkce","sosyal","din","ingilizce","matematik","fen"].map(s=>(0,r.jsxs)("div",{className:"border rounded-lg p-3 sm:p-4 bg-gray-50",children:[(0,r.jsxs)("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("span",{className:"text-blue-600 mr-2 text-lg sm:text-xl",children:["turkce"===s&&"\uD83D\uDCDD","matematik"===s&&"\uD83D\uDD22","fen"===s&&"\uD83E\uDDEA","sosyal"===s&&"\uD83C\uDF0D","din"===s&&"\uD83D\uDD4C","ingilizce"===s&&"\uD83C\uDDFA\uD83C\uDDF8"]}),r.jsx("span",{className:"text-sm sm:text-base",children:d[s]})]}),(0,r.jsxs)("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-1 rounded",children:[n[s]," soru"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"DoÄŸru SayÄ±sÄ±"}),r.jsx("input",{type:"number",min:"0",value:e[s].dogru,onChange:e=>c(s,"dogru",e.target.value),className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md sm:rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"YanlÄ±ÅŸ SayÄ±sÄ±"}),r.jsx("input",{type:"number",min:"0",value:e[s].yanlis,onChange:e=>c(s,"yanlis",e.target.value),className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md sm:rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})]})]},s)),(0,r.jsxs)("div",{className:"flex gap-2 sm:gap-3",children:[r.jsx("button",{onClick:()=>{let s=193.492,a={};Object.keys(e).forEach(t=>{let{dogru:r,yanlis:l}=e[t],n=r-l/3,d=n*i[t];a[t]={dogru:r,yanlis:l,net:Math.round(100*n)/100,points:Math.round(100*d)/100},s+=d});let r={totalPoints:Math.round(100*s)/100,subjects:a};t(r)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 sm:py-3 px-4 sm:px-6 rounded-md sm:rounded-lg font-medium transition-colors flex items-center justify-center text-sm sm:text-base",children:"\uD83E\uDDEE PuanÄ± Hesapla"}),r.jsx("button",{onClick:()=>{s({turkce:{dogru:0,yanlis:0},matematik:{dogru:0,yanlis:0},fen:{dogru:0,yanlis:0},sosyal:{dogru:0,yanlis:0},din:{dogru:0,yanlis:0},ingilizce:{dogru:0,yanlis:0}}),t(null)},className:"px-3 sm:px-6 py-2 sm:py-3 border border-gray-300 text-gray-700 rounded-md sm:rounded-lg hover:bg-gray-50 transition-colors flex items-center text-sm sm:text-base",children:"\uD83D\uDD04 Temizle"})]})]}),a&&(0,r.jsxs)("div",{className:"mt-4 sm:mt-6 space-y-4 sm:space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg p-4 sm:p-6 lg:p-8",children:[r.jsx("h4",{className:"text-lg sm:text-xl lg:text-2xl font-bold mb-2 sm:mb-3",children:"\uD83C\uDFAF LGS PuanÄ±nÄ±z"}),r.jsx("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold",children:a.totalPoints}),r.jsx("p",{className:"text-blue-100 text-xs sm:text-sm mt-2 sm:mt-3",children:"Maksimum puan: 500 â€¢ Minimum puan: 0"})]}),(0,r.jsxs)("div",{className:"border rounded-lg p-3 sm:p-4 lg:p-6",children:[r.jsx("h5",{className:"font-semibold text-gray-800 mb-3 sm:mb-4 text-sm sm:text-base",children:"\uD83D\uDCCA Ders BazÄ±nda Detaylar"}),r.jsx("div",{className:"space-y-3 sm:space-y-4",children:["turkce","sosyal","din","ingilizce","matematik","fen"].map(e=>{let s=d[e],t=a.subjects[e]||{dogru:0,yanlis:0,net:0,points:0};return(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 bg-gray-50 rounded-lg gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("span",{className:"text-blue-600 mr-2 sm:mr-3 text-lg sm:text-xl",children:["turkce"===e&&"\uD83D\uDCDD","matematik"===e&&"\uD83D\uDD22","fen"===e&&"\uD83E\uDDEA","sosyal"===e&&"\uD83C\uDF0D","din"===e&&"\uD83D\uDD4C","ingilizce"===e&&"\uD83C\uDDFA\uD83C\uDDF8"]}),r.jsx("span",{className:"font-medium text-sm sm:text-base",children:s}),(0,r.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",n[e]," soru)"]})]}),r.jsx("div",{className:"text-right",children:(0,r.jsxs)("div",{className:"text-xs sm:text-sm text-gray-600",children:["DoÄŸru: ",t.dogru," | YanlÄ±ÅŸ: ",t.yanlis," | BoÅŸ: ",20-t.dogru-t.yanlis," | Net: ",t.net]})})]},e)})})]}),r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 sm:p-4 lg:p-6",children:(0,r.jsxs)("p",{className:"text-green-800 text-xs sm:text-sm",children:[r.jsx("strong",{children:"\uD83D\uDCA1 Bilgi:"})," Bu hesaplama MEB'in resmi LGS puan hesaplama sistemine uygun olarak yapÄ±lmÄ±ÅŸtÄ±r. Net sayÄ±larÄ± = DoÄŸru sayÄ±sÄ± - (YanlÄ±ÅŸ sayÄ±sÄ± \xf7 3) form\xfcl\xfc ile hesaplanÄ±r.",r.jsx("strong",{children:"Taban puan: 193.492"})," otomatik olarak eklenir."]})})]})]})})},A=({lgsSchools:e,obpSchools:s})=>{let[a,t]=(0,l.useState)(null);return r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 sm:p-6 lg:p-8",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[r.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"\uD83C\uDF93 Lise Taban PuanlarÄ±"}),a?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"mb-6",children:(0,r.jsxs)("button",{onClick:()=>t(null),className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors",children:[r.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Geri D\xf6n"]})}),"merkezi"===a?r.jsx(L,{}):r.jsx(B,{})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:[r.jsx("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"\uD83D\uDCDA Lise YerleÅŸtirme Sistemi"}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 border mb-6",children:[(0,r.jsxs)("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[r.jsx("span",{className:"text-purple-600 mr-3 text-2xl",children:"\uD83C\uDF93"}),"Lise YerleÅŸtirme T\xfcrleri"]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-6 border border-blue-200",children:[(0,r.jsxs)("h5",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[r.jsx("span",{className:"text-blue-600 mr-2 text-xl",children:"\uD83C\uDFAF"}),"Merkezi YerleÅŸtirme"]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"TanÄ±m:"})," LGS sÄ±nav puanÄ±na g\xf6re T\xfcrkiye genelinde sÄ±ralama yapÄ±larak \xf6ÄŸrenci alan okullara yerleÅŸme."]}),(0,r.jsxs)("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"Okul T\xfcrleri:"})," Fen Liseleri, Sosyal Bilimler Liseleri, Anadolu Liseleri, proje okullarÄ±, bazÄ± teknik programlar"]}),(0,r.jsxs)("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"Belirleyici Fakt\xf6r:"})," LGS puanÄ± ve tercih sÄ±rasÄ±; adres dikkate alÄ±nmaz."]}),(0,r.jsxs)("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"Tercih:"})," \xd6ÄŸrenciler sÄ±navla alan okullar i\xe7in ayrÄ± tercih listesinden se\xe7im yapar."]})]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-6 border border-green-200",children:[(0,r.jsxs)("h5",{className:"font-semibold text-green-800 mb-3 flex items-center",children:[r.jsx("span",{className:"text-green-600 mr-2 text-xl",children:"\uD83C\uDFE0"}),"Yerel YerleÅŸtirme (Adrese DayalÄ±)"]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"TanÄ±m:"})," \xd6ÄŸrencinin ikamet adresi, okul t\xfcr\xfc ve kontenjan dikkate alÄ±narak kendi kayÄ±t alanÄ±ndaki okullara yerleÅŸme."]}),(0,r.jsxs)("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"Okul T\xfcrleri:"})," Anadolu Liseleri, Meslek Liseleri, Ä°mam Hatip Liseleri"]}),(0,r.jsxs)("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"Belirleyici Fakt\xf6r:"})," KayÄ±t alanÄ±, okul t\xfcr\xfc ve kontenjan; tercih sÄ±rasÄ± \xf6nemlidir."]}),(0,r.jsxs)("p",{className:"text-gray-700",children:[r.jsx("strong",{children:"Tercih:"})," KayÄ±t alanÄ± \xf6nceliklidir; farklÄ± alanlardan (komÅŸu/diÄŸer) okul se\xe7imi sÄ±nÄ±rlÄ±dÄ±r."]})]})]})]}),r.jsx("div",{className:"mt-6 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:(0,r.jsxs)("p",{className:"text-purple-800 text-sm",children:[r.jsx("strong",{children:"\uD83D\uDCA1 Bilgi:"})," LGS puanÄ±nÄ±z ile merkezi yerleÅŸtirme kapsamÄ±ndaki okullara (Fen, Sosyal Bilimler), adres bilginiz ile yerel yerleÅŸtirme kapsamÄ±ndaki okullara (Anadolu, Meslek, Ä°mam Hatip) baÅŸvurabilirsiniz."]})})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,r.jsxs)("button",{onClick:()=>t("merkezi"),className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg p-8 text-left transition-all duration-200 transform hover:scale-105 shadow-lg",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"bg-white bg-opacity-20 rounded-full p-3 mr-4",children:r.jsx("span",{className:"text-3xl",children:"\uD83C\uDFAF"})}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-xl font-semibold",children:"Merkezi YerleÅŸtirme"}),r.jsx("p",{className:"text-blue-100 text-sm",children:"Fen & Sosyal Bilimler Liseleri"})]})]}),r.jsx("p",{className:"text-blue-100 text-sm",children:"LGS puanÄ±na g\xf6re merkezi yerleÅŸtirme kapsamÄ±ndaki okullarÄ±n taban puanlarÄ±nÄ± g\xf6r\xfcnt\xfcleyin."})]}),(0,r.jsxs)("button",{onClick:()=>t("yerel"),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-lg p-8 text-left transition-all duration-200 transform hover:scale-105 shadow-lg",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"bg-white bg-opacity-20 rounded-full p-3 mr-4",children:r.jsx("span",{className:"text-3xl",children:"\uD83C\uDFE0"})}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-xl font-semibold",children:"Yerel YerleÅŸtirme"}),r.jsx("p",{className:"text-green-100 text-sm",children:"Ä°mam Hatip & Meslek Liseleri"})]})]}),r.jsx("p",{className:"text-green-100 text-sm",children:"Adres bilginize g\xf6re yerel yerleÅŸtirme kapsamÄ±ndaki okullarÄ±n taban puanlarÄ±nÄ± g\xf6r\xfcnt\xfcleyin."})]})]})]})]})})},L=()=>r.jsx("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8",children:[(0,r.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[r.jsx("span",{className:"text-blue-600 mr-3",children:"\uD83C\uDFAF"}),"Van Ä°li Merkezi YerleÅŸtirme Taban PuanlarÄ± (2025)"]}),r.jsx("p",{className:"text-gray-600 mb-6",children:"2025 LGS sonu\xe7larÄ±na g\xf6re Van ilindeki merkezi yerleÅŸtirme kapsamÄ±ndaki okullarÄ±n taban puanlarÄ±:"}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"text-left p-4 font-semibold text-gray-800",children:"Lise AdÄ±"}),r.jsx("th",{className:"text-left p-4 font-semibold text-gray-800",children:"T\xfcr"}),r.jsx("th",{className:"text-center p-4 font-semibold text-gray-800",children:"Taban Puan"}),r.jsx("th",{className:"text-center p-4 font-semibold text-gray-800",children:"Y\xfczdelik Dilim"}),r.jsx("th",{className:"text-center p-4 font-semibold text-gray-800",children:"Kontenjan"}),r.jsx("th",{className:"text-left p-4 font-semibold text-gray-800",children:"Ä°l\xe7e"})]})}),r.jsx("tbody",{children:[{name:"Van T\xfcrk Telekom Fen Lisesi",type:"Fen Lisesi",score:"460.91",percentile:"2.51",capacity:"150",district:"Edremit"},{name:"Ä°pekyolu Borsa Ä°stanbul Fen Lisesi",type:"Fen Lisesi",score:"441.61",percentile:"4.67",capacity:"150",district:"Ä°pekyolu"},{name:"TuÅŸba TOBB Fen Lisesi",type:"Fen Lisesi",score:"422.90",percentile:"7.20",capacity:"150",district:"TuÅŸba"},{name:"Niyazi T\xfcrkmenoÄŸlu Anadolu Lisesi",type:"Anadolu Lisesi",score:"416.75",percentile:"8.09",capacity:"120",district:"Ä°pekyolu"},{name:"ErciÅŸ Fen Lisesi",type:"Fen Lisesi",score:"402.18",percentile:"10.39",capacity:"150",district:"ErciÅŸ"},{name:"KazÄ±m Karabekir Anadolu Lisesi",type:"Anadolu Lisesi",score:"400.23",percentile:"10.71",capacity:"150",district:"Ä°pekyolu"},{name:"T\xfcrkiye YardÄ±msevenler DerneÄŸi Anadolu Lisesi",type:"Anadolu Lisesi",score:"387.01",percentile:"12.92",capacity:"120",district:"Edremit"},{name:"Van Atat\xfcrk Anadolu Lisesi",type:"Anadolu Lisesi",score:"379.46",percentile:"14.26",capacity:"180",district:"Ä°pekyolu"},{name:"Abdurrahman Gazi Borsa Ä°stanbul Anadolu Lisesi",type:"Anadolu Lisesi",score:"367.20",percentile:"16.52",capacity:"150",district:"TuÅŸba"},{name:"Muradiye Alpaslan Fen Lisesi",type:"Fen Lisesi",score:"366.59",percentile:"16.63",capacity:"120",district:"Muradiye"},{name:"ErciÅŸ Sosyal Bilimler Lisesi",type:"Sosyal Bilimler Lisesi",score:"366.09",percentile:"20.09",capacity:"120",district:"ErciÅŸ"},{name:"Van Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:"360.29",percentile:"19.06",capacity:"120",district:"Ä°pekyolu"},{name:"Van-Borsa Ä°stanbul Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:"349.74",percentile:"23.59",capacity:"180",district:"Edremit"},{name:"Sevim K\xfcr\xfcm Anadolu Lisesi",type:"Anadolu Lisesi",score:"349.08",percentile:"18.31",capacity:"120",district:"ErciÅŸ"},{name:"Ä°skele KÄ±z Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:"325.31",percentile:"27.46",capacity:"120",district:"Ä°pekyolu"},{name:"Edremit Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:"312.80",percentile:"39.48",capacity:"120",district:"Edremit"},{name:"Mehmet ErdemoÄŸlu Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:"305.71",percentile:"30.94",capacity:"150",district:"Ä°pekyolu"},{name:"Åžehit Polis Halil Hamuryen KÄ±z Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:"308.52",percentile:"40.76",capacity:"120",district:"ErciÅŸ"},{name:"Tevfik Ä°leri Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:"294.42",percentile:"45.03",capacity:"120",district:"ErciÅŸ"},{name:"ErciÅŸ Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:"293.47",percentile:"50.02",capacity:"150",district:"ErciÅŸ"},{name:"MizancÄ± Murat Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:"293.21",percentile:"55.88",capacity:"120",district:"Edremit"},{name:"GevaÅŸ Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:"267.96",percentile:"98.45",capacity:"120",district:"GevaÅŸ"},{name:"H\xfcseyin \xc7elik KÄ±z Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:"263.42",percentile:"48.81",capacity:"120",district:"TuÅŸba"},{name:"\xd6zalp KÄ±z Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:"255.88",percentile:"89.83",capacity:"120",district:"\xd6zalp"},{name:"TuÅŸba Åžehit Ferhat Arslan Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:"251.82",percentile:"97.98",capacity:"120",district:"TuÅŸba"},{name:"Åžehit Haluk VarlÄ± Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:"221.47",percentile:"94.06",capacity:"120",district:"G\xfcrpÄ±nar"},{name:"Muradiye Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:"208.61",percentile:"97.43",capacity:"120",district:"Muradiye"},{name:"BaÅŸkale Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:"199.41",percentile:"99.80",capacity:"120",district:"BaÅŸkale"},{name:"\xc7aldÄ±ran Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:"197.30",percentile:"82.62",capacity:"120",district:"\xc7aldÄ±ran"}].map((e,s)=>(0,r.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[r.jsx("td",{className:"p-4 font-medium text-gray-900",children:e.name}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${"Fen Lisesi"===e.type?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:e.type})}),r.jsx("td",{className:"p-4 text-center font-bold text-blue-600 text-lg",children:e.score}),(0,r.jsxs)("td",{className:"p-4 text-center font-bold text-purple-600 text-lg",children:[e.percentile,"%"]}),r.jsx("td",{className:"p-4 text-center text-gray-700",children:e.capacity}),r.jsx("td",{className:"p-4 text-gray-600",children:e.district})]},s))})]})})]})}),B=()=>r.jsx("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8",children:[(0,r.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[r.jsx("span",{className:"text-green-600 mr-3",children:"\uD83D\uDCD6"}),"Van Ä°li Yerel YerleÅŸtirme Taban PuanlarÄ± (2025)"]}),r.jsx("p",{className:"text-gray-600 mb-6",children:"2025 OBP sonu\xe7larÄ±na g\xf6re Van ilindeki yerel yerleÅŸtirme kapsamÄ±ndaki okullarÄ±n taban puanlarÄ±:"}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"text-left p-4 font-semibold text-gray-800",children:"Okul AdÄ±"}),r.jsx("th",{className:"text-left p-4 font-semibold text-gray-800",children:"T\xfcr"}),r.jsx("th",{className:"text-center p-4 font-semibold text-gray-800",children:"Taban Puan"}),r.jsx("th",{className:"text-center p-4 font-semibold text-gray-800",children:"Kontenjan"}),r.jsx("th",{className:"text-left p-4 font-semibold text-gray-800",children:"Ä°l\xe7e"})]})}),r.jsx("tbody",{children:[{name:"Mesut \xd6zata Anadolu Lisesi",type:"Anadolu Lisesi",score:"91.09",capacity:"150",district:"Ä°pekyolu"},{name:"\xd6zen AdalÄ± Anadolu Lisesi",type:"Anadolu Lisesi",score:"89.66",capacity:"150",district:"Ä°pekyolu"},{name:"Mehmet Akif Ersoy Anadolu Lisesi",type:"Anadolu Lisesi",score:"88.96",capacity:"150",district:"Ä°pekyolu"},{name:"Arif Nihat Asya Anadolu Lisesi",type:"Anadolu Lisesi",score:"89.39",capacity:"150",district:"ErciÅŸ"},{name:"Faki Teyran Anadolu Lisesi",type:"Anadolu Lisesi",score:"85.96",capacity:"150",district:"Edremit"},{name:"Ä°ki Nisan Anadolu Lisesi",type:"Anadolu Lisesi",score:"84.93",capacity:"150",district:"Ä°pekyolu"},{name:"\xc7aldÄ±ran Anadolu Lisesi",type:"Anadolu Lisesi",score:"84.30",capacity:"120",district:"\xc7aldÄ±ran"},{name:"Ä°zzeddin Åžir Anadolu Lisesi",type:"Anadolu Lisesi",score:"83.69",capacity:"120",district:"GevaÅŸ"},{name:"Van-Borsa Ä°stanbul Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:"84.09",capacity:"150",district:"Edremit"},{name:"Said Nursi Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:"65.83",capacity:"120",district:"Ä°pekyolu"},{name:"Evliya \xc7elebi Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:"45.72",capacity:"150",district:"Edremit"},{name:"Kalecik Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:"43.85",capacity:"120",district:"TuÅŸba"},{name:"TuÅŸba Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:"42.18",capacity:"120",district:"TuÅŸba"},{name:"BaÅŸkale Anadolu Lisesi",type:"Anadolu Lisesi",score:"41.65",capacity:"120",district:"BaÅŸkale"},{name:"Muradiye Anadolu Lisesi",type:"Anadolu Lisesi",score:"39.24",capacity:"120",district:"Muradiye"},{name:"G\xfcrpÄ±nar Anadolu Lisesi",type:"Anadolu Lisesi",score:"38.97",capacity:"120",district:"G\xfcrpÄ±nar"},{name:"\xd6zalp Anadolu Lisesi",type:"Anadolu Lisesi",score:"35.82",capacity:"120",district:"\xd6zalp"},{name:"Saray Anadolu Lisesi",type:"Anadolu Lisesi",score:"34.15",capacity:"120",district:"Saray"},{name:"Bah\xe7esaray Anadolu Lisesi",type:"Anadolu Lisesi",score:"32.48",capacity:"120",district:"Bah\xe7esaray"},{name:"GevaÅŸ Anadolu Lisesi",type:"Anadolu Lisesi",score:"30.76",capacity:"120",district:"GevaÅŸ"},{name:"Akdamar Anadolu Lisesi",type:"Anadolu Lisesi",score:"29.31",capacity:"120",district:"GevaÅŸ"},{name:"\xc7atak Anadolu Lisesi",type:"Anadolu Lisesi",score:"27.84",capacity:"120",district:"\xc7atak"},{name:"GevaÅŸ KÄ±z Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:"26.45",capacity:"120",district:"GevaÅŸ"},{name:"BaÅŸkale KÄ±z Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:"24.89",capacity:"120",district:"BaÅŸkale"},{name:"\xc7atak KÄ±z Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:"23.68",capacity:"120",district:"\xc7atak"}].map((e,s)=>(0,r.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[r.jsx("td",{className:"p-4 font-medium text-gray-900",children:e.name}),r.jsx("td",{className:"p-4",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${e.type.includes("Ä°mam Hatip")?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:e.type})}),r.jsx("td",{className:"p-4 text-center font-bold text-green-600 text-lg",children:e.score}),r.jsx("td",{className:"p-4 text-center text-gray-700",children:e.capacity}),r.jsx("td",{className:"p-4 text-gray-600",children:e.district})]},s))})]})}),r.jsx("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,r.jsxs)("p",{className:"text-yellow-800",children:[r.jsx("strong",{children:"Not:"})," Bu puanlar 2025 OBP sonu\xe7larÄ±na g\xf6re yerel yerleÅŸtirme taban puanlarÄ±dÄ±r ve MEB verilerine dayanmaktadÄ±r."]})})]})}),F=({students:e,results:s,exams:a,lgsSchools:t,obpSchools:i})=>{let[n,d]=(0,l.useState)(""),[c,o]=(0,l.useState)(""),[m,x]=(0,l.useState)(0),[u,h]=(0,l.useState)(0),g=Array.from(new Set(e.map(e=>e.class))).sort(),p=e=>{if("number"==typeof e)return e>0?e:0;if("string"==typeof e&&""!==e.trim()){let s=parseFloat(e);return isNaN(s)?0:s}return 0},b=e=>{if(!e)return 0;let s=p(e.puan);return s||(s=p(e.scores?.puan)),s||(s=p(e.totalScore)),s||(s=p(e.nets?.total)),s};(0,l.useEffect)(()=>{if(c&&s.length>0){let e=s.filter(e=>e.studentId===c);if(e.length>0){let s=0,a=0,t=0;e.forEach(e=>{let r=e.examData||e,l=r?.studentResults?.find(e=>e.studentId===c);if(l){let e=b(l);e>0&&(s+=e,a++,t=Math.max(t,e))}else{let r=b(e);r>0&&(s+=r,a++,t=Math.max(t,r))}}),h(a>0?s/a:0),x(t)}else h(0),x(0)}else h(0),x(0)},[c,s]);let y=[{name:"Van T\xfcrk Telekom Fen Lisesi",type:"Fen Lisesi",score:460.91,district:"Edremit"},{name:"Ä°pekyolu Borsa Ä°stanbul Fen Lisesi",type:"Fen Lisesi",score:441.61,district:"Ä°pekyolu"},{name:"TuÅŸba TOBB Fen Lisesi",type:"Fen Lisesi",score:422.9,district:"TuÅŸba"},{name:"Niyazi T\xfcrkmenoÄŸlu Anadolu Lisesi",type:"Anadolu Lisesi",score:416.75,district:"Ä°pekyolu"},{name:"ErciÅŸ Fen Lisesi",type:"Fen Lisesi",score:402.18,district:"ErciÅŸ"},{name:"KazÄ±m Karabekir Anadolu Lisesi",type:"Anadolu Lisesi",score:400.23,district:"Ä°pekyolu"},{name:"T\xfcrkiye YardÄ±msevenler DerneÄŸi Anadolu Lisesi",type:"Anadolu Lisesi",score:387.01,district:"Edremit"},{name:"Van Atat\xfcrk Anadolu Lisesi",type:"Anadolu Lisesi",score:379.46,district:"Ä°pekyolu"},{name:"Abdurrahman Gazi Borsa Ä°stanbul Anadolu Lisesi",type:"Anadolu Lisesi",score:367.2,district:"TuÅŸba"},{name:"Muradiye Alpaslan Fen Lisesi",type:"Fen Lisesi",score:366.59,district:"Muradiye"},{name:"ErciÅŸ Sosyal Bilimler Lisesi",type:"Sosyal Bilimler Lisesi",score:366.09,district:"ErciÅŸ"},{name:"Van Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:360.29,district:"Ä°pekyolu"},{name:"Van-Borsa Ä°stanbul Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:349.74,district:"Edremit"},{name:"Sevim K\xfcr\xfcm Anadolu Lisesi",type:"Anadolu Lisesi",score:349.08,district:"ErciÅŸ"},{name:"Ä°skele KÄ±z Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:325.31,district:"Ä°pekyolu"},{name:"Edremit Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:312.8,district:"Edremit"},{name:"Mehmet ErdemoÄŸlu Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:305.71,district:"Ä°pekyolu"},{name:"Åžehit Polis Halil Hamuryen KÄ±z Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:308.52,district:"ErciÅŸ"},{name:"Tevfik Ä°leri Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:294.42,district:"ErciÅŸ"},{name:"ErciÅŸ Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:293.47,district:"ErciÅŸ"},{name:"MizancÄ± Murat Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:293.21,district:"Edremit"},{name:"GevaÅŸ Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:267.96,district:"GevaÅŸ"},{name:"H\xfcseyin \xc7elik KÄ±z Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:263.42,district:"TuÅŸba"},{name:"\xd6zalp KÄ±z Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:255.88,district:"\xd6zalp"},{name:"TuÅŸba Åžehit Ferhat Arslan Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:251.82,district:"TuÅŸba"},{name:"Åžehit Haluk VarlÄ± Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:221.47,district:"G\xfcrpÄ±nar"},{name:"Muradiye Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:208.61,district:"Muradiye"},{name:"BaÅŸkale Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:199.41,district:"BaÅŸkale"},{name:"\xc7aldÄ±ran Anadolu Ä°mam Hatip Lisesi",type:"Anadolu Ä°mam Hatip Lisesi",score:197.3,district:"\xc7aldÄ±ran"}],j=e=>{let s={min:e-20,max:e+20},a={min:e+21,max:e+40},t={min:e+41,max:e+60},r=y.filter(e=>e.score>=s.min&&e.score<=s.max),l=y.filter(e=>e.score>=a.min&&e.score<=a.max),i=y.filter(e=>e.score>=t.min&&e.score<=t.max);return{highRange:s,mediumRange:a,lowRange:t,highProbabilitySchools:r,mediumProbabilitySchools:l,lowProbabilitySchools:i}},f=u>0?j(u):null,N=m>0?j(m):null,v=({data:e,title:s,puanLabel:a})=>{if(!e)return null;let{highRange:t,mediumRange:l,lowRange:i,highProbabilitySchools:n,mediumProbabilitySchools:d,lowProbabilitySchools:c}=e;return(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:s}),r.jsx("div",{className:"grid grid-cols-1 gap-4 mb-6",children:(0,r.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg text-center",children:[r.jsx("div",{className:"text-sm text-blue-700 mb-1",children:a}),(0,r.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(u||m)," puan"]})]})}),r.jsx("div",{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"border-2 border-green-200 bg-green-50 rounded-lg p-4",children:[r.jsx("h5",{className:"text-sm font-semibold text-green-800 mb-2 flex items-center",children:"âœ… Y\xfcksek Ä°htimal"}),(0,r.jsxs)("div",{className:"text-xs text-green-700 mb-3",children:[Math.round(t.min),"-",Math.round(t.max)," puan aralÄ±ÄŸÄ±"]}),r.jsx("div",{className:"space-y-2",children:n.length>0?n.slice(0,4).map(e=>(0,r.jsxs)("div",{className:"bg-white p-2 rounded border",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsxs)("div",{className:"text-xs text-gray-600",children:[e.type," â€¢ ",e.score.toFixed(2)," taban â€¢ ",e.district]})]},e.name)):r.jsx("div",{className:"text-xs text-green-600",children:"Bu aralÄ±kta okul bulunmuyor"})})]}),(0,r.jsxs)("div",{className:"border-2 border-yellow-200 bg-yellow-50 rounded-lg p-4",children:[r.jsx("h5",{className:"text-sm font-semibold text-yellow-800 mb-2 flex items-center",children:"âš ï¸ Orta Ä°htimal"}),(0,r.jsxs)("div",{className:"text-xs text-yellow-700 mb-3",children:[Math.round(l.min),"-",Math.round(l.max)," puan aralÄ±ÄŸÄ±"]}),r.jsx("div",{className:"space-y-2",children:d.length>0?d.slice(0,4).map(e=>(0,r.jsxs)("div",{className:"bg-white p-2 rounded border",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsxs)("div",{className:"text-xs text-gray-600",children:[e.type," â€¢ ",e.score.toFixed(2)," taban â€¢ ",e.district]})]},e.name)):r.jsx("div",{className:"text-xs text-yellow-600",children:"Bu aralÄ±kta okul bulunmuyor"})})]}),(0,r.jsxs)("div",{className:"border-2 border-red-200 bg-red-50 rounded-lg p-4",children:[r.jsx("h5",{className:"text-sm font-semibold text-red-800 mb-2 flex items-center",children:"\uD83D\uDD25 D\xfcÅŸ\xfck Ä°htimal"}),(0,r.jsxs)("div",{className:"text-xs text-red-700 mb-3",children:[Math.round(i.min),"-",Math.round(i.max)," puan aralÄ±ÄŸÄ±"]}),r.jsx("div",{className:"space-y-2",children:c.length>0?c.slice(0,4).map(e=>(0,r.jsxs)("div",{className:"bg-white p-2 rounded border",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,r.jsxs)("div",{className:"text-xs text-gray-600",children:[e.type," â€¢ ",e.score.toFixed(2)," taban â€¢ ",e.district]})]},e.name)):r.jsx("div",{className:"text-xs text-red-600",children:"Bu aralÄ±kta okul bulunmuyor"})})]})]})})]})};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-white",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"\uD83C\uDFAF Puan BazlÄ± Lise Tavsiyesi"}),r.jsx("p",{className:"text-purple-100 text-lg",children:"\xd6ÄŸrencinin puanÄ±na g\xf6re uygun lise \xf6nerileri"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"\uD83D\uDC68â€\uD83C\uDF93 \xd6ÄŸrenci Se\xe7imi"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFEB SÄ±nÄ±f Se\xe7in"}),(0,r.jsxs)("select",{value:n,onChange:e=>{d(e.target.value),o("")},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"",children:"SÄ±nÄ±f se\xe7in..."}),g.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDC64 \xd6ÄŸrenci Se\xe7in"}),(0,r.jsxs)("select",{value:c,onChange:e=>o(e.target.value),disabled:!n,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 disabled:bg-gray-100",children:[r.jsx("option",{value:"",children:"\xd6ÄŸrenci se\xe7in..."}),n&&e.filter(e=>e.class===n).map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]})]})]}),c&&(u>0||m>0)&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg text-center",children:[r.jsx("div",{className:"text-sm text-blue-700 mb-1",children:"\uD83D\uDCC8 Ortalama Puan"}),(0,r.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(u)," puan"]}),r.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"(Denemelerin ortalamasÄ±)"})]}),(0,r.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-center",children:[r.jsx("div",{className:"text-sm text-green-700 mb-1",children:"\uD83C\uDFC6 En Y\xfcksek Puan"}),(0,r.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(m)," puan"]}),r.jsx("div",{className:"text-xs text-green-600 mt-1",children:"(En baÅŸarÄ±lÄ± deneme)"})]})]}),c&&u>0&&r.jsx(v,{data:f,title:"\uD83D\uDCCA Ortalama Puana G\xf6re Lise \xd6nerileri",puanLabel:"\uD83D\uDCC8 \xd6ÄŸrencinin Ortalama Deneme PuanÄ±"}),c&&m>0&&r.jsx(v,{data:N,title:"\uD83C\uDFC6 En Y\xfcksek Puana G\xf6re Lise \xd6nerileri",puanLabel:"\uD83D\uDCCA \xd6ÄŸrencinin En Y\xfcksek Deneme PuanÄ±"}),c&&(u>0||m>0)&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"\uD83D\uDCA1 Tavsiyeler"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"\uD83D\uDCDA \xc7alÄ±ÅŸma Tavsiyesi"}),r.jsx("p",{className:"text-blue-700",children:(u||m)>=400?"M\xfckemmel! Bu performansÄ± s\xfcrd\xfcrmek i\xe7in d\xfczenli tekrar yapÄ±n.":(u||m)>=350?"Ä°yi gidiyorsunuz! ZayÄ±f derslerinize daha \xe7ok odaklanÄ±n.":(u||m)>=300?"Hedeflerinize ulaÅŸmak i\xe7in g\xfcnde en az 3 saat \xe7alÄ±ÅŸÄ±n.":"Temel konularÄ± tekrar ederek baÅŸlayÄ±n. G\xfcnde en az 4 saat \xe7alÄ±ÅŸmalÄ±sÄ±nÄ±z."})]}),(0,r.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-purple-800 mb-2",children:"\uD83C\uDFAF Strateji"}),r.jsx("p",{className:"text-purple-700",children:(u||m)>=400?"En iyi liseleri hedefleyin. Matematik ve fen odaklÄ± \xe7alÄ±ÅŸÄ±n.":(u||m)>=350?"Orta d\xfczey liselere odaklanÄ±n. T\xfcrk\xe7e ve sosyal geliÅŸtirin.":(u||m)>=300?"Temel liseleri hedefleyin. T\xfcm derslerde denge kurun.":"Temel konularda eksiklerinizi kapatÄ±n. SÄ±nav stratejisi geliÅŸtirin."})]})]})]})]})},z=({students:e,onDataUpdate:s})=>{let[t,i]=(0,l.useState)([]),[n,d]=(0,l.useState)(!1),[c,o]=(0,l.useState)(!1),[m,x]=(0,l.useState)(!1),[u,h]=(0,l.useState)(null),[g,p]=(0,l.useState)(null),[b,y]=(0,l.useState)([]),[j,f]=(0,l.useState)({kitapAdi:"",sinif:"",tarih:new Date().toISOString().split("T")[0],puanlar:{}}),N=Array.from(new Set(e.map(e=>e.class))).sort();(0,l.useEffect)(()=>{v()},[]);let v=async()=>{d(!0);try{let{getKitapSinavlari:e}=await Promise.resolve().then(a.bind(a,6845)),s=await e();i(s)}catch(e){console.error("Kitap sÄ±navlarÄ± y\xfcklenirken hata:",e)}finally{d(!1)}},k=async()=>{if(!j.kitapAdi||!j.sinif){alert("L\xfctfen kitap adÄ± ve sÄ±nÄ±f se\xe7iniz!");return}try{let{addKitapSinavi:e}=await Promise.resolve().then(a.bind(a,6845)),s=Object.entries(j.puanlar).reduce((e,[s,a])=>(e[s]={puan:a,tarih:j.tarih},e),{});await e({kitapAdi:j.kitapAdi,sinif:j.sinif,tarih:j.tarih,puanlar:s}),f({kitapAdi:"",sinif:"",tarih:new Date().toISOString().split("T")[0],puanlar:{}}),o(!1),v(),alert("\uD83D\uDCDA Kitap sÄ±navÄ± baÅŸarÄ±yla eklendi!")}catch(e){console.error("Kitap sÄ±navÄ± eklenirken hata:",e),alert("Kitap sÄ±navÄ± eklenirken hata oluÅŸtu!")}},D=(e,s)=>{let a=parseFloat(s)||0;f(s=>({...s,puanlar:{...s.puanlar,[e]:a}}))},w=e.filter(e=>e.class===j.sinif),C=e=>{h(e),f({kitapAdi:e.kitapAdi,sinif:e.sinif,tarih:e.tarih,puanlar:Object.fromEntries(Object.entries(e.puanlar||{}).map(([e,s])=>[e,s.puan]))}),x(!0),o(!1)},S=async()=>{if(!u||!j.kitapAdi||!j.sinif){alert("L\xfctfen kitap adÄ± ve sÄ±nÄ±f se\xe7iniz!");return}try{let{updateKitapSinavi:e}=await Promise.resolve().then(a.bind(a,6845)),s=Object.entries(j.puanlar).reduce((e,[s,a])=>(e[s]={puan:a,tarih:j.tarih},e),{});await e(u.id,s),h(null),f({kitapAdi:"",sinif:"",tarih:new Date().toISOString().split("T")[0],puanlar:{}}),x(!1),v(),alert("\uD83D\uDCDA Kitap sÄ±navÄ± baÅŸarÄ±yla g\xfcncellendi!")}catch(e){console.error("Kitap sÄ±navÄ± g\xfcncellenirken hata:",e),alert("Kitap sÄ±navÄ± g\xfcncellenirken hata oluÅŸtu!")}},A=async e=>{if(confirm("Bu kitap sÄ±navÄ±nÄ± silmek istediÄŸinizden emin misiniz? Bu iÅŸlem geri alÄ±namaz!"))try{let{deleteKitapSinavi:s}=await Promise.resolve().then(a.bind(a,6845));await s(e),v(),g?.id===e&&(p(null),y([])),alert("\uD83D\uDCDA Kitap sÄ±navÄ± baÅŸarÄ±yla silindi!")}catch(e){console.error("Kitap sÄ±navÄ± silinirken hata:",e),alert("Kitap sÄ±navÄ± silinirken hata oluÅŸtu!")}},L=async s=>{p(s);let a=Object.entries(s.puanlar||{}).map(([s,a])=>{let t=e.find(e=>e.id===s);return{studentId:s,studentName:t?.name||"Bilinmeyen \xd6ÄŸrenci",studentNumber:t?.number||"-",studentClass:t?.class||"-",puan:a.puan,tarih:a.tarih}});a.sort((e,s)=>{let a="number"==typeof e.studentNumber?e.studentNumber:parseInt(e.studentNumber)||0,t="number"==typeof s.studentNumber?s.studentNumber:parseInt(s.studentNumber)||0;return a-t}),y(a)};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"\uD83D\uDCDA Kitap SÄ±navÄ± Y\xf6netimi"}),r.jsx("p",{className:"text-gray-600",children:"Kitap sÄ±navlarÄ± oluÅŸturun ve puanlarÄ± y\xf6netin"})]}),r.jsx("button",{onClick:()=>{o(!c),x(!1),h(null)},className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 font-medium",children:c||m?"Ä°ptal":"âž• Yeni SÄ±nav Ekle"})]}),t.length>0&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"\uD83D\uDCCA SÄ±nav Sonu\xe7larÄ±nÄ± G\xf6r\xfcnt\xfcle"}),g&&r.jsx("button",{onClick:()=>{p(null),y([])},className:"text-gray-500 hover:text-gray-700 text-sm",children:"â† SÄ±nav Se\xe7imine D\xf6n"})]}),g?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:"\uD83D\uDCD6"})}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-lg font-bold text-blue-800",children:g.kitapAdi}),(0,r.jsxs)("p",{className:"text-sm text-blue-600",children:[g.sinif," SÄ±nÄ±fÄ± â€¢ ",new Date(g.tarih).toLocaleDateString("tr-TR")]})]})]}),b.length>0&&(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-4 mt-4",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-800",children:b.length}),r.jsx("div",{className:"text-xs text-gray-500",children:"Toplam \xd6ÄŸrenci"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:(b.reduce((e,s)=>e+s.puan,0)/b.length).toFixed(1)}),r.jsx("div",{className:"text-xs text-gray-500",children:"SÄ±nÄ±f OrtalamasÄ±"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Math.max(...b.map(e=>e.puan))}),r.jsx("div",{className:"text-xs text-gray-500",children:"En Y\xfcksek"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-3 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:Math.min(...b.map(e=>e.puan))}),r.jsx("div",{className:"text-xs text-gray-500",children:"En D\xfcÅŸ\xfck"})]})]})]}),b.length>0?r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\xd6ÄŸrenci AdÄ±"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SÄ±nÄ±f"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Puan"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"BaÅŸarÄ± Durumu"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map((e,s)=>{let a=e.puan>=85?"M\xfckemmel":e.puan>=70?"Ä°yi":e.puan>=50?"Orta":"GeliÅŸmeli",t=e.puan>=85?"text-green-600 bg-green-100":e.puan>=70?"text-blue-600 bg-blue-100":e.puan>=50?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100";return(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:s+1}),(0,r.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.studentName}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["No: ",e.studentNumber]})]}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.studentClass}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:r.jsx("div",{className:"text-lg font-bold text-gray-900",children:e.puan})}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t}`,children:a})})]},e.studentId)})})]})}):r.jsx("div",{className:"text-center py-8 text-gray-500",children:"Bu sÄ±nav i\xe7in sonu\xe7 bulunmuyor."})]}):(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"G\xf6r\xfcnt\xfclemek istediÄŸiniz sÄ±navÄ± se\xe7in"}),(0,r.jsxs)("select",{onChange:e=>{let s=e.target.value;if(s){let e=t.find(e=>e.id===s);e&&L(e)}},className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[r.jsx("option",{value:"",children:"\uD83D\uDCDA SÄ±nav se\xe7iniz..."}),t.map(e=>(0,r.jsxs)("option",{value:e.id,children:["\uD83D\uDCD6 ",e.kitapAdi," - ",e.sinif," (",new Date(e.tarih).toLocaleDateString("tr-TR"),")"]},e.id))]})]})]}),c&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"\uD83D\uDCDD Yeni Kitap SÄ±navÄ± OluÅŸtur"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCD6 Kitap AdÄ±"}),r.jsx("input",{type:"text",value:j.kitapAdi,onChange:e=>f(s=>({...s,kitapAdi:e.target.value})),placeholder:"Kitap adÄ±nÄ± giriniz...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFDBï¸ SÄ±nÄ±f Se\xe7in"}),(0,r.jsxs)("select",{value:j.sinif,onChange:e=>f(s=>({...s,sinif:e.target.value,puanlar:{}})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"SÄ±nÄ±f se\xe7iniz..."}),N.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCC5 SÄ±nav Tarihi"}),r.jsx("input",{type:"date",value:j.tarih,onChange:e=>f(s=>({...s,tarih:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),w.length>0&&(0,r.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,r.jsxs)("h4",{className:"font-medium mb-3",children:["\uD83D\uDC65 ",j.sinif," SÄ±nÄ±fÄ± \xd6ÄŸrencileri (",w.length," \xf6ÄŸrenci)"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 max-h-96 overflow-y-auto",children:w.map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-3 p-2 border rounded",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-sm",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["No: ",e.number]})]}),r.jsx("input",{type:"number",min:"0",max:"100",step:"0.5",placeholder:"Puan",value:j.puanlar[e.id]||"",onChange:s=>D(e.id,s.target.value),className:"w-20 border border-gray-300 rounded px-2 py-1 text-sm focus:ring-1 focus:ring-blue-500"})]},e.id))})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:u?S:k,className:"bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-600 font-medium",children:u?"\uD83D\uDCBE SÄ±navÄ± G\xfcncelle":"\uD83D\uDCBE SÄ±navÄ± Kaydet"})})]}),m&&u&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"âœï¸ Kitap SÄ±navÄ±nÄ± D\xfczenle"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCD6 Kitap AdÄ±"}),r.jsx("input",{type:"text",value:j.kitapAdi,onChange:e=>f(s=>({...s,kitapAdi:e.target.value})),placeholder:"Kitap adÄ±nÄ± giriniz...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFDBï¸ SÄ±nÄ±f Se\xe7in"}),(0,r.jsxs)("select",{value:j.sinif,onChange:e=>f(s=>({...s,sinif:e.target.value,puanlar:{}})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"SÄ±nÄ±f se\xe7iniz..."}),N.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCC5 SÄ±nav Tarihi"}),r.jsx("input",{type:"date",value:j.tarih,onChange:e=>f(s=>({...s,tarih:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),w.length>0&&(0,r.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,r.jsxs)("h4",{className:"font-medium mb-3",children:["\uD83D\uDC65 ",j.sinif," SÄ±nÄ±fÄ± \xd6ÄŸrencileri (",w.length," \xf6ÄŸrenci)"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 max-h-96 overflow-y-auto",children:w.map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-3 p-2 border rounded",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-sm",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["No: ",e.number]})]}),r.jsx("input",{type:"number",min:"0",max:"100",step:"0.5",placeholder:"Puan",value:j.puanlar[e.id]||"",onChange:s=>D(e.id,s.target.value),className:"w-20 border border-gray-300 rounded px-2 py-1 text-sm focus:ring-1 focus:ring-blue-500"})]},e.id))})]}),r.jsx("div",{className:"flex justify-end mt-6",children:r.jsx("button",{onClick:S,className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 font-medium",children:"\uD83D\uDCBE SÄ±navÄ± G\xfcncelle"})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsx("h3",{className:"text-lg font-semibold",children:"\uD83D\uDCCA Mevcut Kitap SÄ±navlarÄ±"})}),n?(0,r.jsxs)("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),r.jsx("p",{className:"text-gray-500 mt-2",children:"Y\xfckleniyor..."})]}):0===t.length?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"\uD83D\uDCDA Hen\xfcz kitap sÄ±navÄ± bulunmamaktadÄ±r."}):r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uD83D\uDCD6 Kitap AdÄ±"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uD83C\uDFDBï¸ SÄ±nÄ±f"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uD83D\uDCC5 Tarih"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uD83D\uDC65 \xd6ÄŸrenci SayÄ±sÄ±"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uD83D\uDCCA Ortalama"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"âš™ï¸ Ä°ÅŸlemler"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>{let s=Object.keys(e.puanlar||{}).length,a=Object.values(e.puanlar||{}).map(e=>e.puan),t=a.length>0?(a.reduce((e,s)=>e+s,0)/a.length).toFixed(1):"0";return(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.kitapAdi})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:e.sinif})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:new Date(e.tarih).toLocaleDateString("tr-TR")})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:s})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-blue-600",children:t})}),r.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>C(e),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",title:"D\xfczenle",children:"âœï¸"}),r.jsx("button",{onClick:()=>A(e.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",title:"Sil",children:"\uD83D\uDDD1ï¸"})]})})]},e.id)})})]})})]})]})},E=({students:e,onDataUpdate:s})=>{let[t,i]=(0,l.useState)(""),[n,d]=(0,l.useState)(""),[c,o]=(0,l.useState)({}),[m,x]=(0,l.useState)(new Date().toISOString().split("T")[0]),[u,h]=(0,l.useState)([]),[g,p]=(0,l.useState)(!1),[b,y]=(0,l.useState)(null),[j,f]=(0,l.useState)({}),[N,v]=(0,l.useState)("yeni"),[k,D]=(0,l.useState)(""),[w,C]=(0,l.useState)(""),[S,A]=(0,l.useState)(""),[L,B]=(0,l.useState)(""),[F,z]=(0,l.useState)(""),E=[{key:"turkce",label:"\uD83D\uDCD6 T\xfcrk\xe7e",color:"#10B981"},{key:"matematik",label:"\uD83D\uDD22 Matematik",color:"#F59E0B"},{key:"fen",label:"\uD83D\uDD2C Fen Bilimleri",color:"#3B82F6"},{key:"sosyal",label:"\uD83C\uDF0D Sosyal Bilgiler",color:"#8B5CF6"},{key:"din",label:"\uD83D\uDD4C Din K\xfclt\xfcr\xfc",color:"#F97316"},{key:"ingilizce",label:"\uD83C\uDDFA\uD83C\uDDF8 Ä°ngilizce",color:"#EF4444"}],T=Array.from(new Set(e.map(e=>e.class))).sort(),M=e.filter(e=>e.class===t);(0,l.useEffect)(()=>{Y()},[]),(0,l.useEffect)(()=>{if(n&&t&&m){let s=e.filter(e=>e.class===t);I(s)}else o({}),f({})},[n,t,m,e]);let Y=async()=>{p(!0);try{let{getOdevDurumlariTumKayitlar:e}=await Promise.resolve().then(a.bind(a,6845)),s=await e();h(s)}catch(e){console.error("Ge\xe7miÅŸ kayÄ±tlar y\xfcklenirken hata:",e)}finally{p(!1)}},I=async e=>{try{let{getOdevDurumlari:s}=await Promise.resolve().then(a.bind(a,6845)),r=await s(n,t,m);if(Object.keys(r).length>0)o(r),f({});else{let s={},a={};e.forEach(e=>{s[e.id]="yapildi",a[e.id]=!0}),o(s),f(a)}}catch(t){console.error("\xd6dev durumlarÄ± y\xfcklenirken hata:",t);let s={},a={};e.forEach(e=>{s[e.id]="yapildi",a[e.id]=!0}),o(s),f(a)}},O=(e,s)=>{o(a=>a[e]===s?a:{...a,[e]:s}),f(s=>({...s,[e]:!0}))},P=async()=>{p(!0);try{let{updateOdevDurumu:e,getOdevDurumlari:r}=await Promise.resolve().then(a.bind(a,6845)),l=await r(n,t,m),i=Object.keys(l).length>0;if(0===Object.keys(j).length&&i||0===Object.keys(j).length&&i){alert("â„¹ï¸ Bu \xf6dev kontrol\xfc zaten kaydedilmiÅŸ. Herhangi bir deÄŸiÅŸiklik bulunmuyor."),p(!1);return}for(let s of M){let a=c[s.id]||"yapildi";await e(n,t,m,s.id,a)}let d={ders:n,sinif:t,tarih:m,ogrenciler:Object.entries(c).map(([e,s])=>({ogrenciId:e,durum:s})),toplamOgrenci:M.length,yapildi:M.filter(e=>"yapildi"===c[e.id]).length,eksikYapildi:M.filter(e=>"eksikYapildi"===c[e.id]).length,yapilmadi:M.filter(e=>"yapilmadi"===c[e.id]).length,updatedAt:new Date().toISOString()};h(e=>{let s=e.findIndex(e=>e.ders===n&&e.sinif===t&&e.tarih===m);if(!(s>=0))return[d,...e];{let a=[...e];return a[s]=d,a}}),f({}),s&&s();let o=M.filter(e=>"yapildi"===c[e.id]).length,x=M.filter(e=>"eksikYapildi"===c[e.id]).length,u=M.filter(e=>"yapilmadi"===c[e.id]).length;alert(`âœ… \xd6dev kontrol\xfc baÅŸarÄ±yla kaydedildi!

ðŸ“Š Ä°statistikler:
â€¢ âœ… YapÄ±ldÄ±: ${o} \xf6ÄŸrenci
â€¢ âš ï¸ Eksik YapÄ±ldÄ±: ${x} \xf6ÄŸrenci
â€¢ âŒ YapÄ±lmadÄ±: ${u} \xf6ÄŸrenci
â€¢ ðŸ“ Toplam: ${M.length} \xf6ÄŸrenci

ðŸ“… ${n} - ${t} - ${m}`),Y()}catch(e){console.error("\xd6dev durumlarÄ± kaydedilirken hata:",e),alert("âŒ Kaydetme sÄ±rasÄ±nda hata oluÅŸtu!")}finally{p(!1)}},H=e=>{y(e),i(e.sinif),d(e.ders),x(e.tarih);let s={};e.ogrenciler.forEach(e=>{s[e.ogrenciId]=e.durum}),o(s),f({})},K=async e=>{let t=`${e.ders} - ${e.sinif} - ${new Date(e.tarih).toLocaleDateString("tr-TR")}`;if(confirm(`âš ï¸ Bu kaydÄ± silmek istediÄŸinize emin misiniz?

ðŸ“ KayÄ±t: ${t}

Bu iÅŸlem geri alÄ±namaz!`)){p(!0);try{let{deleteOdev:r}=await Promise.resolve().then(a.bind(a,6845));await r(e.id),h(s=>s.filter(s=>s.id!==e.id)),s&&s(),alert(`âœ… KayÄ±t baÅŸarÄ±yla silindi!

ðŸ“ ${t}`),Y()}catch(e){console.error("KayÄ±t silme hatasÄ±:",e),alert("âŒ KayÄ±t silme sÄ±rasÄ±nda hata oluÅŸtu!")}finally{p(!1)}}},G={toplamOgrenci:M.length,yapildi:M.filter(e=>"yapildi"===c[e.id]).length,eksikYapildi:M.filter(e=>"eksikYapildi"===c[e.id]).length,yapilmadi:M.filter(e=>"yapilmadi"===c[e.id]).length};return(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6 rounded-lg shadow-lg",children:[r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"\uD83D\uDCDD \xd6dev Takibi"}),r.jsx("p",{className:"text-blue-100",children:"G\xfcnl\xfck \xf6dev durumlarÄ±nÄ± takip edin ve y\xf6netin"})]}),r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,r.jsxs)("div",{className:"flex space-x-4 border-b",children:[r.jsx("button",{onClick:()=>v("yeni"),className:`px-6 py-3 font-medium rounded-t-lg transition-colors ${"yeni"===N?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:"âœï¸ Yeni \xd6dev Kontrol\xfc"}),r.jsx("button",{onClick:()=>v("rapor"),className:`px-6 py-3 font-medium rounded-t-lg transition-colors ${"rapor"===N?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"}`,children:"\uD83D\uDCCA \xd6dev Raporu"})]})}),"yeni"===N&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFEB SÄ±nÄ±f Se\xe7in:"}),(0,r.jsxs)("select",{value:t,onChange:e=>{i(e.target.value),d(""),o({})},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"SÄ±nÄ±f se\xe7iniz..."}),T.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCDA Ders Se\xe7in:"}),(0,r.jsxs)("select",{value:n,onChange:e=>d(e.target.value),disabled:!t,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100",children:[r.jsx("option",{value:"",children:"Ders se\xe7iniz..."}),E.map(e=>r.jsx("option",{value:e.key,children:e.label},e.key))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCC5 Tarih Se\xe7in:"}),r.jsx("input",{type:"date",value:m,onChange:e=>x(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})}),n&&t&&(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold",children:["\uD83D\uDCCB \xd6ÄŸrenci Listesi - ",E.find(e=>e.key===n)?.label," (",t,")"]}),r.jsx("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("button",{onClick:P,disabled:0===Object.keys(j).length||g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center",children:[g?"â³":"\uD83D\uDCBE"," ",Object.keys(j).length>0?`Kaydet (${Object.keys(j).length})`:"Kaydet"]})})]}),Object.keys(c).length>0&&(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"bg-green-100 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:G.toplamOgrenci}),r.jsx("div",{className:"text-sm text-green-700",children:"Toplam \xd6ÄŸrenci"})]}),(0,r.jsxs)("div",{className:"bg-blue-100 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:G.yapildi}),r.jsx("div",{className:"text-sm text-blue-700",children:"âœ… YapÄ±ldÄ±"})]}),(0,r.jsxs)("div",{className:"bg-yellow-100 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:G.eksikYapildi}),r.jsx("div",{className:"text-sm text-yellow-700",children:"âš ï¸ Eksik YapÄ±ldÄ±"})]}),(0,r.jsxs)("div",{className:"bg-red-100 p-4 rounded-lg text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:G.yapilmadi}),r.jsx("div",{className:"text-sm text-red-700",children:"âŒ YapÄ±lmadÄ±"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full table-auto",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"p-3 text-left",children:"\xd6ÄŸrenci"}),r.jsx("th",{className:"p-3 text-center",children:"Durum"})]})}),r.jsx("tbody",{children:M.map(e=>(0,r.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[r.jsx("td",{className:"p-3 font-medium",children:e.name}),r.jsx("td",{className:"p-3",children:(0,r.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,r.jsxs)("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"radio",name:`odev-${e.id}`,value:"yapildi",checked:"yapildi"===c[e.id],onChange:s=>O(e.id,s.target.value),className:"sr-only"}),r.jsx("div",{className:`px-3 py-2 rounded-lg border-2 transition-all ${"yapildi"===c[e.id]?"bg-green-100 border-green-500 text-green-700":"bg-gray-50 border-gray-300 text-gray-500 hover:border-green-300"}`,children:"âœ… YapÄ±ldÄ±"})]}),(0,r.jsxs)("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"radio",name:`odev-${e.id}`,value:"eksikYapildi",checked:"eksikYapildi"===c[e.id],onChange:s=>O(e.id,s.target.value),className:"sr-only"}),r.jsx("div",{className:`px-3 py-2 rounded-lg border-2 transition-all ${"eksikYapildi"===c[e.id]?"bg-yellow-100 border-yellow-500 text-yellow-700":"bg-gray-50 border-gray-300 text-gray-500 hover:border-yellow-300"}`,children:"âš ï¸ Eksik YapÄ±ldÄ±"})]}),(0,r.jsxs)("label",{className:"flex items-center cursor-pointer",children:[r.jsx("input",{type:"radio",name:`odev-${e.id}`,value:"yapilmadi",checked:"yapilmadi"===c[e.id],onChange:s=>O(e.id,s.target.value),className:"sr-only"}),r.jsx("div",{className:`px-3 py-2 rounded-lg border-2 transition-all ${"yapilmadi"===c[e.id]?"bg-red-100 border-red-500 text-red-700":"bg-gray-50 border-gray-300 text-gray-500 hover:border-red-300"}`,children:"âŒ YapÄ±lmadÄ±"})]})]})})]},e.id))})]})}),0===Object.keys(c).length&&r.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center text-blue-700",children:[r.jsx("span",{className:"text-xl mr-2",children:"â„¹ï¸"}),r.jsx("p",{className:"text-sm",children:"Bu tarihte hen\xfcz \xf6dev kontrol\xfc yapÄ±lmamÄ±ÅŸ. YukarÄ±daki \xf6ÄŸrencilerin durumlarÄ±nÄ± iÅŸaretleyip kaydedebilirsiniz."})]})})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"\uD83D\uDCCA Ge\xe7miÅŸ Kontroller"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFEB SÄ±nÄ±f Filtresi:"}),(0,r.jsxs)("select",{value:L,onChange:e=>B(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"T\xfcm SÄ±nÄ±flar"}),T.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCDA Ders Filtresi:"}),(0,r.jsxs)("select",{value:F,onChange:e=>z(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"T\xfcm Dersler"}),E.map(e=>r.jsx("option",{value:e.key,children:e.label},e.key))]})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:()=>{B(""),z("")},className:"w-full px-4 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"\uD83D\uDD04 Filtreleri Temizle"})})]}),g&&0===u.length?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"â³ Ge\xe7miÅŸ kayÄ±tlar y\xfckleniyor..."}):(()=>{let e=u.filter(e=>(!L||e.sinif===L)&&(!F||e.ders===F)&&e.yapildi+e.eksikYapildi+e.yapilmadi>0);return u.filter(e=>"din-kulturu"===e.ders),u.filter(e=>e.yapildi+e.eksikYapildi+e.yapilmadi===0),0===e.length?r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"text-center py-8 text-gray-500",children:"\uD83D\uDCDD Hen\xfcz hi\xe7 \xf6dev kontrol\xfc yapÄ±lmamÄ±ÅŸ."})}):r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full table-auto",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"p-3 text-left",children:"Tarih"}),r.jsx("th",{className:"p-3 text-left",children:"SÄ±nÄ±f"}),r.jsx("th",{className:"p-3 text-left",children:"Ders"}),r.jsx("th",{className:"p-3 text-center",children:"YapÄ±ldÄ±"}),r.jsx("th",{className:"p-3 text-center",children:"Eksik YapÄ±ldÄ±"}),r.jsx("th",{className:"p-3 text-center",children:"YapÄ±lmadÄ±"}),r.jsx("th",{className:"p-3 text-center",children:"Ä°ÅŸlemler"})]})}),r.jsx("tbody",{children:e.map(e=>{let s=e.ogrenciler.filter(e=>"yapildi"===e.durum).length,a=e.ogrenciler.filter(e=>"eksikYapildi"===e.durum).length,t=e.ogrenciler.filter(e=>"yapilmadi"===e.durum).length;return(0,r.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[r.jsx("td",{className:"p-3 font-medium",children:new Date(e.tarih).toLocaleDateString("tr-TR")}),r.jsx("td",{className:"p-3",children:e.sinif}),r.jsx("td",{className:"p-3",children:E.find(s=>s.key===e.ders)?.label||e.ders}),r.jsx("td",{className:"p-3 text-center",children:r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:s})}),r.jsx("td",{className:"p-3 text-center",children:r.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm",children:a})}),r.jsx("td",{className:"p-3 text-center",children:r.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:t})}),r.jsx("td",{className:"p-3 text-center",children:(0,r.jsxs)("div",{className:"flex justify-center gap-2",children:[r.jsx("button",{onClick:()=>H(e),className:"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"âœï¸ D\xfczenle"}),r.jsx("button",{onClick:()=>K(e),className:"px-3 py-1 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"\uD83D\uDDD1ï¸ Sil"})]})})]},`${e.tarih}-${e.ders}-${e.sinif}`)})})]})})})()]})]}),"rapor"===N&&(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-6",children:"\uD83D\uDCCA \xd6dev Raporu"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFEB SÄ±nÄ±f Se\xe7in:"}),(0,r.jsxs)("select",{value:k,onChange:e=>{D(e.target.value),C("")},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"SÄ±nÄ±f se\xe7iniz..."}),T.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCDA Ders Se\xe7in (Opsiyonel):"}),(0,r.jsxs)("select",{value:S,onChange:e=>A(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"T\xfcm Dersler"}),E.map(e=>r.jsx("option",{value:e.key,children:e.label},e.key))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDC64 \xd6ÄŸrenci Se\xe7in (Opsiyonel):"}),(0,r.jsxs)("select",{value:w,onChange:e=>C(e.target.value),disabled:!k,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100",children:[r.jsx("option",{value:"",children:"T\xfcm \xf6ÄŸrenciler"}),k&&e.filter(e=>e.class===k).map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]})]}),k?r.jsx("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200",children:[(0,r.jsxs)("h4",{className:"text-lg font-semibold text-blue-800 mb-4",children:["\uD83D\uDCC8 ",k," SÄ±nÄ±fÄ± \xd6dev \xd6zeti",w&&` - ${e.find(e=>e.id===w)?.name}`,S&&` - ${E.find(e=>e.key===S)?.label}`]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(e=>{if(S&&e.key!==S)return null;let s=u.filter(s=>s.ders===e.key&&s.sinif===k&&(!w||s.ogrenciler.some(e=>e.ogrenciId===w))),a=s.length,t=s.reduce((e,s)=>e+s.yapildi,0),l=s.reduce((e,s)=>e+s.eksikYapildi,0),i=s.reduce((e,s)=>e+s.yapilmadi,0);if(0===a)return null;let n=a>0&&t+l+i>0?Math.round(t/(t+l+i)*100):0;return(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center mb-3",children:[r.jsx("span",{className:"text-2xl mr-2",children:e.label.split(" ")[0]}),r.jsx("h5",{className:"font-semibold text-gray-800",children:e.label.split(" ").slice(1).join(" ")})]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Toplam Kontrol:"}),r.jsx("span",{className:"font-medium",children:a})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"âœ… BaÅŸarÄ±lÄ±:"}),r.jsx("span",{className:"font-medium text-green-600",children:t})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"âš ï¸ Eksik:"}),r.jsx("span",{className:"font-medium text-yellow-600",children:l})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"âŒ BaÅŸarÄ±sÄ±z:"}),r.jsx("span",{className:"font-medium text-red-600",children:i})]}),(0,r.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[r.jsx("span",{className:"font-medium",children:"BaÅŸarÄ± OranÄ±:"}),(0,r.jsxs)("span",{className:`font-bold ${n>=80?"text-green-600":n>=60?"text-yellow-600":"text-red-600"}`,children:["%",isNaN(n)?0:n]})]})]})]},e.key)})}),(()=>{let s=[];if(k){if(w){let a=e.find(e=>e.id===w&&e.class===k);a&&(s=[a])}else s=e.filter(e=>e.class===k)}if(0===s.length)return null;let a=s.map(e=>{let s=u.filter(s=>s.sinif===k&&s.ogrenciler.some(s=>s.ogrenciId===e.id)),a=E.map(a=>{let t=s.filter(e=>e.ders===a.key),r=t.map(s=>{let a=s.ogrenciler.find(s=>s.ogrenciId===e.id);return{tarih:s.tarih,durum:a?.durum||"yapilmadi"}}),l=t.reduce((s,a)=>{let t=a.ogrenciler.find(s=>s.ogrenciId===e.id);return s+(t?.durum==="yapildi"?1:0)},0),i=t.reduce((s,a)=>{let t=a.ogrenciler.find(s=>s.ogrenciId===e.id);return s+(t?.durum==="eksikYapildi"?1:0)},0),n=t.reduce((s,a)=>{let t=a.ogrenciler.find(s=>s.ogrenciId===e.id);return s+(t?.durum==="yapilmadi"?1:0)},0),d=l+i+n;return{ders:a.label,dersKey:a.key,toplamYapildi:l,toplamEksik:i,toplamYapilmadi:n,toplamKontrol:d,basariOrani:d>0?Math.round(l/d*100):0,tarihDetaylari:r}}).filter(e=>e.toplamKontrol>0),t=a.reduce((e,s)=>e+s.toplamYapildi,0),r=a.reduce((e,s)=>e+s.toplamEksik,0),l=a.reduce((e,s)=>e+s.toplamYapilmadi,0),i=t+r+l;return{student:e,dersIstatistikleri:a,genelYapildi:t,genelEksik:r,genelYapilmadi:l,genelToplam:i,genelBasariOrani:i>0?Math.round(t/i*100):0}}).filter(e=>e.genelToplam>0);return 0===a.length?(0,r.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDC65"}),r.jsx("p",{children:"Se\xe7ili sÄ±nÄ±f i\xe7in hen\xfcz \xf6dev kontrol\xfc verisi bulunmamaktadÄ±r."})]}):(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow border",children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:w?`ðŸ‘¤ ${e.find(e=>e.id===w)?.name} - DetaylÄ± Performans \xd6zeti`:`ðŸ‘¥ ${k} SÄ±nÄ±fÄ± - \xd6ÄŸrenci BazÄ±nda DetaylÄ± Performans \xd6zeti`}),r.jsx("div",{className:"space-y-4",children:a.map(({student:e,dersIstatistikleri:s,genelYapildi:a,genelEksik:t,genelYapilmadi:l,genelToplam:i,genelBasariOrani:n})=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("h5",{className:"font-semibold text-gray-800",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,r.jsxs)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:[a," âœ…"]}),(0,r.jsxs)("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:[t," âš ï¸"]}),(0,r.jsxs)("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded",children:[l," âŒ"]}),(0,r.jsxs)("span",{className:`font-bold px-2 py-1 rounded ${n>=80?"bg-green-100 text-green-800":n>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:["%",n]})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:s.map(e=>(0,r.jsxs)("div",{className:"bg-gray-50 p-3 rounded border",children:[r.jsx("div",{className:"font-medium text-sm text-gray-700 mb-2",children:e.ders}),(0,r.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"âœ… YapÄ±ldÄ±:"}),r.jsx("span",{className:"font-medium text-green-600",children:e.toplamYapildi})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"âš ï¸ Eksik:"}),r.jsx("span",{className:"font-medium text-yellow-600",children:e.toplamEksik})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"âŒ YapÄ±lmadÄ±:"}),r.jsx("span",{className:"font-medium text-red-600",children:e.toplamYapilmadi})]}),(0,r.jsxs)("div",{className:"flex justify-between border-t pt-1 mt-2",children:[r.jsx("span",{className:"font-medium",children:"BaÅŸarÄ±:"}),(0,r.jsxs)("span",{className:`font-bold ${e.basariOrani>=80?"text-green-600":e.basariOrani>=60?"text-yellow-600":"text-red-600"}`,children:["%",e.basariOrani]})]}),e.tarihDetaylari&&e.tarihDetaylari.length>0&&(0,r.jsxs)("div",{className:"border-t pt-2 mt-2",children:[r.jsx("div",{className:"font-medium text-xs text-gray-600 mb-1",children:"\uD83D\uDCC5 Kontrol Tarihleri:"}),r.jsx("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:e.tarihDetaylari.map((e,s)=>(0,r.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[r.jsx("span",{className:"text-gray-500",children:e.tarih}),r.jsx("span",{className:`px-1 py-0.5 rounded text-xs ${"yapildi"===e.durum?"bg-green-100 text-green-700":"eksikYapildi"===e.durum?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:"yapildi"===e.durum?"âœ…":"eksikYapildi"===e.durum?"âš ï¸":"âŒ"})]},s))})]})]})]},e.dersKey))})]},e.id))})]})})()]})}):(0,r.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDCCA"}),r.jsx("h4",{className:"text-lg font-semibold text-gray-600 mb-2",children:"\xd6dev Raporu G\xf6r\xfcnt\xfcleme"}),r.jsx("p",{className:"text-gray-500",children:"SÄ±nÄ±f se\xe7erek baÅŸlayÄ±n. \xd6ÄŸrenci se\xe7erseniz sadece o \xf6ÄŸrencinin \xf6zeti g\xf6sterilir."})]})]})]})},T=({students:e,onDataUpdate:s})=>{let[t,i]=(0,l.useState)(""),[n,d]=(0,l.useState)(""),[c,o]=(0,l.useState)(""),[m,x]=(0,l.useState)(""),[u,h]=(0,l.useState)(!1),[g,p]=(0,l.useState)([]),[b,y]=(0,l.useState)([]),j=Array.from(new Set(e.map(e=>e.class))).sort();(0,l.useEffect)(()=>{d(""),o(""),x(""),p([]),y([])},[t]),(0,l.useEffect)(()=>{n&&f()},[n]);let f=async()=>{h(!0);try{let{getDocs:e,collection:s}=await Promise.resolve().then(a.bind(a,1492)),{db:t}=await Promise.resolve().then(a.bind(a,6845)),r=(await e(s(t,"exams"))).docs.map(e=>({id:e.id,...e.data()})),l=(await e(s(t,"results"))).docs.map(e=>({id:e.id,...e.data()}));console.log("\uD83D\uDD0D DEBUG - Toplam deneme:",r.length),console.log("\uD83D\uDD0D DEBUG - Toplam sonu\xe7:",l.length);let i=l.filter(e=>e.studentId===n||e.student_id===n);console.log("\uD83D\uDD0D DEBUG - \xd6ÄŸrenci sonu\xe7larÄ±:",i.length),console.log("\uD83D\uDD0D DEBUG - \xd6ÄŸrenci sonu\xe7 \xf6rneÄŸi:",i[0]);let d=new Set(i.map(e=>e.examId)),c=r.filter(e=>d.has(e.id));console.log("\uD83D\uDD0D DEBUG - EÅŸleÅŸen denemeler:",c.length),p(c),y(i)}catch(e){console.error("Deneme verilerini y\xfckleme hatasÄ±:",e)}finally{h(!1)}},N=async()=>{if(!n||!c||!m.trim()){alert("L\xfctfen \xf6ÄŸrenci, deneme se\xe7in ve deÄŸerlendirme yazÄ±n.");return}h(!0);try{let{addDoc:t,collection:r}=await Promise.resolve().then(a.bind(a,1492)),{db:l}=await Promise.resolve().then(a.bind(a,6845)),u=g.find(e=>e.id===c)||b.find(e=>e.id===c);await t(r(l,"denemeDegerlendirmeleri"),{studentId:n,studentName:e.find(e=>e.id===n)?.name||"",examId:c,examName:u?.name||u?.examName||"Bilinmeyen Deneme",evaluationText:m.trim(),createdAt:new Date}),i(""),d(""),o(""),x(""),p([]),y([]),s(),alert("Deneme deÄŸerlendirmesi baÅŸarÄ±yla kaydedildi!")}catch(e){console.error("Deneme deÄŸerlendirme kaydetme hatasÄ±:",e),alert("Kaydetme sÄ±rasÄ±nda bir hata oluÅŸtu: "+e.message)}finally{h(!1)}};return e.find(e=>e.id===n),(0,r.jsxs)("div",{className:"p-4 space-y-4",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white p-4 rounded-lg shadow-lg",children:[r.jsx("h2",{className:"text-xl font-bold mb-1",children:"\uD83D\uDCCA Deneme DeÄŸerlendirme"}),r.jsx("p",{className:"text-purple-100 text-sm",children:"\xd6ÄŸrencilerin deneme performanslarÄ±nÄ± deÄŸerlendirin"})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"\uD83D\uDCDD Yeni DeÄŸerlendirme Ekle"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFEB SÄ±nÄ±f Se\xe7in:"}),(0,r.jsxs)("select",{value:t,onChange:e=>{i(e.target.value),d(""),o(""),x("")},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"",children:"SÄ±nÄ±f se\xe7iniz..."}),j.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDC64 \xd6ÄŸrenci Se\xe7in:"}),(0,r.jsxs)("select",{value:n,onChange:e=>d(e.target.value),disabled:!t,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 disabled:bg-gray-100",children:[r.jsx("option",{value:"",children:"\xd6ÄŸrenci se\xe7iniz..."}),t&&e.filter(e=>e.class===t).map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]})]}),n&&(0,r.jsxs)("div",{className:"mt-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCDA Deneme Se\xe7in:"}),u?(0,r.jsxs)("div",{className:"p-3 border border-gray-300 rounded-lg bg-gray-50 flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600 mr-3"}),r.jsx("span",{className:"text-gray-600",children:"Denemeler y\xfckleniyor..."})]}):g.length>0?(0,r.jsxs)("select",{value:c,onChange:e=>{o(e.target.value),x("")},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[r.jsx("option",{value:"",children:"Deneme se\xe7iniz..."}),g.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.title," - ",new Date(e.date).toLocaleDateString("tr-TR")]},e.id))]}):(0,r.jsxs)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,r.jsxs)("p",{className:"text-yellow-800 text-sm",children:[r.jsx("strong",{children:"âš ï¸ Bilgi:"})," Bu \xf6ÄŸrencinin hen\xfcz deneme sonucu bulunmuyor."]}),(0,r.jsxs)("p",{className:"text-yellow-700 text-xs mt-2",children:["Toplam ",b.length," sonu\xe7 bulundu, ",g.length," deneme listelendi."]})]})]}),c&&b.length>0&&(()=>{let e=b.find(e=>e.examId===c||e.id===c);if(!e)return null;let s=[{key:"turkce",name:"T\xfcrk\xe7e",icon:"\uD83D\uDCD6"},{key:"matematik",name:"Matematik",icon:"\uD83D\uDD22"},{key:"fen",name:"Fen",icon:"\uD83D\uDD2C"},{key:"sosyal",name:"Sosyal",icon:"\uD83C\uDF0D"},{key:"din",name:"Din K\xfclt\xfcr\xfc",icon:"\uD83D\uDD4C"},{key:"ingilizce",name:"Ä°ngilizce",icon:"\uD83D\uDDE3ï¸"}],a=s=>{let a=e.scores?.[s],t=e.nets?.[s],r=0,l=0,i=0,n=0;return a&&"object"==typeof a?(r=a.D||0,l=a.Y||0,i=a.B||0,n=parseFloat((r-l/3).toFixed(1))):void 0!==t&&(n="string"==typeof t?parseFloat(t):t,r=Math.round(Math.max(0,4*n)),l=Math.max(0,Math.round(4*n)-Math.round(5*n)),i=Math.max(0,20-r-l)),{D:r,Y:l,B:i,net:n}};return(0,r.jsxs)("div",{className:"mt-6 bg-white rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-t-lg",children:r.jsx("h3",{className:"text-lg font-semibold",children:"\uD83D\uDCCA Deneme Sonucu DetaylarÄ±"})}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Ders"}),r.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"DoÄŸru"}),r.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"YanlÄ±ÅŸ"}),r.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"BoÅŸ"}),r.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Net"})]})}),r.jsx("tbody",{children:s.map(e=>{let s=a(e.key);return(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-lg mr-2",children:e.icon}),r.jsx("span",{className:"font-medium text-gray-900",children:e.name})]})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:s.D})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:s.Y})}),r.jsx("td",{className:"px-4 py-3 text-center",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:s.B})}),r.jsx("td",{className:"px-4 py-3 text-center",children:(0,r.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.net>=0?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"}`,children:[s.net>=0?"+":"",s.net]})})]},e.key)})})]})}),r.jsx("div",{className:"p-4 bg-gray-50 border-t",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.reduce((e,s)=>{let t=a(s.key);return e+t.net},0).toFixed(1)}),r.jsx("div",{className:"text-sm text-gray-600",children:"Toplam Net"})]})})]})})(),c&&(0,r.jsxs)("div",{className:"mt-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCAC \xd6ÄŸrenci DeÄŸerlendirmesi:"}),r.jsx("textarea",{value:m,onChange:e=>x(e.target.value),placeholder:"Bu deneme ile ilgili \xf6ÄŸrencinin performansÄ±nÄ±, g\xfc\xe7l\xfc ve zayÄ±f y\xf6nlerini, \xe7alÄ±ÅŸma \xf6nerilerini yazÄ±n...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:5})]}),c&&m.trim()&&r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsx("button",{onClick:N,disabled:u,className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center font-medium",children:u?"â³ Kaydediliyor...":"\uD83D\uDCBE DeÄŸerlendirmeyi Kaydet"})})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg p-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-purple-900 mb-4 flex items-center",children:[r.jsx("span",{className:"text-purple-600 mr-3",children:"\uD83D\uDCA1"}),"NasÄ±l KullanÄ±lÄ±r?"]}),(0,r.jsxs)("div",{className:"space-y-3 text-purple-800",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx("span",{className:"bg-purple-200 text-purple-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"1"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:"SÄ±nÄ±f ve \xd6ÄŸrenci Se\xe7in"}),r.jsx("p",{className:"text-sm",children:"Hangi sÄ±nÄ±ftan hangi \xf6ÄŸrencinin deÄŸerlendirmesini yapacaÄŸÄ±nÄ±zÄ± belirleyin."})]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx("span",{className:"bg-purple-200 text-purple-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"2"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:"Deneme Sonucunu Ä°nceleyin"}),r.jsx("p",{className:"text-sm",children:"\xd6ÄŸrencinin girdiÄŸi denemeyi se\xe7in ve mevcut sonu\xe7larÄ±nÄ± g\xf6r\xfcnt\xfcleyin."})]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx("span",{className:"bg-purple-200 text-purple-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"3"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:"DeÄŸerlendirme YazÄ±n"}),r.jsx("p",{className:"text-sm",children:"\xd6ÄŸrencinin performansÄ± hakkÄ±nda detaylÄ± deÄŸerlendirme ve \xf6nerilerinizi yazÄ±n."})]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx("span",{className:"bg-purple-200 text-purple-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"4"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:"Kaydedin ve Takip Edin"}),r.jsx("p",{className:"text-sm",children:"DeÄŸerlendirmeyi kaydedin ve \xf6ÄŸrencinin geliÅŸimini takip edin."})]})]})]}),r.jsx("div",{className:"mt-6 p-4 bg-purple-100 rounded-lg",children:(0,r.jsxs)("p",{className:"text-purple-900 text-sm",children:[r.jsx("strong",{children:"\uD83D\uDCCC Not:"})," Deneme deÄŸerlendirmeleri \xf6ÄŸrencinin dashboard'Ä±nda g\xf6r\xfcnecektir. \xd6ÄŸrenci \xf6ÄŸretmenin deÄŸerlendirmelerini okuyabilir ve \xe7alÄ±ÅŸma \xf6nerilerini takip edebilir."]})})]})]})},M=({students:e})=>{let[s,t]=(0,l.useState)("yeni"),[h,g]=(0,l.useState)("performans"),[p,b]=(0,l.useState)(""),[y,j]=(0,l.useState)(new Date().toISOString().split("T")[0]),[f,N]=(0,l.useState)({}),[v,k]=(0,l.useState)(!1),[D,w]=(0,l.useState)([]),[C,S]=(0,l.useState)([]),[A,L]=(0,l.useState)(""),[B,F]=(0,l.useState)(""),z=["2-A","3-A","4-A"],E=p?e.filter(e=>e.class===p).sort((e,s)=>e.name.localeCompare(s.name)):[],T=D.filter(e=>{let s=!A||e.class===A,a=!B||e.studentName===B;return s&&a}),M=(0,l.useMemo)(()=>{if(!A)return[];console.log("\uD83C\uDFAF DEBUG - Grafik hesaplanÄ±yor..."),console.log("\uD83C\uDFAF DEBUG - Se\xe7ilen sÄ±nÄ±f:",A),console.log("\uD83C\uDFAF DEBUG - Toplam sÄ±nav:",D.length);let e=D.filter(e=>e.class===A);console.log("\uD83C\uDFAF DEBUG - SÄ±nÄ±f sÄ±navlarÄ± sayÄ±sÄ±:",e.length),console.log("\uD83C\uDFAF DEBUG - SÄ±nÄ±f sÄ±navlarÄ± \xf6rnek:",e.slice(0,3));let s=e.reduce((e,s)=>{let a=s.date;return e[a]||(e[a]={exams:[],studentExams:[]}),e[a].exams.push(s),B&&s.studentName===B&&e[a].studentExams.push(s),e},{});console.log("\uD83C\uDFAF DEBUG - Tarih gruplarÄ±:",Object.keys(s));let a=Object.keys(s).sort().map(e=>{let a=s[e],t=a.exams.reduce((e,s)=>e+(Number(s.wpm)||0),0),r=a.exams.length>0?t/a.exams.length:0,l=a.studentExams.length>0?a.studentExams.reduce((e,s)=>e+(Number(s.wpm)||0),0)/a.studentExams.length:null;return console.log(`ðŸŽ¯ DEBUG - ${e}: Toplam WPM=${t}, SayÄ±=${a.exams.length}, Ortalama=${r}`),{date:e,sinifOrtalamasi:Math.round(r),ogrenci:null!==l?Math.round(l):null}});return console.log("\uD83C\uDFAF DEBUG - Grafik verileri:",a),a},[D,A,B]),Y=(0,l.useMemo)(()=>{if(!A)return 0;let e=D.filter(e=>e.class===A);return 0===e.length?0:e.reduce((e,s)=>e+s.wpm,0)/e.length},[D,A]),I=(0,l.useMemo)(()=>{if(!B)return 0;let e=D.filter(e=>e.studentName===B);return 0===e.length?0:e.reduce((e,s)=>e+s.wpm,0)/e.length},[D,B]);(0,l.useEffect)(()=>{O()},[]);let O=async()=>{try{let{getDocs:e,query:s,collection:t,orderBy:r}=await Promise.resolve().then(a.bind(a,1492)),{db:l}=await Promise.resolve().then(a.bind(a,6845)),i=s(t(l,"okumaSinavlari"),r("date","desc")),n=(await e(i)).docs.map(e=>{let s=e.data();return console.log("\uD83C\uDFAF DEBUG - Firestore verisi:",e.id,s),{id:e.id,...s,date:s.date||s.date||"",class:s.class||s.classId||""}});console.log("\uD83D\uDCDA Y\xfcklenen sÄ±nav sayÄ±sÄ±:",n.length),console.log("\uD83D\uDCDA SÄ±nÄ±f alanlarÄ±:",n.map(e=>({id:e.id,class:e.class,date:e.date}))),w(n)}catch(e){console.error("Ge\xe7miÅŸ sÄ±navlarÄ± y\xfckleme hatasÄ±:",e)}},P=async(e,s)=>{try{let{getOkumaSinavlariByClassAndDate:t}=await Promise.resolve().then(a.bind(a,6845)),r=await t(e,s);S(r);let l={};r.forEach(e=>{l[e.studentId]=e.wpm}),N(e=>({...e,...l}))}catch(e){console.error("SÄ±nav sonu\xe7larÄ±nÄ± y\xfckleme hatasÄ±:",e)}};(0,l.useEffect)(()=>{p&&y&&P(p,y)},[p,y]);let H=(e,s)=>{let a=parseInt(s)||0;N(s=>({...s,[e]:a}))},K=async()=>{if(!p||!y){alert("L\xfctfen sÄ±nÄ±f ve tarih se\xe7in!");return}k(!0);try{let{addBulkOkumaSinavlari:e}=await Promise.resolve().then(a.bind(a,6845)),s=E.filter(e=>f[e.id]>0).map(e=>({classId:p,date:y,studentId:e.id,studentName:e.name,wpm:f[e.id]}));if(0===s.length){alert("L\xfctfen en az bir \xf6ÄŸrenci i\xe7in kelime sayÄ±sÄ± girin!"),k(!1);return}await e(s),alert(`âœ… ${s.length} \xf6ÄŸrencinin okuma sÄ±navÄ± baÅŸarÄ±yla kaydedildi!`),N({}),await O(),await P(p,y)}catch(e){console.error("SÄ±nav kaydetme hatasÄ±:",e),alert("SÄ±nav kaydedilirken bir hata oluÅŸtu!")}finally{k(!1)}},G=async e=>{if(confirm("Bu sÄ±nav sonucunu silmek istediÄŸinize emin misiniz?"))try{let{deleteOkumaSinavi:s}=await Promise.resolve().then(a.bind(a,6845));await s(e),O(),P(p,y)}catch(e){console.error("SÄ±nav silme hatasÄ±:",e)}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl p-8 text-white",children:[r.jsx("h2",{className:"text-3xl font-bold mb-4",children:"\uD83D\uDCDA Okuma SÄ±navÄ± Y\xf6netimi"}),r.jsx("p",{className:"text-green-100 text-lg",children:"2-A, 3-A ve 4-A sÄ±nÄ±flarÄ± i\xe7in okuma hÄ±zÄ± takibi"})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-2",children:r.jsx("div",{className:"flex space-x-2",children:[{key:"yeni",label:"\uD83D\uDCDD Yeni SÄ±nav"},{key:"gecmis",label:"\uD83D\uDCCB Ge\xe7miÅŸ SÄ±navlar"},{key:"analiz",label:"\uD83D\uDCCA Analiz"}].map(e=>r.jsx("button",{onClick:()=>t(e.key),className:`px-6 py-3 rounded-lg font-medium transition-all ${s===e.key?"bg-green-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e.label},e.key))})}),"yeni"===s&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"\uD83D\uDCDD Yeni Okuma SÄ±navÄ± Ekle"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFEB SÄ±nÄ±f Se\xe7in"}),(0,r.jsxs)("select",{value:p,onChange:e=>{b(e.target.value),N({})},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[r.jsx("option",{value:"",children:"SÄ±nÄ±f se\xe7in..."}),z.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCC5 SÄ±nav Tarihi"}),r.jsx("input",{type:"date",value:y,onChange:e=>j(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),p&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h4",{className:"text-lg font-semibold text-gray-700",children:["\uD83D\uDC68â€\uD83C\uDF93 ",p," SÄ±nÄ±fÄ± \xd6ÄŸrencileri"]}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[E.length," \xf6ÄŸrenci"]})]}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full border-collapse border border-gray-200 rounded-lg",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-green-50",children:[r.jsx("th",{className:"border border-gray-200 p-3 text-left",children:"\xd6ÄŸrenci AdÄ±"}),r.jsx("th",{className:"border border-gray-200 p-3 text-center w-32",children:"Okuma HÄ±zÄ± (kelime/dakika)"}),r.jsx("th",{className:"border border-gray-200 p-3 text-center w-24",children:"Durum"})]})}),r.jsx("tbody",{children:E.map(e=>{let s=f[e.id]||0,a=C.find(s=>s.studentId===e.id);return(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsxs)("td",{className:"border border-gray-200 p-3",children:[r.jsx("div",{className:"font-medium text-gray-900",children:e.name}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["No: ",e.number]})]}),r.jsx("td",{className:"border border-gray-200 p-3 text-center",children:r.jsx("input",{type:"number",min:"0",max:"500",value:s||"",onChange:s=>H(e.id,s.target.value),placeholder:"0",className:"w-24 p-2 border border-gray-300 rounded-lg text-center focus:ring-2 focus:ring-green-500 focus:border-green-500"})}),r.jsx("td",{className:"border border-gray-200 p-3 text-center",children:s>0?r.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 rounded text-sm",children:"âœ“ Girildi"}):a?r.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-sm",children:"âš  Mevcut"}):r.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-gray-100 text-gray-500 rounded text-sm",children:"-"})})]},e.id)})})]})})]}),p&&E.length>0&&r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{onClick:K,disabled:v,className:"px-8 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed font-medium flex items-center",children:v?"â³ Kaydediliyor...":"\uD83D\uDCBE SÄ±navÄ± Kaydet"})})]}),"gecmis"===s&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"\uD83D\uDCCB Ge\xe7miÅŸ Okuma SÄ±navlarÄ±"}),r.jsx("button",{onClick:()=>O(),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center gap-2",children:"\uD83D\uDD04 Yenile"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFEB SÄ±nÄ±f Filtresi"}),(0,r.jsxs)("select",{value:A,onChange:e=>{L(e.target.value),F("")},className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[r.jsx("option",{value:"",children:"T\xfcm SÄ±nÄ±flar"}),z.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDC64 \xd6ÄŸrenci Filtresi"}),(0,r.jsxs)("select",{value:B,onChange:e=>F(e.target.value),disabled:!A,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 disabled:bg-gray-100",children:[r.jsx("option",{value:"",children:"T\xfcm \xd6ÄŸrenciler"}),A&&e.filter(e=>e.class===A).sort((e,s)=>e.name.localeCompare(s.name)).map(e=>r.jsx("option",{value:e.name,children:e.name},e.id))]})]})]}),0===T.length?(0,r.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDCDD"}),r.jsx("h4",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Hen\xfcz SÄ±nav Yok"}),r.jsx("p",{children:"Yeni okuma sÄ±navÄ± ekleyerek baÅŸlayÄ±n."})]}):r.jsx("div",{className:"space-y-4",children:Object.entries(T.reduce((e,s)=>{let a=`${s.date}-${s.class}`;return e[a]||(e[a]=[]),e[a].push(s),e},{})).map(([e,s])=>{let[a,t]=e.split("-");return(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"font-semibold text-gray-800",children:["\uD83D\uDCC5 ",new Date(a).toLocaleDateString("tr-TR")," - ",t]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[s.length," \xf6ÄŸrenci sÄ±nava alÄ±ndÄ±"]})]}),(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.round(s.reduce((e,s)=>e+s.wpm,0)/s.length)}),r.jsx("div",{className:"text-xs text-gray-500",children:"Ortalama D/K"})]})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2",children:s.map(e=>(0,r.jsxs)("div",{className:"bg-gray-50 p-2 rounded text-center",children:[r.jsx("div",{className:"font-medium text-sm text-gray-800 truncate",children:e.studentName}),r.jsx("div",{className:"text-lg font-bold text-green-600",children:e.wpm}),r.jsx("button",{onClick:()=>G(e.id),className:"text-xs text-red-500 hover:text-red-700 mt-1",children:"Sil"})]},e.id))})]},e)})})]}),"analiz"===s&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"\uD83D\uDCC8 SÄ±nÄ±f BazlÄ± Genel Ortalamalar"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:z.map(e=>{let s=D.filter(s=>s.class===e),a=s.map(e=>e.wpm),t=a.length>0?a.reduce((e,s)=>e+s,0)/a.length:0,l=s.map(e=>e.wpm),i=l.length>0?l.reduce((e,s)=>e+s,0)/l.length:0;return(0,r.jsxs)("div",{className:`p-4 rounded-lg border ${A===e?"bg-green-100 border-green-300":"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200"}`,children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsxs)("div",{className:"text-sm font-medium text-green-700",children:[e," SÄ±nÄ±fÄ±"]}),A===e&&r.jsx("span",{className:"text-xs bg-green-200 text-green-800 px-2 py-1 rounded",children:"FiltrelenmiÅŸ"})]}),r.jsx("div",{className:"text-3xl font-bold text-green-600",children:A?i>0?Math.round(i):"-":t>0?Math.round(t):"-"}),r.jsx("div",{className:"text-xs text-green-600",children:"Ortalama D/K"}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:[A?l.length:s.length," sÄ±nav kaydÄ±"]})]},e)})})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[r.jsx("button",{onClick:()=>g("performans"),className:`px-4 py-2 rounded-lg font-medium transition-all ${"performans"===h?"bg-green-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"\uD83C\uDFC6 En Ä°yi Performanslar"}),r.jsx("button",{onClick:()=>g("ortalama"),className:`px-4 py-2 rounded-lg font-medium transition-all ${"ortalama"===h?"bg-green-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"\uD83D\uDCCA Ortalama D/K Tablosu"}),r.jsx("button",{onClick:()=>g("grafik"),className:`px-4 py-2 rounded-lg font-medium transition-all ${"grafik"===h?"bg-green-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"\uD83D\uDCC8 GeliÅŸim GrafiÄŸi"})]}),r.jsx("button",{onClick:()=>O(),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center gap-2",children:"\uD83D\uDD04 Yenile"})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFEB SÄ±nÄ±f Filtresi"}),(0,r.jsxs)("select",{value:A,onChange:e=>{L(e.target.value),F("")},className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[r.jsx("option",{value:"",children:"T\xfcm SÄ±nÄ±flar"}),z.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDC64 \xd6ÄŸrenci Filtresi (Grafik i\xe7in gerekli)"}),(0,r.jsxs)("select",{value:B,onChange:e=>F(e.target.value),disabled:!A,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 disabled:bg-gray-100",children:[r.jsx("option",{value:"",children:"\xd6ÄŸrenci se\xe7in..."}),A&&e.filter(e=>e.class===A).sort((e,s)=>e.name.localeCompare(s.name)).map(e=>r.jsx("option",{value:e.name,children:e.name},e.id))]})]})]}),"performans"===h&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"\uD83C\uDFC6 En Ä°yi Performanslar"}),0===T.length?(0,r.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDCCA"}),r.jsx("h4",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Veri Yok"}),r.jsx("p",{children:"Filtrelere uygun sÄ±nav verisi bulunamadÄ±."})]}):r.jsx("div",{className:"space-y-2",children:T.sort((e,s)=>s.wpm-e.wpm).slice(0,20).map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`w-8 h-8 flex items-center justify-center rounded-full font-bold text-sm ${0===s?"bg-yellow-400 text-white":1===s?"bg-gray-300 text-gray-700":2===s?"bg-orange-300 text-white":"bg-gray-200 text-gray-600"}`,children:s+1}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:e.studentName}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[e.class," - ",new Date(e.date).toLocaleDateString("tr-TR")]})]})]}),(0,r.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[e.wpm," D/K"]})]},e.id))})]}),"ortalama"===h&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"\uD83D\uDCCA Ortalama D/K Tablosu"}),0===T.length?(0,r.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDCCA"}),r.jsx("h4",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Veri Yok"}),r.jsx("p",{children:"Filtrelere uygun sÄ±nav verisi bulunamadÄ±."})]}):r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full border-collapse",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-green-50",children:[r.jsx("th",{className:"border border-gray-200 p-3 text-left",children:"SÄ±ra"}),r.jsx("th",{className:"border border-gray-200 p-3 text-left",children:"\xd6ÄŸrenci AdÄ±"}),r.jsx("th",{className:"border border-gray-200 p-3 text-center",children:"SÄ±nÄ±f"}),r.jsx("th",{className:"border border-gray-200 p-3 text-center",children:"SÄ±nav SayÄ±sÄ±"}),r.jsx("th",{className:"border border-gray-200 p-3 text-center",children:"Ortalama D/K"}),r.jsx("th",{className:"border border-gray-200 p-3 text-center",children:"En Y\xfcksek"})]})}),r.jsx("tbody",{children:(()=>{let e=T.reduce((e,s)=>{let a=s.studentName;return e[a]||(e[a]={name:s.studentName,class:s.class,exams:[],wpmSum:0,count:0,maxWpm:0}),e[a].exams.push(s),e[a].wpmSum+=s.wpm,e[a].count+=1,e[a].maxWpm=Math.max(e[a].maxWpm,s.wpm),e},{});return Object.values(e).map(e=>({...e,average:e.count>0?e.wpmSum/e.count:0})).sort((e,s)=>s.average-e.average).map((e,s)=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"border border-gray-200 p-3",children:r.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold ${0===s?"bg-yellow-400 text-white":1===s?"bg-gray-300 text-gray-700":2===s?"bg-orange-300 text-white":"bg-gray-100 text-gray-600"}`,children:s+1})}),r.jsx("td",{className:"border border-gray-200 p-3 font-medium text-gray-900",children:e.name}),r.jsx("td",{className:"border border-gray-200 p-3 text-center text-gray-600",children:e.class}),r.jsx("td",{className:"border border-gray-200 p-3 text-center",children:r.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-700 rounded text-sm",children:e.count})}),r.jsx("td",{className:"border border-gray-200 p-3 text-center",children:r.jsx("span",{className:"text-lg font-bold text-green-600",children:Math.round(e.average)})}),r.jsx("td",{className:"border border-gray-200 p-3 text-center",children:r.jsx("span",{className:"text-green-600 font-medium",children:e.maxWpm})})]},e.name))})()})]})})]}),"grafik"===h&&(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"\uD83D\uDCC8 GeliÅŸim GrafiÄŸi"}),A?0===T.length?(0,r.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDCCA"}),r.jsx("h4",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Veri Yok"}),r.jsx("p",{children:"Se\xe7ilen sÄ±nÄ±f i\xe7in sÄ±nav verisi bulunamadÄ±."})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"h-96",children:r.jsx(i.h,{width:"100%",height:"100%",children:(0,r.jsxs)(n.w,{data:M,margin:{top:5,right:30,left:20,bottom:5},children:[r.jsx(d.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),r.jsx(c.K,{dataKey:"date",tick:{fontSize:12},tickFormatter:e=>new Date(e).toLocaleDateString("tr-TR",{day:"numeric",month:"short"})}),r.jsx(o.B,{tick:{fontSize:12},label:{value:"D/K",angle:-90,position:"insideLeft",fill:"#6b7280"}}),r.jsx(m.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},labelFormatter:e=>new Date(e).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})}),r.jsx(x.D,{}),r.jsx(u.x,{type:"monotone",dataKey:"sinifOrtalamasi",name:"SÄ±nÄ±f OrtalamasÄ±",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6}}),B&&r.jsx(u.x,{type:"monotone",dataKey:"ogrenci",name:B,stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:4},activeDot:{r:6}})]})})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),r.jsx("span",{className:"font-medium text-green-800",children:"SÄ±nÄ±f OrtalamasÄ±"})]}),r.jsx("p",{className:"text-sm text-green-700",children:"Se\xe7ilen sÄ±nÄ±fÄ±n her sÄ±nav tarihindeki ortalama D/K deÄŸerini g\xf6sterir."})]}),B&&(0,r.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full"}),r.jsx("span",{className:"font-medium text-blue-800",children:B})]}),r.jsx("p",{className:"text-sm text-blue-700",children:"Se\xe7ilen \xf6ÄŸrencinin zaman i\xe7indeki D/K geliÅŸimini g\xf6sterir."})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"SÄ±nÄ±f Genel OrtalamasÄ±"}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.round(Y)})]}),B&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"\xd6ÄŸrenci Genel OrtalamasÄ±"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Math.round(I)})]}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"GeliÅŸim FarkÄ±"}),(0,r.jsxs)("div",{className:`text-2xl font-bold ${I>=Y?"text-green-600":"text-red-600"}`,children:[I>=Y?"+":"",Math.round(I-Y)]})]})]})]})]}):(0,r.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDCC8"}),r.jsx("h4",{className:"text-lg font-semibold text-gray-600 mb-2",children:"SÄ±nÄ±f Se\xe7in"}),r.jsx("p",{children:"GrafiÄŸi g\xf6r\xfcnt\xfclemek i\xe7in l\xfctfen bir sÄ±nÄ±f se\xe7in."})]})]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-green-900 mb-4 flex items-center",children:[r.jsx("span",{className:"text-green-600 mr-3",children:"\uD83D\uDCA1"}),"NasÄ±l KullanÄ±lÄ±r?"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-green-800",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx("span",{className:"bg-green-200 text-green-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"1"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:"Yeni SÄ±nav Ekle"}),r.jsx("p",{className:"text-sm",children:"SÄ±nÄ±f ve tarih se\xe7ip \xf6ÄŸrencilerin okuma hÄ±zlarÄ±nÄ± girin."})]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx("span",{className:"bg-green-200 text-green-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"2"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:"Kaydet"}),r.jsx("p",{className:"text-sm",children:"T\xfcm verileri kaydedip ge\xe7miÅŸe aktarÄ±n."})]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx("span",{className:"bg-green-200 text-green-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"3"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:"Ge\xe7miÅŸ Ä°zle"}),r.jsx("p",{className:"text-sm",children:"Ge\xe7miÅŸ sÄ±navlarÄ± g\xf6r\xfcnt\xfcleyin ve karÅŸÄ±laÅŸtÄ±rÄ±n."})]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx("span",{className:"bg-green-200 text-green-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"4"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:"Analiz Et"}),r.jsx("p",{className:"text-sm",children:"SÄ±nÄ±f bazlÄ± istatistikleri inceleyin."})]})]})]})]})]})};t()}catch(e){t(e)}})},99543:(e,s,a)=>{"use strict";a.a(e,async(e,t)=>{try{a.r(s),a.d(s,{default:()=>m});var r=a(10326),l=a(17577),i=a(60401),n=a(6845),d=a(35047),c=a(69057),o=e([i,n,c]);function m(){let[e,s]=(0,l.useState)(null),[a,t]=(0,l.useState)(!0),[o,m]=(0,l.useState)(!1),[x,u]=(0,l.useState)("ogrenci"),h=(0,d.useRouter)(),g=async()=>{try{await (0,i.signOut)(n.I8),h.push("/login")}catch(e){console.error("\xc7Ä±kÄ±ÅŸ hatasÄ±:",e),alert("\xc7Ä±kÄ±ÅŸ yaparken hata oluÅŸtu")}};return a?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-gray-50 to-blue-50",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Y\xfckleniyor..."})]})}):(0,r.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-blue-50",children:[(0,r.jsxs)("section",{className:"mx-auto max-w-7xl px-4 py-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6 bg-white rounded-xl shadow-md p-4 border border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-3 rounded-lg",children:r.jsx("img",{src:"/projelogo.png",alt:"Project Logo",className:"w-8 h-8 rounded"})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"BaÅŸarÄ± PortalÄ±"}),r.jsx("p",{className:"text-sm text-gray-500",children:"BaÅŸarÄ± Takip Sistemi"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[e&&(0,r.jsxs)("div",{className:"hidden sm:flex items-center px-4 py-2 rounded-lg bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"HoÅŸgeldiniz,\xa0"}),r.jsx("strong",{className:"text-sm font-semibold text-blue-700",children:e})]}),(0,r.jsxs)("button",{onClick:g,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-red-500 to-red-600 text-white font-medium hover:from-red-600 hover:to-red-700 active:scale-95 transition-all duration-200 shadow-lg flex items-center gap-2",children:[r.jsx("span",{children:"âœ–ï¸"}),r.jsx("span",{children:"\xc7Ä±kÄ±ÅŸ"})]})]})]}),r.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:r.jsx(c.Z,{})})]}),r.jsx("footer",{className:"mt-12 py-4 text-center text-xs text-gray-500 border-t bg-white/50 backdrop-blur",children:(0,r.jsxs)("div",{className:"mx-auto max-w-7xl px-4",children:["\xa9 ",new Date().getFullYear()," K\xf6pr\xfcler LGS | Developed by Murat UYSAL"]})})]})}[i,n,c]=o.then?(await o)():o,t()}catch(e){t(e)}})},57799:(e,s,a)=>{"use strict";a.d(s,{Z:()=>h});var t=a(10326),r=a(17577),l=a(35047),i=a(30660),n=a(49844),d=a(18423),c=a(62637),o=a(9997),m=a(44675),x=a(69274),u=a(15219);let h=({students:e,results:s,exams:a})=>{let[h,g]=(0,r.useState)("all"),[p,b]=(0,r.useState)("overview"),[y,j]=(0,r.useState)(""),f=(0,l.useRouter)();console.log("\uD83D\uDD0D Exams debug:",{totalExams:a.length,examsWithTitle:a.filter(e=>e.title&&e.title.trim()).length,sampleTitles:a.slice(0,5).map(e=>({id:e.id,title:e.title}))});let[N,v]=(0,r.useState)("net"),k=(0,r.useMemo)(()=>e.map(e=>{let a=s.filter(s=>s.studentId===e.id).filter(e=>{let s=e.nets?.total||0,a=e.scores?.puan?parseFloat(e.scores.puan):e.puan||e.totalScore||0;return s>0||a>0});if(0===a.length)return{studentId:e.id,studentName:e.name,averageNet:0,bestPerformance:0,worstPerformance:0,totalExams:0,classRank:0,averageScore:0,bestScore:0,worstScore:0,subjectAverages:{turkce:0,matematik:0,fen:0,sosyal:0}};let t=a.map(e=>e.nets.total),r=t.reduce((e,s)=>e+s,0)/t.length,l=a.map(e=>e.scores?.puan?parseFloat(e.scores.puan):e.puan||0),i=l.length>0?l.reduce((e,s)=>e+s,0)/l.length:0,n=l.length>0?Math.max(...l):0,d=l.length>0?Math.min(...l):0,c={turkce:a.reduce((e,s)=>e+(s.nets?.turkce||0),0)/a.length,matematik:a.reduce((e,s)=>e+(s.nets?.matematik||0),0)/a.length,fen:a.reduce((e,s)=>e+(s.nets?.fen||0),0)/a.length,sosyal:a.reduce((e,s)=>e+(s.nets?.sosyal||0),0)/a.length};return{studentId:e.id,studentName:e.name,averageNet:r,bestPerformance:Math.max(...t),worstPerformance:Math.min(...t),totalExams:a.length,classRank:0,averageScore:i,bestScore:n,worstScore:d,subjectAverages:c}}).filter(e=>e.totalExams>0).sort((e,s)=>s.averageNet-e.averageNet).map((e,s)=>({...e,classRank:s+1})),[e,s]),D=(0,r.useMemo)(()=>{let s=k;return"all"!==h&&(s=k.filter(s=>{let a=e.find(e=>e.id===s.studentId);return a?.class===h})),s.sort((e,s)=>s.averageNet-e.averageNet).map((e,s)=>({...e,classRank:s+1}))},[k,e,h]),w=(0,r.useMemo)(()=>Array.from(new Set(e.map(e=>e.class))).sort(),[e]),C=(0,r.useMemo)(()=>{let e=D.filter(e=>e.averageNet>0);return 0===e.length?0:e.reduce((e,s)=>e+s.averageNet,0)/e.length},[D]);return(0,r.useMemo)(()=>{if(!y)return 0;let s=e.find(e=>e.id===y);if(!s)return 0;let a=e.filter(e=>e.class===s.class),t=k.filter(e=>a.some(s=>s.id===e.studentId)&&e.averageNet>0);return 0===t.length?0:t.reduce((e,s)=>e+s.averageNet,0)/t.length},[y,e,k]),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-6 py-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6 lg:p-8 mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uD83D\uDCCA Analitik & Raporlar"}),t.jsx("p",{className:"text-gray-600",children:"\xd6ÄŸrenci performans analizi ve karÅŸÄ±laÅŸtÄ±rma raporlarÄ±"})]}),t.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:(0,t.jsxs)("select",{value:h,onChange:e=>g(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t.jsx("option",{value:"all",children:"T\xfcm SÄ±nÄ±flar"}),w.map(e=>t.jsx("option",{value:e,children:e},e))]})})]}),(0,t.jsxs)("div",{className:"mt-6 flex flex-wrap gap-2",children:[[{key:"overview",label:"\uD83D\uDCC8 Genel BakÄ±ÅŸ"},{key:"comparison",label:"\uD83D\uDD0D KarÅŸÄ±laÅŸtÄ±rma"},{key:"trends",label:"\uD83D\uDCCA Trend Analizi"}].map(e=>t.jsx("button",{onClick:()=>b(e.key),className:`px-4 py-2 rounded-lg font-medium transition-all ${p===e.key?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e.label},e.key)),"trends"===p&&y&&(0,t.jsxs)("div",{className:"flex ml-4 bg-gray-100 rounded-lg p-1",children:[t.jsx("button",{onClick:()=>v("net"),className:`px-3 py-1 rounded-md font-medium transition-all text-sm ${"net"===N?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"\uD83D\uDCCA Net"}),t.jsx("button",{onClick:()=>v("puan"),className:`px-3 py-1 rounded-md font-medium transition-all text-sm ${"puan"===N?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"\uD83C\uDFAF Puan"})]})]})]}),"overview"===p&&(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-center mb-4",children:(0,t.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[t.jsx("button",{onClick:()=>v("net"),className:`px-4 py-2 rounded-md font-medium transition-all ${"net"===N?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"\uD83D\uDCCA Net"}),t.jsx("button",{onClick:()=>v("puan"),className:`px-4 py-2 rounded-md font-medium transition-all ${"puan"===N?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"\uD83C\uDFAF Puan"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Toplam \xd6ÄŸrenci"}),t.jsx("p",{className:"text-3xl font-bold text-blue-600",children:D.length})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"SÄ±nÄ±f OrtalamasÄ±"}),t.jsx("p",{className:"text-3xl font-bold text-green-600",children:"net"===N?(C||0).toFixed(1):D.length>0?(D.reduce((e,s)=>e+(s.averageScore||0),0)/D.length||0).toFixed(0):"0"})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:["En ","net"===N?"Y\xfcksek Net":"Y\xfcksek Puan"]}),t.jsx("p",{className:"text-3xl font-bold text-purple-600",children:D.length>0?"net"===N?Math.max(...D.map(e=>e.bestPerformance||0)).toFixed(1):Math.max(...D.map(e=>e.bestScore||0)).toFixed(0):"0"})]})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[t.jsx("h3",{className:"text-xl font-bold mb-4",children:"Performans DaÄŸÄ±lÄ±mÄ±"}),t.jsx(i.h,{width:"100%",height:300,children:(0,t.jsxs)(n.v,{data:D,children:[t.jsx(d.q,{strokeDasharray:"3 3"}),t.jsx(c.K,{dataKey:"studentName",angle:-45,textAnchor:"end",height:100,interval:0,tick:{fontSize:8}}),t.jsx(o.B,{domain:"net"===N?[0,90]:[0,500],tick:{fontSize:10}}),t.jsx(m.u,{}),t.jsx(x.D,{}),t.jsx(u.$,{dataKey:"net"===N?"averageNet":"averageScore",fill:"#3B82F6",name:"net"===N?"Ortalama Net":"Ortalama Puan"}),t.jsx(u.$,{dataKey:"net"===N?"bestPerformance":"bestScore",fill:"#10B981",name:"net"===N?"En Ä°yi Net":"En Ä°yi Puan"})]})})]})]}),"comparison"===p&&(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex justify-center mb-4",children:(0,t.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[t.jsx("button",{onClick:()=>v("net"),className:`px-4 py-2 rounded-md font-medium transition-all ${"net"===N?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"\uD83D\uDCCA Net"}),t.jsx("button",{onClick:()=>v("puan"),className:`px-4 py-2 rounded-md font-medium transition-all ${"puan"===N?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"\uD83C\uDFAF Puan"})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b",children:t.jsx("h3",{className:"text-xl font-bold",children:"DetaylÄ± Performans KarÅŸÄ±laÅŸtÄ±rmasÄ±"})}),t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SÄ±ra"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\xd6ÄŸrenci"}),(0,t.jsxs)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:["Ortalama ","net"===N?"Net":"Puan"]}),t.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"En Ä°yi"}),t.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"En K\xf6t\xfc"}),t.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SÄ±nav SayÄ±sÄ±"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map((e,s)=>(0,t.jsxs)("tr",{className:s<3?"bg-yellow-50":"hover:bg-gray-50",children:[(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[s<3&&t.jsx("span",{className:"text-yellow-500",children:"\uD83C\uDFC6"})," ",e.classRank]}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.studentName}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:t.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"net"===N?e.averageNet>=15?"bg-green-100 text-green-800":e.averageNet>=10?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800":e.averageScore>=400?"bg-green-100 text-green-800":e.averageScore>=300?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:"net"===N?(e.averageNet||0).toFixed(1):(e.averageScore||0).toFixed(0)})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-green-600 font-semibold",children:"net"===N?(e.bestPerformance||0).toFixed(1):(e.bestScore||0).toFixed(0)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-red-600 font-semibold",children:"net"===N?(e.worstPerformance||0).toFixed(1):(e.worstScore||0).toFixed(0)}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-500",children:e.totalExams})]},e.studentId))})]})})]})]}),"trends"===p&&(()=>{let s="all"===h?e:e.filter(e=>e.class===h),a=s.reduce((e,s)=>(e[s.class]||(e[s.class]=[]),e[s.class].push(s),e),{}),r=e=>{f.push(`/student-dashboard?studentId=${e.id}`)};return(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"\uD83D\uDCCA SÄ±nÄ±f BazlÄ± \xd6ÄŸrenci Listesi"}),t.jsx("p",{className:"text-gray-600",children:"\xd6ÄŸrenci detay raporunu g\xf6r\xfcnt\xfclemek i\xe7in aÅŸaÄŸÄ±daki \xf6ÄŸrencilerden birine tÄ±klayÄ±n."})]})}),Object.entries(a).map(([e,s])=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 px-6 py-4",children:(0,t.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e," SÄ±nÄ±fÄ± (",s.length," \xf6ÄŸrenci)"]})}),t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.map(e=>t.jsx("div",{onClick:()=>r(e),className:"bg-gradient-to-br from-gray-50 to-gray-100 hover:from-blue-50 hover:to-indigo-50 border border-gray-200 hover:border-blue-300 rounded-xl p-4 cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105 group",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-400 to-indigo-500 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:from-blue-500 group-hover:to-indigo-600 transition-colors",children:t.jsx("span",{className:"text-white font-bold text-lg",children:e.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})}),t.jsx("h4",{className:"font-semibold text-gray-900 mb-1 group-hover:text-blue-700 transition-colors",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["No: ",e.number]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500 mb-3",children:[(0,t.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),(0,t.jsxs)("span",{children:[e.viewCount||0," g\xf6r\xfcnt\xfclenme"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 flex items-center justify-center gap-2 group-hover:shadow-md",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),t.jsx("span",{className:"text-sm",children:"Raporu G\xf6r\xfcnt\xfcle"})]})]})},e.id))})})]},e)),0===s.length&&(0,t.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"\xd6ÄŸrenci BulunamadÄ±"}),t.jsx("p",{className:"text-gray-600",children:"all"===h?"Hen\xfcz hi\xe7 \xf6ÄŸrenci kaydÄ± bulunmuyor.":`${h} sÄ±nÄ±fÄ±nda kayÄ±tlÄ± \xf6ÄŸrenci bulunmuyor.`})]})]})})()]})}},77743:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`/workspace/src/app/panel/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[948,347,621,21,13],()=>a(9518));module.exports=t})();