(()=>{var e={};e.id=370,e.ids=[370],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},85807:e=>{"use strict";e.exports=require("module")},55315:e=>{"use strict";e.exports=require("path")},17360:e=>{"use strict";e.exports=require("url")},23745:e=>{"use strict";e.exports=import("firebase/app")},60401:e=>{"use strict";e.exports=import("firebase/auth")},1492:e=>{"use strict";e.exports=import("firebase/firestore")},80058:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>o,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>x}),s(20708),s(46005),s(35866);var a=s(23191),l=s(88716),r=s(37922),n=s.n(r),i=s(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let x=["",{children:["panel",{children:["student-report",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,20708)),"/workspace/src/app/panel/student-report/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,46005)),"/workspace/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/workspace/src/app/panel/student-report/page.tsx"],m="/panel/student-report/page",o={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/panel/student-report/page",pathname:"/panel/student-report",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:x}})},44555:(e,t,s)=>{Promise.resolve().then(s.bind(s,21530))},61468:(e,t,s)=>{"use strict";s.d(t,{Z:()=>b});var a=s(10326),l=s(17577),r=s(35047),n=s(30660),i=s(14958),d=s(18423),x=s(62637),c=s(9997),m=s(44675),o=s(69274),u=s(74390),h=s(49844),p=s(15219);let g=({reportData:e})=>{let t=e.examResults.map((t,s)=>({exam:t.exam.title,[e.student?"\xd6ğrenci":"Sınıf"]:t.studentTotalNet,"Sınıf Ortalaması":t.classAverage,"Genel Ortalama":t.generalAverage})),s=e.examResults.length>0?e.examResults.reduce((e,t)=>e+t.studentTotalNet,0):0,l=e.examResults.length>0?e.examResults.reduce((e,t)=>e+t.classAverage,0)/e.examResults.length:0,r=e.examResults.length>0?e.examResults.reduce((e,t)=>e+t.generalAverage,0)/e.examResults.length:0,h=e.examResults.length>=2?e.examResults[e.examResults.length-1].studentTotalNet-e.examResults[e.examResults.length-2].studentTotalNet:0;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83D\uDCCA Toplam Net"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:(s||0).toFixed(2)})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83C\uDFEB Sınıf Ortalaması"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:(l||0).toFixed(2)})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83C\uDF0D Genel Ortalama"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:(r||0).toFixed(2)})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83D\uDCC8 Trend"}),(0,a.jsxs)("p",{className:`text-3xl font-bold ${h>=0?"text-green-600":"text-red-600"}`,children:[(h||0)>=0?"+":"",(h||0).toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83D\uDCC8 Deneme Trendi"}),a.jsx("div",{className:"h-96",children:a.jsx(n.h,{width:"100%",height:"100%",children:(0,a.jsxs)(i.w,{data:t,children:[a.jsx(d.q,{strokeDasharray:"3 3"}),a.jsx(x.K,{dataKey:"exam"}),a.jsx(c.B,{}),a.jsx(m.u,{}),a.jsx(o.D,{}),a.jsx(u.x,{type:"monotone",dataKey:e.student?"\xd6ğrenci":"Sınıf",stroke:"#3B82F6",strokeWidth:2}),a.jsx(u.x,{type:"monotone",dataKey:"Sınıf Ortalaması",stroke:"#22C55E",strokeWidth:2}),a.jsx(u.x,{type:"monotone",dataKey:"Genel Ortalama",stroke:"#EF4444",strokeWidth:2})]})})})]})]})},j=({reportData:e})=>{let t=e.examResults.map(e=>({name:e.exam.title,Öğrenci:e.studentTotalNet,"Sınıf Ort.":e.classAverage,"Genel Ort.":e.generalAverage}));return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"\uD83D\uDCCB Deneme Karşılaştırması"})}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deneme"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.student?"\xd6ğrenci":"Sınıf"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sınıf Ort."}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Genel Ort."}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fark (Sınıf)"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fark (Genel)"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.examResults.map((e,t)=>{let s=e.studentTotalNet-e.classAverage,l=e.studentTotalNet-e.generalAverage;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.exam.title}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.studentTotalNet.toFixed(2)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.classAverage.toFixed(2)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.generalAverage.toFixed(2)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsxs)("span",{className:`font-medium ${s>=0?"text-green-600":"text-red-600"}`,children:[s>=0?"+":"",s.toFixed(2)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsxs)("span",{className:`font-medium ${l>=0?"text-green-600":"text-red-600"}`,children:[l>=0?"+":"",l.toFixed(2)]})})]},t)})})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83D\uDCCA Deneme Karşılaştırma"}),a.jsx("div",{className:"h-96",children:a.jsx(n.h,{width:"100%",height:"100%",children:(0,a.jsxs)(h.v,{data:t,children:[a.jsx(d.q,{strokeDasharray:"3 3"}),a.jsx(x.K,{dataKey:"name"}),a.jsx(c.B,{}),a.jsx(m.u,{}),a.jsx(o.D,{}),a.jsx(p.$,{dataKey:"\xd6ğrenci",fill:"#3B82F6"}),a.jsx(p.$,{dataKey:"Sınıf Ort.",fill:"#22C55E"}),a.jsx(p.$,{dataKey:"Genel Ort.",fill:"#EF4444"})]})})})]})]})},f=({reportData:e})=>{let t=e.examResults,s=["T\xfcrk\xe7e","Matematik","Fen","Sosyal","İngilizce","Din"].map(e=>{let s=t.map(t=>t.studentResults[0]?.nets?.[e.toLowerCase()]||0);return{ders:e,ortalama:s.length>0?s.reduce((e,t)=>e+t,0)/s.length:0,sinif:t.length>0?t.reduce((e,t)=>e+t.classAverage,0)/t.length:0,genel:t.length>0?t.reduce((e,t)=>e+t.generalAverage,0)/t.length:0}});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"\uD83D\uDCCA Konu Bazlı Analiz"})}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Konu"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ortalama Net"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sınıf Ortalaması"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Genel Ortalama"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((e,t)=>{let s=e.ortalama-e.sinif;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.ders}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.ortalama.toFixed(1)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.sinif.toFixed(1)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.genel.toFixed(1)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s>5?"bg-green-100 text-green-800":s>-5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:s>5?"G\xfc\xe7l\xfc":s>-5?"Normal":"Zayıf"})})]},t)})})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83D\uDCDD Genel Değerlendirme"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-green-800 mb-3",children:"\uD83D\uDCAA G\xfc\xe7l\xfc Konular"}),(0,a.jsxs)("ul",{className:"space-y-2",children:[s.filter(e=>e.ortalama>e.sinif+5).map((e,t)=>(0,a.jsxs)("li",{className:"text-green-700 flex items-center",children:[a.jsx("span",{className:"mr-2",children:"✅"}),e.ders," (Net: ",e.ortalama.toFixed(1),")"]},t)),0===s.filter(e=>e.ortalama>e.sinif+5).length&&a.jsx("li",{className:"text-gray-500 text-sm",children:"G\xfc\xe7l\xfc konu bulunamadı"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-red-800 mb-3",children:"⚠️ Geliştirilmesi Gerekenler"}),(0,a.jsxs)("ul",{className:"space-y-2",children:[s.filter(e=>e.ortalama<e.sinif-5).map((e,t)=>(0,a.jsxs)("li",{className:"text-red-700 flex items-center",children:[a.jsx("span",{className:"mr-2",children:"\uD83D\uDCDA"}),e.ders," (Net: ",e.ortalama.toFixed(1),")"]},t)),0===s.filter(e=>e.ortalama<e.sinif-5).length&&a.jsx("li",{className:"text-gray-500 text-sm",children:"Zayıf konu bulunamadı"})]})]})]})]})]})},N=({reportData:e})=>{let t=e.examResults.map((e,t)=>{let s=e.studentResults[0]?.scores?.puan?parseFloat(e.studentResults[0].scores.puan):e.studentResults[0]?.puan||e.studentResults[0]?.totalScore||0;return{exam:e.exam.title,puan:s,net:e.studentTotalNet,tarih:new Date(e.exam.date).toLocaleDateString("tr-TR")}}).filter(e=>e.puan>0),s=t.map(e=>e.puan),l=s.length>0?s.reduce((e,t)=>e+t,0)/s.length:0,r=s.length>0?Math.max(...s):0,h=s.length>0?Math.min(...s):0,p=t.length>=2?t[t.length-1].puan-t[t.length-2].puan:0,g={"450+":t.filter(e=>e.puan>=450).length,"400-449":t.filter(e=>e.puan>=400&&e.puan<450).length,"350-399":t.filter(e=>e.puan>=350&&e.puan<400).length,"300-349":t.filter(e=>e.puan>=300&&e.puan<350).length,"300-":t.filter(e=>e.puan<300).length};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83C\uDFAF Ortalama Puan"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:l.toFixed(1)})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83C\uDFC6 En Y\xfcksek Puan"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:r.toFixed(1)})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83D\uDCC9 En D\xfcş\xfck Puan"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:h.toFixed(1)})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83D\uDCC8 Son Trend"}),(0,a.jsxs)("p",{className:`text-3xl font-bold ${p>=0?"text-green-600":"text-red-600"}`,children:[p>=0?"+":"",p.toFixed(1)]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83D\uDCC8 Puan Gelişim Trendi"}),a.jsx("div",{className:"h-96",children:a.jsx(n.h,{width:"100%",height:"100%",children:(0,a.jsxs)(i.w,{data:t,children:[a.jsx(d.q,{strokeDasharray:"3 3"}),a.jsx(x.K,{dataKey:"exam",angle:-45,textAnchor:"end",height:100,interval:0,tick:{fontSize:10}}),a.jsx(c.B,{domain:[200,500]}),a.jsx(m.u,{formatter:(e,t)=>["puan"===t?`${e} puan`:`${e} net`,"puan"===t?"Puan":"Net"],labelFormatter:e=>`Deneme: ${e}`}),a.jsx(o.D,{}),a.jsx(u.x,{type:"monotone",dataKey:"puan",stroke:"#8B5CF6",strokeWidth:3,name:"Puan",dot:{fill:"#8B5CF6",strokeWidth:2,r:6},activeDot:{r:8}}),a.jsx(u.x,{type:"monotone",dataKey:"net",stroke:"#3B82F6",strokeWidth:2,name:"Net",dot:{fill:"#3B82F6",strokeWidth:2,r:4}})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83D\uDCCA Puan Aralıkları"}),a.jsx("div",{className:"space-y-3",children:Object.entries(g).map(([e,t])=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[e," Puan"]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2 mr-3",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${t/Math.max(...Object.values(g))*100}%`}})}),a.jsx("span",{className:"text-sm font-bold text-gray-900 w-8",children:t})]})]},e))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83C\uDFAF Puan Performansı"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"LGS Başarı Hedefi:"}),a.jsx("span",{className:"font-bold text-purple-600",children:"450+ Puan"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Mevcut Durum:"}),a.jsx("span",{className:`font-bold ${l>=450?"text-green-600":l>=400?"text-yellow-600":"text-red-600"}`,children:l>=450?"M\xfckemmel":l>=400?"İyi":"Gelişim Gerekli"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Hedefe Uzaklık:"}),(0,a.jsxs)("span",{className:"font-bold text-blue-600",children:[Math.max(0,450-l).toFixed(1)," puan"]})]}),(0,a.jsxs)("div",{className:"pt-2 border-t",children:[a.jsx("div",{className:"bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(l/500*100,100)}%`}})}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1 text-center",children:["%",(l/500*100).toFixed(1)," tamamlandı"]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"\uD83D\uDCCB Detaylı Puan Analizi"})}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deneme"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tarih"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Puan"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((e,s)=>{let l=s>0&&e.puan>t[s-1].puan,r=s>0&&e.puan<t[s-1].puan;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.exam}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.tarih}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-purple-600",children:e.puan.toFixed(1)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.net.toFixed(1)}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[l&&a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"↗️ Artış"}),r&&a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"↘️ Azalış"}),!l&&!r&&0===s&&a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"\uD83D\uDCCA İlk Deneme"}),!l&&!r&&s>0&&a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"➡️ Sabit"})]})]},s)})})]})})]})]})},y=({reportData:e})=>{let t=e.examResults.length>0?e.examResults[e.examResults.length-1].studentTotalNet:0,s=Math.min(t/70*100,100),l=e.examResults.map(e=>e.studentTotalNet),r=l.length>0?l.reduce((e,t)=>e+t,0)/l.length:0,n=Math.sqrt(l.length>0?l.reduce((e,t)=>e+Math.pow(t-r,2),0)/l.length:0),i=n<=3?"İstikrarlı":n<=6?"Orta İstikrar":"Değişken";return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83C\uDFAF Hedef Takibi"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Hedef Net"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:70})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Son Net"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.toFixed(1)})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Tamamlanma"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:["%",s.toFixed(0)]})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("div",{className:"bg-gray-200 rounded-full h-4",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-4 rounded-full transition-all duration-300",style:{width:`${s}%`}})})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83D\uDCCA Performans Durumu"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"İstikrar Durumu"}),a.jsx("p",{className:`text-2xl font-bold ${"İstikrarlı"===i?"text-green-600":"Orta İstikrar"===i?"text-yellow-600":"text-red-600"}`,children:i}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Standart Sapma: ",n.toFixed(1)]})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Toplam Deneme"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:e.examResults.length}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Ortalama Net: ",r.toFixed(1)]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83D\uDCDD Genel Değerlendirme"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"border-l-4 border-green-500 pl-4",children:[a.jsx("h4",{className:"font-semibold text-green-700",children:"\uD83D\uDCAA G\xfc\xe7l\xfc Y\xf6nler"}),a.jsx("p",{className:"text-gray-600 text-sm",children:t>r+5?"Son denemede y\xfcksek performans sergiledi.":r>50?"Genel performans ortalamanın \xfczerinde.":"D\xfczenli \xe7alışma sergiliyor."})]}),(0,a.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4",children:[a.jsx("h4",{className:"font-semibold text-blue-700",children:"\uD83D\uDCC8 İlerleme \xd6nerisi"}),a.jsx("p",{className:"text-gray-600 text-sm",children:s<80?"Hedef net i\xe7in \xe7alışmaya devam edilmeli.":"Hedef net tutturulmuş, daha y\xfcksek hedef belirlenebilir."})]}),(0,a.jsxs)("div",{className:"border-l-4 border-orange-500 pl-4",children:[a.jsx("h4",{className:"font-semibold text-orange-700",children:"\uD83C\uDFAF Sonraki Adımlar"}),a.jsx("p",{className:"text-gray-600 text-sm",children:n>5?"Performansta istikrar sağlanmalı.":"Mevcut \xe7alışma d\xfczeni korunmalı."})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"\uD83D\uDCCB Rapor \xd6zeti"}),(0,a.jsxs)("p",{className:"text-gray-600 text-sm leading-relaxed",children:["Bu rapor ",e.student?e.student.name+" \xf6ğrencisinin":"sınıfın",e.examResults.length," denemedeki performansını g\xf6stermektedir.",t>r?"Genel olarak pozitif bir trend":"İstikrarlı bir performans","sergilenmekte olup, hedef netlere ulaşmak i\xe7in",n>5?" daha d\xfczenli \xe7alışma yapılması":" mevcut \xe7alışma d\xfczeninin s\xfcrd\xfcr\xfclmesi"," \xf6nerilir."]})]})]})},b=({students:e,exams:t,results:n})=>{let i={error:e=>{console.error(e),alert(e)},success:e=>{console.log(e),alert(e)}},d=(0,r.useSearchParams)(),[x,c]=(0,l.useState)(null),[m,o]=(0,l.useState)(1),[u,h]=(0,l.useState)(!0),[p,b]=(0,l.useState)(!1),w={1:(0,l.useRef)(null),2:(0,l.useRef)(null),3:(0,l.useRef)(null),4:(0,l.useRef)(null),5:(0,l.useRef)(null)};(0,l.useEffect)(()=>{if(d){let e=d.get("type"),t=d.get("studentId"),s=d.get("classId");e&&("student"!==e||t)&&("class"!==e||s)||i.error("Ge\xe7ersiz rapor parametreleri")}},[d]),(0,l.useEffect)(()=>{D()},[]);let D=async()=>{h(!0);try{let s=d.get("type"),a=d.get("studentId"),l=d.get("classId");if(!s){i.error("Rapor tipi belirtilmemiş");return}if("student"===s&&!a){i.error("\xd6ğrenci ID belirtilmemiş");return}if("class"===s&&!l){i.error("Sınıf ID belirtilmemiş");return}if(console.log("DEBUG - Students count:",e.length),console.log("DEBUG - Exams count:",t.length),console.log("DEBUG - Results count:",n.length),"student"===s&&a){let s=e.find(e=>e.id===a);if(!s){i.error("\xd6ğrenci bulunamadı");return}let l=n.filter(e=>e.studentId===a),r=[];for(let a of l){let l=t.find(e=>e.id===a.examId);if(!l)continue;let i=n.filter(t=>t.examId===a.examId&&e.find(e=>e.id===t.studentId)?.class===s.class),d=i.length>0?i.reduce((e,t)=>e+t.nets.total,0)/i.length:0,x=l.generalAverages?.[s.class]?.generalScore||0;r.push({exam:l,studentResults:[a],classAverage:d,generalAverage:x,studentTotalNet:a.nets.total})}r.sort((e,t)=>new Date(e.exam.date).getTime()-new Date(t.exam.date).getTime()),c({student:s,examResults:r})}else if("class"===s&&l){let s=e.filter(e=>e.class===l),a=n.filter(e=>s.some(t=>t.id===e.studentId)),r=[];for(let e of t){let t=a.filter(t=>t.examId===e.id);if(0===t.length)continue;let s=t.map(e=>e.nets.total),n=s.reduce((e,t)=>e+t,0)/s.length,i=e.generalAverages?.[l]?.generalScore||0;r.push({exam:e,studentResults:t,classAverage:n,generalAverage:i,studentTotalNet:n})}r.sort((e,t)=>new Date(e.exam.date).getTime()-new Date(t.exam.date).getTime()),c({className:l,examResults:r})}}catch(e){console.error("Rapor verisi y\xfckleme hatası:",e),i.error("Rapor verileri y\xfcklenirken hata oluştu")}finally{h(!1)}};if(u)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Rapor hazırlanıyor..."})]})});if(!x)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"text-center text-red-600",children:a.jsx("p",{children:"Rapor verileri bulunamadı"})})});x.examResults.length,x.examResults.length>0&&(x.examResults.reduce((e,t)=>e+t.studentTotalNet,0),x.examResults.length);let v=async()=>{b(!0);try{let e=(await s.e(296).then(s.bind(s,87296))).default,t=(await s.e(642).then(s.bind(s,39642))).default,a=new e("p","mm","a4"),l=10;a.setFontSize(20),a.setFont("helvetica","bold");let r=x.student?`${x.student.name} - ${x.student.class} \xd6ğrenci Raporu`:`${x.className} Sınıf Raporu`;a.text(r,10,l),l+=20;for(let e=1;e<=5;e++){let s=w[e]?.current;if(!s)continue;let r=await t(s,{scale:2,useCORS:!0,allowTaint:!0}),n=r.toDataURL("image/png"),i=190*r.height/r.width;e>1&&(a.addPage(),l=10),a.addImage(n,"PNG",10,l,190,i)}let n=x.student?`ogrenci-raporu-${x.student.name.replace(/\s+/g,"-")}.pdf`:`sinif-raporu-${x.className}.pdf`;a.save(n),i.success("PDF başarıyla oluşturuldu!")}catch(e){console.error("PDF export error:",e),i.error("PDF oluşturulurken hata oluştu")}finally{b(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:x.student?"\uD83D\uDC68‍\uD83C\uDF93 \xd6ğrenci Raporu":"\uD83C\uDFEB Sınıf Raporu"}),a.jsx("p",{className:"text-gray-600 mt-2",children:x.student?`${x.student.name} - ${x.student.class}`:x.className})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:v,disabled:p,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"PDF Oluşturuluyor..."]}):a.jsx(a.Fragment,{children:"\uD83D\uDCC4 PDF İndir"})}),a.jsx("button",{onClick:()=>window.print(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"\uD83D\uDDA8️ Yazdır"})]})]})})}),a.jsx("div",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4",children:a.jsx("div",{className:"flex space-x-8 overflow-x-auto",children:[{num:1,label:"Genel G\xf6r\xfcn\xfcm",icon:"\uD83D\uDCCA"},{num:2,label:"Net Gelişim",icon:"\uD83D\uDCC8"},{num:3,label:"Puan Gelişim",icon:"\uD83C\uDFAF"},{num:4,label:"Denemeler",icon:"\uD83D\uDCCB"},{num:5,label:"Ders Bazında",icon:"\uD83D\uDCDA"}].map(e=>(0,a.jsxs)("button",{onClick:()=>o(e.num),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${m===e.num?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.icon," ",e.label]},e.num))})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[1===m&&a.jsx("div",{ref:w[1],children:a.jsx(g,{reportData:x})}),2===m&&a.jsx("div",{ref:w[2],children:a.jsx(j,{reportData:x})}),3===m&&a.jsx("div",{ref:w[3],children:a.jsx(N,{reportData:x})}),4===m&&a.jsx("div",{ref:w[4],children:a.jsx(y,{reportData:x})}),5===m&&a.jsx("div",{ref:w[5],children:a.jsx(f,{reportData:x})})]})]})}},21530:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>c});var l=s(10326),r=s(17577),n=s(61468),i=s(6845),d=e([i]);function x(){let[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)([]),[i,d]=(0,r.useState)([]),[x,c]=(0,r.useState)(!0);return x?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Rapor verileri y\xfckleniyor..."})]})}):l.jsx(n.Z,{students:e,exams:s,results:i})}function c(){return l.jsx(r.Suspense,{fallback:l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Rapor sayfası y\xfckleniyor..."})]})}),children:l.jsx(x,{})})}i=(d.then?(await d)():d)[0],a()}catch(e){a(e)}})},20708:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/workspace/src/app/panel/student-report/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,347,621,21,13],()=>s(80058));module.exports=a})();