(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[790],{36322:function(e,s,a){Promise.resolve().then(a.bind(a,80907))},77031:function(e,s,a){"use strict";a.d(s,{v:function(){return d}});var t=a(93765),l=a(83046),r=a(97059),i=a(62994),n=a(25311),d=(0,t.z)({chartName:"BarChart",GraphicalChild:l.$,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:r.K},{axisType:"yAxis",AxisComp:i.B}],formatAxisMap:n.t9})},80907:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return V}});var t=a(57437),l=a(2265),r=a(43301),i=a(34621),n=a(99376),d=a(47625),c=a(21156),o=a(56940),m=a(97059),x=a(62994),u=a(8147),h=a(22190),g=a(54061),p=a(77031),b=a(83046),y=e=>{let{students:s,results:a,exams:r}=e,[i,c]=(0,l.useState)("all"),[g,y]=(0,l.useState)("overview"),[j,f]=(0,l.useState)(""),v=(0,n.useRouter)();console.log("\uD83D\uDD0D Exams debug:",{totalExams:r.length,examsWithTitle:r.filter(e=>e.title&&e.title.trim()).length,sampleTitles:r.slice(0,5).map(e=>({id:e.id,title:e.title}))});let[N,D]=(0,l.useState)("net"),k=(0,l.useMemo)(()=>s.map(e=>{let s=a.filter(s=>s.studentId===e.id).filter(e=>{var s,a;let t=(null===(s=e.nets)||void 0===s?void 0:s.total)||0,l=(null===(a=e.scores)||void 0===a?void 0:a.puan)?parseFloat(e.scores.puan):e.puan||e.totalScore||0;return t>0||l>0});if(0===s.length)return{studentId:e.id,studentName:e.name,averageNet:0,bestPerformance:0,worstPerformance:0,totalExams:0,classRank:0,averageScore:0,bestScore:0,worstScore:0,subjectAverages:{turkce:0,matematik:0,fen:0,sosyal:0}};let t=s.map(e=>e.nets.total),l=t.reduce((e,s)=>e+s,0)/t.length,r=s.map(e=>{var s;return(null===(s=e.scores)||void 0===s?void 0:s.puan)?parseFloat(e.scores.puan):e.puan||0}),i=r.length>0?r.reduce((e,s)=>e+s,0)/r.length:0,n=r.length>0?Math.max(...r):0,d=r.length>0?Math.min(...r):0,c={turkce:s.reduce((e,s)=>{var a;return e+((null===(a=s.nets)||void 0===a?void 0:a.turkce)||0)},0)/s.length,matematik:s.reduce((e,s)=>{var a;return e+((null===(a=s.nets)||void 0===a?void 0:a.matematik)||0)},0)/s.length,fen:s.reduce((e,s)=>{var a;return e+((null===(a=s.nets)||void 0===a?void 0:a.fen)||0)},0)/s.length,sosyal:s.reduce((e,s)=>{var a;return e+((null===(a=s.nets)||void 0===a?void 0:a.sosyal)||0)},0)/s.length};return{studentId:e.id,studentName:e.name,averageNet:l,bestPerformance:Math.max(...t),worstPerformance:Math.min(...t),totalExams:s.length,classRank:0,averageScore:i,bestScore:n,worstScore:d,subjectAverages:c}}).filter(e=>e.totalExams>0).sort((e,s)=>s.averageNet-e.averageNet).map((e,s)=>({...e,classRank:s+1})),[s,a]),w=(0,l.useMemo)(()=>{let e=k;return"all"!==i&&(e=k.filter(e=>{let a=s.find(s=>s.id===e.studentId);return(null==a?void 0:a.class)===i})),e.sort((e,s)=>s.averageNet-e.averageNet).map((e,s)=>({...e,classRank:s+1}))},[k,s,i]),C=(0,l.useMemo)(()=>Array.from(new Set(s.map(e=>e.class))).sort(),[s]),S=(0,l.useMemo)(()=>{let e=w.filter(e=>e.averageNet>0);return 0===e.length?0:e.reduce((e,s)=>e+s.averageNet,0)/e.length},[w]);return(0,l.useMemo)(()=>{if(!j)return 0;let e=s.find(e=>e.id===j);if(!e)return 0;let a=s.filter(s=>s.class===e.class),t=k.filter(e=>a.some(s=>s.id===e.studentId)&&e.averageNet>0);return 0===t.length?0:t.reduce((e,s)=>e+s.averageNet,0)/t.length},[j,s,k]),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-6 py-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6 lg:p-8 mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uD83D\uDCCA Analitik & Raporlar"}),(0,t.jsx)("p",{className:"text-gray-600",children:"\xd6ğrenci performans analizi ve karşılaştırma raporları"})]}),(0,t.jsx)("div",{className:"flex flex-col sm:flex-row gap-3",children:(0,t.jsxs)("select",{value:i,onChange:e=>c(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"all",children:"T\xfcm Sınıflar"}),C.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})})]}),(0,t.jsxs)("div",{className:"mt-6 flex flex-wrap gap-2",children:[[{key:"overview",label:"\uD83D\uDCC8 Genel Bakış"},{key:"comparison",label:"\uD83D\uDD0D Karşılaştırma"},{key:"trends",label:"\uD83D\uDCCA Trend Analizi"}].map(e=>(0,t.jsx)("button",{onClick:()=>y(e.key),className:"px-4 py-2 rounded-lg font-medium transition-all ".concat(g===e.key?"bg-blue-500 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.label},e.key)),"trends"===g&&j&&(0,t.jsxs)("div",{className:"flex ml-4 bg-gray-100 rounded-lg p-1",children:[(0,t.jsx)("button",{onClick:()=>D("net"),className:"px-3 py-1 rounded-md font-medium transition-all text-sm ".concat("net"===N?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"\uD83D\uDCCA Net"}),(0,t.jsx)("button",{onClick:()=>D("puan"),className:"px-3 py-1 rounded-md font-medium transition-all text-sm ".concat("puan"===N?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"\uD83C\uDFAF Puan"})]})]})]}),"overview"===g&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex justify-center mb-4",children:(0,t.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,t.jsx)("button",{onClick:()=>D("net"),className:"px-4 py-2 rounded-md font-medium transition-all ".concat("net"===N?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"\uD83D\uDCCA Net"}),(0,t.jsx)("button",{onClick:()=>D("puan"),className:"px-4 py-2 rounded-md font-medium transition-all ".concat("puan"===N?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"\uD83C\uDFAF Puan"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Toplam \xd6ğrenci"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:w.length})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Sınıf Ortalaması"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-green-600",children:"net"===N?(S||0).toFixed(1):w.length>0?(w.reduce((e,s)=>e+(s.averageScore||0),0)/w.length||0).toFixed(0):"0"})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:["En ","net"===N?"Y\xfcksek Net":"Y\xfcksek Puan"]}),(0,t.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:w.length>0?"net"===N?Math.max(...w.map(e=>e.bestPerformance||0)).toFixed(1):Math.max(...w.map(e=>e.bestScore||0)).toFixed(0):"0"})]})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Performans Dağılımı"}),(0,t.jsx)(d.h,{width:"100%",height:300,children:(0,t.jsxs)(p.v,{data:w,children:[(0,t.jsx)(o.q,{strokeDasharray:"3 3"}),(0,t.jsx)(m.K,{dataKey:"studentName",angle:-45,textAnchor:"end",height:100,interval:0,tick:{fontSize:8}}),(0,t.jsx)(x.B,{domain:"net"===N?[0,90]:[0,500],tick:{fontSize:10}}),(0,t.jsx)(u.u,{}),(0,t.jsx)(h.D,{}),(0,t.jsx)(b.$,{dataKey:"net"===N?"averageNet":"averageScore",fill:"#3B82F6",name:"net"===N?"Ortalama Net":"Ortalama Puan"}),(0,t.jsx)(b.$,{dataKey:"net"===N?"bestPerformance":"bestScore",fill:"#10B981",name:"net"===N?"En İyi Net":"En İyi Puan"})]})})]})]}),"comparison"===g&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex justify-center mb-4",children:(0,t.jsxs)("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[(0,t.jsx)("button",{onClick:()=>D("net"),className:"px-4 py-2 rounded-md font-medium transition-all ".concat("net"===N?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"\uD83D\uDCCA Net"}),(0,t.jsx)("button",{onClick:()=>D("puan"),className:"px-4 py-2 rounded-md font-medium transition-all ".concat("puan"===N?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"),children:"\uD83C\uDFAF Puan"})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b",children:(0,t.jsx)("h3",{className:"text-xl font-bold",children:"Detaylı Performans Karşılaştırması"})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sıra"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\xd6ğrenci"}),(0,t.jsxs)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:["Ortalama ","net"===N?"Net":"Puan"]}),(0,t.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"En İyi"}),(0,t.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"En K\xf6t\xfc"}),(0,t.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sınav Sayısı"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map((e,s)=>(0,t.jsxs)("tr",{className:s<3?"bg-yellow-50":"hover:bg-gray-50",children:[(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[s<3&&(0,t.jsx)("span",{className:"text-yellow-500",children:"\uD83C\uDFC6"})," ",e.classRank]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.studentName}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("net"===N?e.averageNet>=15?"bg-green-100 text-green-800":e.averageNet>=10?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800":e.averageScore>=400?"bg-green-100 text-green-800":e.averageScore>=300?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:"net"===N?(e.averageNet||0).toFixed(1):(e.averageScore||0).toFixed(0)})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-green-600 font-semibold",children:"net"===N?(e.bestPerformance||0).toFixed(1):(e.bestScore||0).toFixed(0)}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-red-600 font-semibold",children:"net"===N?(e.worstPerformance||0).toFixed(1):(e.worstScore||0).toFixed(0)}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-500",children:e.totalExams})]},e.studentId))})]})})]})]}),"trends"===g&&(()=>{let e="all"===i?s:s.filter(e=>e.class===i),a=e.reduce((e,s)=>(e[s.class]||(e[s.class]=[]),e[s.class].push(s),e),{}),l=e=>{v.push("/student-dashboard?studentId=".concat(e.id))};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"\uD83D\uDCCA Sınıf Bazlı \xd6ğrenci Listesi"}),(0,t.jsx)("p",{className:"text-gray-600",children:"\xd6ğrenci detay raporunu g\xf6r\xfcnt\xfclemek i\xe7in aşağıdaki \xf6ğrencilerden birine tıklayın."})]})}),Object.entries(a).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 px-6 py-4",children:(0,t.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),s," Sınıfı (",a.length," \xf6ğrenci)"]})}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:a.map(e=>(0,t.jsx)("div",{onClick:()=>l(e),className:"bg-gradient-to-br from-gray-50 to-gray-100 hover:from-blue-50 hover:to-indigo-50 border border-gray-200 hover:border-blue-300 rounded-xl p-4 cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105 group",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-400 to-indigo-500 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:from-blue-500 group-hover:to-indigo-600 transition-colors",children:(0,t.jsx)("span",{className:"text-white font-bold text-lg",children:e.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})}),(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-1 group-hover:text-blue-700 transition-colors",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["No: ",e.number]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 text-xs text-gray-500 mb-3",children:[(0,t.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),(0,t.jsxs)("span",{children:[e.viewCount||0," g\xf6r\xfcnt\xfclenme"]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-medium py-2 px-4 rounded-lg transition-all duration-200 flex items-center justify-center gap-2 group-hover:shadow-md",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,t.jsx)("span",{className:"text-sm",children:"Raporu G\xf6r\xfcnt\xfcle"})]})]})},e.id))})})]},s)}),0===e.length&&(0,t.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"\xd6ğrenci Bulunamadı"}),(0,t.jsx)("p",{className:"text-gray-600",children:"all"===i?"Hen\xfcz hi\xe7 \xf6ğrenci kaydı bulunmuyor.":"".concat(i," sınıfında kayıtlı \xf6ğrenci bulunmuyor.")})]})]})})()]})};let j={"2-A":[{key:"turkce",name:"T\xfcrk\xe7e",color:"#10B981"},{key:"matematik",name:"Matematik",color:"#F59E0B"},{key:"hayat",name:"Hayat Bilgisi",color:"#8B5CF6"},{key:"ingilizce",name:"İngilizce",color:"#EF4444"}],"3-A":[{key:"turkce",name:"T\xfcrk\xe7e",color:"#10B981"},{key:"matematik",name:"Matematik",color:"#F59E0B"},{key:"hayat",name:"Hayat Bilgisi",color:"#8B5CF6"},{key:"ingilizce",name:"İngilizce",color:"#EF4444"},{key:"fen",name:"Fen Bilimleri",color:"#3B82F6"}],"4-A":[{key:"turkce",name:"T\xfcrk\xe7e",color:"#10B981"},{key:"matematik",name:"Matematik",color:"#F59E0B"},{key:"sosyal",name:"Sosyal Bilgiler",color:"#8B5CF6"},{key:"ingilizce",name:"İngilizce",color:"#EF4444"},{key:"din",name:"Din K\xfclt\xfcr\xfc",color:"#F97316"},{key:"fen",name:"Fen Bilimleri",color:"#3B82F6"}]},f=e=>j[e]||j["4-A"],v=e=>{let{students:s,exams:a,onDataUpdate:r}=e,[n,d]=(0,l.useState)(null),[c,o]=(0,l.useState)([]),[m,x]=(0,l.useState)(!1),[u,h]=(0,l.useState)("file"),[g,p]=(0,l.useState)(""),[b,y]=(0,l.useState)({title:"",date:new Date().toISOString().split("T")[0],classes:[]}),[j,f]=(0,l.useState)({total:0,added:0,updated:0,errors:[]}),v=e=>{let s=e.split("/"),a=parseInt(s[0])||0,t=parseInt(s[1])||0;return{D:a,Y:t,B:parseInt(s[2])||0,net:Math.round(10*(a-t/4))/10}},N=e=>{let s=e.trim().split("\n"),a=[];return s.slice(1).forEach((e,s)=>{if(!e.trim())return;let t=e.split(",").map(e=>e.trim().replace(/"/g,""));if(t.length>=12){let e=v(t[3]||"0/0/0"),s=v(t[7]||"0/0/0"),l=v(t[8]||"0/0/0"),r={name:t[0]||"",class:t[1]||"",number:t[2]||"",turkce:e.net,matematik:s.net,fen:l.net,puan:parseFloat(t[11])||0,scores:{turkce:{D:e.D,Y:e.Y,N:e.net,B:e.B},matematik:{D:s.D,Y:s.Y,N:s.net,B:s.B},fen:{D:l.D,Y:l.Y,N:l.net,B:l.B}},tarih:v(t[4]||"0/0/0"),din:v(t[5]||"0/0/0"),ingilizce:v(t[6]||"0/0/0"),toplam:v(t[9]||"0/0/0"),lgsNeti:parseFloat(t[10])||0};a.push(r)}}),a},D=e=>new Promise((s,a)=>{let t=new FileReader;t.onload=e=>{try{var t;let a=null===(t=e.target)||void 0===t?void 0:t.result;s(a)}catch(e){a(e)}},t.onerror=a,t.readAsText(e)}),k=async()=>{let e="";if("file"===u&&n){x(!0);try{e=await D(n)}catch(e){console.error("File reading error:",e),alert("Dosya okunurken bir hata oluştu."),x(!1);return}}else if("paste"===u&&g.trim())e=g;else{alert("L\xfctfen bir dosya se\xe7in veya veri yapıştırın.");return}try{let s=N(e);o(s),0===s.length&&alert("Hi\xe7 veri bulunamadı. L\xfctfen formatı kontrol edin.")}catch(e){console.error("Parsing error:",e),alert("Veri parse edilirken bir hata oluştu.")}finally{x(!1)}},w=async()=>{if(0===c.length)return;x(!0);let e={total:c.length,added:0,updated:0,errors:[]};try{let t="",l=a.find(e=>e.title===b.title&&e.date===b.date);if(l)t=l.id;else{let e={title:b.title,date:b.date,classes:b.classes.length>0?b.classes:void 0};t=await (0,i.rd)(e)}for(let a of c)try{let l=s.find(e=>e.name===a.name&&e.class===a.class);if(l)e.updated++;else{let s={name:a.name,class:a.class,number:a.number||"0",viewCount:0,lastViewDate:new Date().toISOString(),createdAt:new Date().toISOString()},t=await (0,i.tS)(s);l={...s,id:t},e.added++}let r={total:(a.turkce||0)+(a.matematik||0)+(a.fen||0),turkce:a.turkce||0,matematik:a.matematik||0,fen:a.fen||0},n={studentId:l.id,examId:t,nets:r,scores:{puan:a.puan||0,...a.scores},createdAt:new Date().toISOString()};await (0,i.f6)(n)}catch(s){console.error("Student import error:",s),e.errors.push("\xd6ğrenci ".concat(a.name,": ").concat(s))}f(e),r(),alert("İ\xe7e aktarım tamamlandı! ".concat(e.added," yeni \xf6ğrenci eklendi, ").concat(e.updated," g\xfcncellendi."))}catch(e){console.error("Firebase import error:",e),alert("Firebase'e aktarım sırasında bir hata oluştu.")}finally{x(!1)}};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-teal-600 rounded-2xl p-8 text-white",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"\uD83D\uDCCA Excel/CSV İ\xe7e Aktarım"}),(0,t.jsx)("p",{className:"text-green-100 text-xs",children:"Excel (.xlsx) veya CSV dosyalarından \xf6ğrenci verilerini hızlıca sisteme aktarın"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"İ\xe7e Aktarım Y\xf6ntemi"}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsx)("button",{onClick:()=>h("file"),className:"px-6 py-3 rounded-lg font-medium transition-colors ".concat("file"===u?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"\uD83D\uDCC1 Dosya Y\xfckle"}),(0,t.jsx)("button",{onClick:()=>h("paste"),className:"px-6 py-3 rounded-lg font-medium transition-colors ".concat("paste"===u?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"\uD83D\uDCCB Yapıştır"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"text-blue-600 mr-3",children:"\uD83D\uDCE5"}),"Excel Şablonu İndir"]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"LGS sınav sonu\xe7ları i\xe7in hazır şablonu indirin. Şablondaki \xf6rnek verileri kendi verilerinizle değiştirin."}),(0,t.jsxs)("ul",{className:"text-xs text-gray-500 space-y-1",children:[(0,t.jsx)("li",{children:"• D/Y/B Formatı: Doğru/Yanlış/Boş (\xf6rn: 20/5/15 = 20 doğru, 5 yanlış, 15 boş)"}),(0,t.jsx)("li",{children:"• Net Hesaplama: Net = Doğru - (Yanlış/4)"}),(0,t.jsx)("li",{children:"• LGS Neti: T\xfcm derslerin toplam neti"}),(0,t.jsx)("li",{children:"• LGS Puanı: 100-500 arası puan aralığı"})]})]}),(0,t.jsxs)("button",{onClick:()=>{let e=new Blob([[["\xd6ğrenci Adı","Sınıf","Numara","T\xfcrk\xe7e (D/Y/B)","Tarih (D/Y/B)","Din K.ve A.B. (D/Y/B)","İngilizce (D/Y/B)","Matematik (D/Y/B)","Fen (D/Y/B)","Toplam (D/Y/B)","LGS Neti (N)","LGS Puanı"],["Ahmet Yılmaz","8-A","1","20/5/15","18/7/5","15/3/2","16/4/0","25/8/7","22/6/2","116/33/31","85.2","425.8"],["Ayşe Demir","8-B","2","22/3/5","20/5/5","18/2/0","18/3/1","28/6/6","25/4/1","131/23/18","89.5","465.2"],["Mehmet Kaya","8-A","3","18/8/14","15/10/5","12/6/2","14/6/0","20/12/8","19/8/3","98/50/32","76.3","380.1"],["Fatma \xd6zkan","8-C","4","24/1/5","22/3/5","20/1/1","19/2/1","30/3/7","27/2/1","142/12/20","92.8","495.7"],["Ali \xc7elik","8-B","5","19/6/15","17/8/5","14/5/1","15/5/0","23/9/8","21/7/2","109/40/31","81.6","410.3"]].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),a=URL.createObjectURL(e);s.setAttribute("href",a),s.setAttribute("download","lgs_ogrenci_veri_sablonu.csv"),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},className:"bg-blue-500 text-white px-6 py-3 rounded-lg hover:bg-blue-600 transition-colors font-medium flex items-center",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Şablon İndir (.CSV)"]})]})]}),"file"===u?(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"text-green-600 mr-3",children:"\uD83D\uDCC1"}),"Dosya Se\xe7in"]}),(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-green-400 transition-colors",children:[(0,t.jsx)("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:e=>{var s;let a=null===(s=e.target.files)||void 0===s?void 0:s[0];a&&("text/csv"===a.type||"application/vnd.ms-excel"===a.type||a.name.endsWith(".csv")||a.name.endsWith(".xlsx"))?(d(a),o([])):alert("L\xfctfen bir CSV veya Excel dosyası se\xe7in.")},className:"hidden",id:"excel-upload"}),(0,t.jsxs)("label",{htmlFor:"excel-upload",className:"cursor-pointer",children:[(0,t.jsx)("div",{className:"text-green-600 mb-4",children:(0,t.jsx)("svg",{className:"mx-auto h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,t.jsx)("p",{className:"text-lg font-medium text-gray-900 mb-2",children:n?n.name:"Excel/CSV dosyasını buraya s\xfcr\xfckleyin veya se\xe7in"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"CSV, XLSX veya XLS dosyaları desteklenmektedir"})]})]})]}):(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"text-blue-600 mr-3",children:"\uD83D\uDCCB"}),"Veri Yapıştır"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Excel'den veya Google Sheets'ten verileri kopyalayıp buraya yapıştırın:"}),(0,t.jsx)("textarea",{value:g,onChange:e=>p(e.target.value),placeholder:"\xd6ğrenci Adı, Sınıf, Numara, T\xfcrk\xe7e (D/Y/B), Tarih (D/Y/B), Din K.ve A.B. (D/Y/B), İngilizce (D/Y/B), Matematik (D/Y/B), Fen (D/Y/B), Toplam (D/Y/B), LGS Neti (N), LGS Puanı Ahmet Yılmaz, 8-A, 1, 20/5/15, 18/7/5, 15/3/2, 16/4/0, 25/8/7, 22/6/2, 116/33/31, 85.2, 425.8",className:"w-full h-40 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 font-mono text-sm"})]}),(n||g.trim())&&(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("button",{onClick:k,disabled:m,className:"bg-green-500 text-white px-8 py-3 rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 font-semibold",children:m?"İşleniyor...":"\uD83D\uDCCA Veriyi İşle"})})}),c.length>0&&(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"text-blue-600 mr-3",children:"\uD83D\uDCCB"}),"Deneme Bilgileri"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deneme Adı *"}),(0,t.jsx)("input",{type:"text",value:b.title,onChange:e=>y(s=>({...s,title:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Deneme adını girin",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deneme Tarihi *"}),(0,t.jsx)("input",{type:"date",value:b.date,onChange:e=>y(s=>({...s,date:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"İlgili Sınıflar (Opsiyonel)"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:B.map(e=>(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:b.classes.includes(e),onChange:s=>{s.target.checked?y(s=>({...s,classes:[...s.classes,e]})):y(s=>({...s,classes:s.classes.filter(s=>s!==e)}))},className:"mr-2"}),(0,t.jsx)("span",{className:"text-sm",children:e})]},e))})]})]}),c.length>0&&(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"text-green-600 mr-3",children:"\uD83D\uDC65"}),"Parse Edilen \xd6ğrenci Verileri (",c.length," \xf6ğrenci)"]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50",children:[(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"\xd6ğrenci Adı"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Sınıf"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Numara"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"T\xfcrk\xe7e Net"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Matematik Net"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Fen Net"}),(0,t.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Toplam Puan"})]})}),(0,t.jsx)("tbody",{children:c.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.name}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.class}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.number}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.turkce}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.matematik}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.fen}),(0,t.jsx)("td",{className:"border border-gray-300 px-4 py-2 font-semibold",children:e.puan})]},s))})]})}),(0,t.jsx)("div",{className:"mt-6 flex justify-center",children:(0,t.jsx)("button",{onClick:w,disabled:m||!b.title,className:"bg-green-500 text-white px-8 py-3 rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 font-semibold",children:m?"Aktarılıyor...":"\uD83D\uDE80 ".concat(c.length," \xd6ğrenciyi Firebase'e Aktar")})})]}),j.total>0&&(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"text-indigo-600 mr-3",children:"\uD83D\uDCCA"}),"İ\xe7e Aktarım Sonu\xe7ları"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:j.total}),(0,t.jsx)("div",{className:"text-blue-800",children:"Toplam \xd6ğrenci"})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:j.added}),(0,t.jsx)("div",{className:"text-green-800",children:"Yeni Eklenen"})]}),(0,t.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:j.updated}),(0,t.jsx)("div",{className:"text-orange-800",children:"G\xfcncellenen"})]})]}),j.errors.length>0&&(0,t.jsxs)("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[(0,t.jsx)("h4",{className:"font-semibold text-red-800 mb-2",children:"Hatalar:"}),(0,t.jsx)("ul",{className:"text-sm text-red-700 space-y-1",children:j.errors.map((e,s)=>(0,t.jsxs)("li",{children:["• ",e]},s))})]})]}),(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-green-900 mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"text-green-600 mr-3",children:"\uD83D\uDCA1"}),"Desteklenen Formatlar"]}),(0,t.jsxs)("div",{className:"space-y-3 text-green-800",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"\uD83D\uDCCA Excel/CSV Format:"}),(0,t.jsx)("p",{className:"text-sm",children:"\xd6ğrenci Adı, Sınıf, Numara, T\xfcrk\xe7e Net, Matematik Net, Fen Net, Toplam Puan"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"\uD83D\uDCCB \xd6rnek Veri:"}),(0,t.jsx)("pre",{className:"bg-green-100 p-2 rounded text-xs",children:"Ahmet Yılmaz, 8-A, 1, 15.2, 12.8, 14.5, 425\nAyşe Demir, 8-B, 2, 16.1, 11.9, 15.2, 432\nMehmet Kaya, 8-A, 3, 14.8, 13.5, 13.9, 418"})]}),(0,t.jsx)("div",{className:"bg-green-100 p-3 rounded",children:(0,t.jsxs)("p",{className:"text-green-900 text-sm",children:[(0,t.jsx)("strong",{children:"\uD83D\uDCA1 İpucu:"})," Excel'den verileri kopyalayıp \"Yapıştır\" modunda doğrudan buraya yapıştırabilirsiniz. Bu y\xf6ntem PDF'den \xe7ok daha hızlı ve g\xfcvenilirdir!"]})})]})]})]})},N=[{key:"home",label:"\uD83C\uDFE0 Ana Sayfa"},{key:"sinif",label:"\uD83C\uDFDB️ Sınıf Y\xf6netimi"},{key:"deneme",label:"\uD83D\uDCCB Deneme Y\xf6netimi"},{key:"bireysel",label:"\uD83D\uDC68‍\uD83C\uDF93 Bireysel Veri"},{key:"toplu",label:"\uD83D\uDC65 Toplu Veri"},{key:"excel-import",label:"\uD83D\uDCCA Excel İ\xe7e Aktar"},{key:"kitap-sinavi",label:"\uD83D\uDCDA Kitap Sınavı"},{key:"odev-takibi",label:"\uD83D\uDCDD \xd6dev Takibi"},{key:"eksik-konu",label:"\uD83D\uDCCA Deneme Değerlendirme"},{key:"hedef",label:"\uD83C\uDFAF Hedef Belirleme"},{key:"lgs-hesaplama",label:"\uD83E\uDDEE LGS Puan Hesaplama"},{key:"analytics",label:"\uD83D\uDCCA Analitik & Raporlar"},{key:"van-taban-puan",label:"\uD83C\uDF93 Lise Taban Puanları"},{key:"puan-bazli-tavsiye",label:"\uD83C\uDFAF Puan Bazlı Tavsiye"},{key:"okuma-sinavi",label:"\uD83D\uDCDA Okuma Sınavı"}],D="#10B981",k="#F59E0B",w="#3B82F6",C="#8B5CF6",S="#EF4444",A="#F97316",L={elementary:[{key:"turkce",label:"T\xfcrk\xe7e",grades:["2","3","4","5"],color:D},{key:"sosyal",label:"Sosyal Bilgiler",grades:["4","5"],color:C},{key:"din",label:"Din K\xfclt\xfcr\xfc ve Ahlak Bilgisi",grades:["4","5"],color:A},{key:"ingilizce",label:"İngilizce",grades:["2","3","4","5"],color:S},{key:"matematik",label:"Matematik",grades:["2","3","4","5"],color:k},{key:"fen",label:"Fen Bilimleri",grades:["3","4","5"],color:w},{key:"hayat",label:"Hayat Bilgisi",grades:["2","3"],color:"#F59E0B"}],middle:[{key:"turkce",label:"T\xfcrk\xe7e",grades:["6","7","8"],color:D},{key:"sosyal",label:"Sosyal Bilgiler",grades:["6","7","8"],color:C},{key:"din",label:"Din K\xfclt\xfcr\xfc ve Ahlak Bilgisi",grades:["6","7","8"],color:A},{key:"ingilizce",label:"İngilizce",grades:["6","7","8"],color:S},{key:"matematik",label:"Matematik",grades:["6","7","8"],color:k},{key:"fen",label:"Fen Bilimleri",grades:["6","7","8"],color:w}],high:[{key:"turkce",label:"T\xfcrk Dili ve Edebiyatı",grades:["9","10","11","12"],color:D},{key:"matematik",label:"Matematik",grades:["9","10","11","12"],color:k},{key:"fen",label:"Fizik",grades:["9","10","11","12"],color:w},{key:"kimya",label:"Kimya",grades:["9","10","11","12"],color:"#06B6D4"},{key:"biyoloji",label:"Biyoloji",grades:["9","10","11","12"],color:"#84CC16"},{key:"sosyal",label:"Tarih",grades:["9","10","11","12"],color:"#EC4899"},{key:"cografya",label:"Coğrafya",grades:["9","10","11","12"],color:"#6366F1"},{key:"ingilizce",label:"İngilizce",grades:["9","10","11","12"],color:S}]},B=["2-A","3-A","4-A","5-A","6-A","7-A","8-A"],F=e=>{let s=e.split("-")[0],a=parseInt(s);return a<=5?L.elementary.filter(e=>e.grades.includes(s)):a<=8?L.middle.filter(e=>e.grades.includes(s)):L.high.filter(e=>e.grades.includes(s))},z=(e,s)=>e-.33*s;function E(){let[e,s]=(0,l.useState)([]),[a,r]=(0,l.useState)([]),[n,d]=(0,l.useState)([]),[c,o]=(0,l.useState)(!0),[m,x]=(0,l.useState)("home"),[u,h]=(0,l.useState)(null),g=[{name:"Van T\xfcrk Telekom Fen Lisesi",type:"Fen Lisesi",score:"460.91",percentile:"2.51",capacity:"150",district:"Edremit"},{name:"İpekyolu Borsa İstanbul Fen Lisesi",type:"Fen Lisesi",score:"441.61",percentile:"4.67",capacity:"150",district:"İpekyolu"},{name:"Tuşba TOBB Fen Lisesi",type:"Fen Lisesi",score:"422.90",percentile:"7.20",capacity:"150",district:"Tuşba"},{name:"Niyazi T\xfcrkmenoğlu Anadolu Lisesi",type:"Anadolu Lisesi",score:"416.75",percentile:"8.09",capacity:"120",district:"İpekyolu"},{name:"Erciş Fen Lisesi",type:"Fen Lisesi",score:"402.18",percentile:"10.39",capacity:"150",district:"Erciş"},{name:"Kazım Karabekir Anadolu Lisesi",type:"Anadolu Lisesi",score:"400.23",percentile:"10.71",capacity:"150",district:"İpekyolu"},{name:"Şehit Erdoğan Cınbıroğlu Anadolu Lisesi",type:"Anadolu Lisesi",score:"412.45",percentile:"9.12",capacity:"150",district:"İpekyolu"},{name:"Van Anadolu Lisesi",type:"Anadolu Lisesi",score:"408.32",percentile:"9.87",capacity:"150",district:"İpekyolu"},{name:"Atat\xfcrk Anadolu Lisesi",type:"Anadolu Lisesi",score:"405.78",percentile:"10.23",capacity:"150",district:"İpekyolu"},{name:"Mehmet Akif Ersoy Anadolu Lisesi",type:"Anadolu Lisesi",score:"402.15",percentile:"10.58",capacity:"150",district:"İpekyolu"}],p=[{name:"Mesut \xd6zata Anadolu Lisesi",type:"Anadolu Lisesi",score:"91.09",capacity:"150",district:"İpekyolu"},{name:"\xd6zen Adalı Anadolu Lisesi",type:"Anadolu Lisesi",score:"89.66",capacity:"150",district:"İpekyolu"},{name:"Mehmet Akif Ersoy Anadolu Lisesi",type:"Anadolu Lisesi",score:"88.96",capacity:"150",district:"İpekyolu"},{name:"Arif Nihat Asya Anadolu Lisesi",type:"Anadolu Lisesi",score:"89.39",capacity:"150",district:"Erciş"},{name:"Faki Teyran Anadolu Lisesi",type:"Anadolu Lisesi",score:"85.96",capacity:"150",district:"Edremit"},{name:"İki Nisan Anadolu Lisesi",type:"Anadolu Lisesi",score:"84.93",capacity:"150",district:"İpekyolu"}],[b,j]=(0,l.useState)({}),[D,k]=(0,l.useState)({}),[w,C]=(0,l.useState)(""),[S,A]=(0,l.useState)(),L=async()=>{try{o(!0);let[e,a,t,l]=await Promise.all([(0,i.sK)(),(0,i._P)(),(0,i.O7)(),(0,i.qb)()]),n={};await Promise.all(e.map(async e=>{try{let s=await (0,i.rO)(e.id);s&&(n[e.id]=s)}catch(s){console.error("Puan hedefi \xe7ekilemedi (".concat(e.id,"):"),s),n[e.id]=450}})),s(e),r(a),d(t),j(l),k(n)}catch(e){console.error("Data loading error:",e),Y("Veriler y\xfcklenirken hata oluştu","error")}finally{o(!1)}},E=async()=>{try{let[e,a,t]=await Promise.all([(0,i.sK)(),(0,i._P)(),(0,i.O7)()]);s(e),r(a),d(t)}catch(e){console.error("Firebase data load error:",e)}},Y=(e,s)=>{h({message:e,type:s}),setTimeout(()=>h(null),4e3)};(0,l.useEffect)(()=>{L()},[]);let I=()=>{let s=(0,l.useMemo)(()=>e.map(e=>{let s=n.filter(s=>s.studentId===e.id).sort((e,s)=>{let t=a.find(s=>s.id===e.examId),l=a.find(e=>e.id===s.examId);return t&&l?new Date(l.date).getTime()-new Date(t.date).getTime():0}),t=s.length,l=t>0?s.reduce((e,s)=>e+Object.entries(s.nets||{}).filter(e=>{let[s]=e;return"total"!==s}).reduce((e,s)=>{let[,a]=s;return e+(Number(a)||0)},0),0)/t:0;"Ş\xfckr\xfcye Akpınar"===e.name&&console.log("✅ Ş\xdcKR\xdcYE FINAL (Ders Bazında): avgNet = ".concat(l.toFixed(2)));let r=s[0],i=r?a.find(e=>e.id===r.examId):null;return{...e,totalExams:t,avgNet:l,avgPuan:t>0?(()=>{let e=[];return s.forEach(s=>{var a;if(null!=s.puan&&s.puan>0&&e.push(Number(s.puan)),(null===(a=s.scores)||void 0===a?void 0:a.puan)!=null){let a="string"==typeof s.scores.puan?parseFloat(s.scores.puan):s.scores.puan;a>0&&e.push(a)}}),e.length>0?e.reduce((e,s)=>e+s,0)/e.length:0})():0,lastExam:(null==i?void 0:i.title)||"Deneme yok",lastDate:i?new Date(i.date).toLocaleDateString("tr-TR"):"N/A",lastNet:r?Object.entries(r.nets||{}).filter(e=>{let[s]=e;return"total"!==s}).reduce((e,s)=>{let[,a]=s;return e+(Number(a)||0)},0):0}}),[e,n,a]),r=(0,l.useMemo)(()=>{let e=s.reduce((e,s)=>(e[s.class]||(e[s.class]=[]),e[s.class].push(s),e),{}),a={};return Object.entries(e).forEach(e=>{let[s,t]=e;a[s]=t.sort((e,s)=>s.avgNet-e.avgNet).slice(0,5)}),a},[s]),i=(0,l.useMemo)(()=>{let e=s.reduce((e,s)=>(e[s.class]||(e[s.class]=[]),e[s.class].push(s),e),{}),a={};return Object.entries(e).forEach(e=>{let[s,t]=e;a[s]=t.sort((e,s)=>s.avgPuan-e.avgPuan).slice(0,5)}),a},[s]),d=(0,l.useMemo)(()=>[...a].sort((e,s)=>new Date(s.date).getTime()-new Date(e.date).getTime()).slice(0,3),[a]),c=(0,l.useMemo)(()=>{let s=e.length,t=a.length,l=n.length,r=e.reduce((e,s)=>e+(s.viewCount||0),0);return{totalStudents:s,totalExams:t,totalResults:l,avgStudentsPerExam:t>0?Math.round(l/t):0,totalViews:r,activeStudents:e.filter(e=>(e.viewCount||0)>0).length,avgViewsPerStudent:s>0?Math.round(r/s):0}},[e,a,n]);return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white",children:(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("img",{src:"/projelogo.png",alt:"Proje Logo",className:"w-20 h-20 object-contain"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"\uD83D\uDCCA Başarı Takip Sistemi"}),(0,t.jsx)("p",{className:"text-blue-100 text-sm",children:"\xd6ğrencilerinizin akademik başarılarını takip edin ve analiz edin"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,t.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500 text-xs",children:"Toplam \xd6ğrenci"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:c.totalStudents})]}),(0,t.jsx)("div",{className:"bg-blue-100 p-2 rounded-full",children:(0,t.jsx)("span",{className:"text-xl",children:"\uD83D\uDC65"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500 text-xs",children:"Toplam Deneme"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:c.totalExams})]}),(0,t.jsx)("div",{className:"bg-green-100 p-2 rounded-full",children:(0,t.jsx)("span",{className:"text-xl",children:"\uD83D\uDCCB"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500 text-xs",children:"Toplam Sonu\xe7"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:c.totalResults})]}),(0,t.jsx)("div",{className:"bg-purple-100 p-2 rounded-full",children:(0,t.jsx)("span",{className:"text-xl",children:"\uD83D\uDCCA"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500 text-xs",children:"Toplam G\xf6r\xfcnt\xfclenme"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:c.totalViews})]}),(0,t.jsx)("div",{className:"bg-yellow-100 p-2 rounded-full",children:(0,t.jsx)("span",{className:"text-xl",children:"\uD83D\uDC41️"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500 text-xs",children:"Aktif \xd6ğrenci"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:c.activeStudents})]}),(0,t.jsx)("div",{className:"bg-indigo-100 p-2 rounded-full",children:(0,t.jsx)("span",{className:"text-xl",children:"✅"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500 text-xs",children:"Ort. G\xf6r\xfcnt\xfclenme"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:c.avgViewsPerStudent})]}),(0,t.jsx)("div",{className:"bg-cyan-100 p-2 rounded-full",children:(0,t.jsx)("span",{className:"text-xl",children:"\uD83D\uDCC8"})})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("h3",{className:"text-xs font-semibold text-gray-800 flex items-center gap-3",children:[(0,t.jsx)("span",{className:"bg-yellow-100 p-2 rounded-lg",children:"\uD83C\uDFC6"}),"En Başarılı \xd6ğrenciler (Ortalama Net)"]})}),(0,t.jsx)("div",{className:"space-y-6",children:Object.keys(r).length>0?Object.entries(r).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 px-4 py-3 border-b border-gray-200",children:(0,t.jsxs)("h4",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"bg-green-100 p-1 rounded text-xs",children:"\uD83C\uDFAF"}),s]})}),(0,t.jsx)("div",{className:"p-4 space-y-3",children:a.length>0?a.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 text-white rounded-full w-6 h-6 flex items-center justify-center font-bold text-xs",children:s+1}),(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:e.name})})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-sm font-bold text-green-600",children:[(e.avgNet||0).toFixed(2)," net"]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[e.totalExams," deneme"]})]})]},e.id)):(0,t.jsx)("p",{className:"text-gray-500 text-center py-4 text-sm",children:"Bu sınıfta hen\xfcz deneme sonucu bulunmamaktadır."})})]},s)}):(0,t.jsx)("p",{className:"text-gray-500 text-center py-8",children:"Hen\xfcz sonu\xe7 bulunmamaktadır."})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,t.jsxs)("h3",{className:"text-xs font-semibold text-gray-800 flex items-center gap-3",children:[(0,t.jsx)("span",{className:"bg-purple-100 p-2 rounded-lg",children:"\uD83C\uDFC5"}),"En Başarılı \xd6ğrenciler (Ortalama Puan)"]})}),(0,t.jsx)("div",{className:"space-y-6",children:Object.keys(i).length>0?Object.entries(i).map(e=>{let[s,a]=e;return(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 px-4 py-3 border-b border-gray-200",children:(0,t.jsxs)("h4",{className:"text-sm font-semibold text-gray-800 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"bg-purple-100 p-1 rounded text-xs",children:"\uD83C\uDFAF"}),s]})}),(0,t.jsx)("div",{className:"p-4 space-y-3",children:a.length>0?a.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-purple-400 to-pink-500 text-white rounded-full w-6 h-6 flex items-center justify-center font-bold text-xs",children:s+1}),(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:e.name})})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-sm font-bold text-purple-600",children:[(e.avgPuan||0).toFixed(0)," puan"]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[e.totalExams," deneme"]})]})]},e.id)):(0,t.jsx)("p",{className:"text-gray-500 text-center py-4 text-sm",children:"Bu sınıfta hen\xfcz deneme sonucu bulunmamaktadır."})})]},s)}):(0,t.jsx)("p",{className:"text-gray-500 text-center py-8",children:"Hen\xfcz sonu\xe7 bulunmamaktadır."})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("h3",{className:"text-xs font-semibold text-gray-800 flex items-center gap-3",children:[(0,t.jsx)("span",{className:"bg-blue-100 p-2 rounded-lg",children:"\uD83D\uDCCB"}),"Son Eklenen Denemeler"]})}),(0,t.jsx)("div",{className:"p-6",children:d.length>0?(0,t.jsx)("div",{className:"space-y-4",children:d.map(e=>{var s;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[new Date(e.date).toLocaleDateString("tr-TR")," • ",(null===(s=e.classes)||void 0===s?void 0:s.join(", "))||"T\xfcm sınıflar"]})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[n.filter(s=>s.examId===e.id).length," sonu\xe7"]})]},e.id)})}):(0,t.jsx)("p",{className:"text-gray-500 text-center py-8",children:"Hen\xfcz deneme bulunmamaktadır."})})]})]})},V=()=>{let[s,a]=(0,l.useState)(!1),[r,n]=(0,l.useState)(null),[d,c]=(0,l.useState)({name:"",class:"",number:"0",viewCount:0,lastViewDate:new Date().toISOString()}),[o,m]=(0,l.useState)(!1),[x,u]=(0,l.useState)(!1),h=async()=>{if(!d.name.trim()||!d.class){Y("L\xfctfen t\xfcm alanları doldurun","error");return}try{m(!0);let e={name:d.name.trim(),class:d.class,number:d.number||"0",viewCount:0,lastViewDate:new Date().toISOString(),createdAt:new Date().toISOString()};await (0,i.tS)(e),await L(),c({name:"",class:"",number:"0",viewCount:0,lastViewDate:new Date().toISOString()}),a(!1),Y("\xd6ğrenci başarıyla eklendi! (PIN otomatik atandı)","success")}catch(e){console.error("Add student error:",e),Y("\xd6ğrenci eklenirken hata oluştu","error")}finally{m(!1)}},g=async()=>{if(confirm("T\xfcm \xf6ğrencilere otomatik PIN atanacak. Devam etmek istiyor musunuz?"))try{u(!0);let e=await (0,i.bK)();await L(),0===e.errors.length?Y("✅ ".concat(e.updated," \xf6ğrenciye başarıyla PIN atandı!"),"success"):(Y("⚠️ ".concat(e.updated," \xf6ğrenciye PIN atandı, ").concat(e.errors.length," hata oluştu"),"info"),console.log("Hatalar:",e.errors))}catch(e){console.error("PIN atama hatası:",e),Y("PIN atama işlemi sırasında hata oluştu","error")}finally{u(!1)}},p=async()=>{if(!r||!d.name.trim()||!d.class){Y("L\xfctfen t\xfcm alanları doldurun","error");return}try{m(!0);let e={name:d.name.trim(),class:d.class,number:d.number||"0"};await (0,i.Gc)(r.id,e),await L(),n(null),c({name:"",class:"",number:"0",viewCount:0,lastViewDate:new Date().toISOString()}),Y("\xd6ğrenci başarıyla g\xfcncellendi!","success")}catch(e){console.error("Update student error:",e),Y("\xd6ğrenci g\xfcncellenirken hata oluştu","error")}finally{m(!1)}},b=async e=>{if(confirm("".concat(e.name," \xf6ğrencisini silmek istediğinizden emin misiniz?")))try{await (0,i.MA)(e.id),await L(),Y("\xd6ğrenci başarıyla silindi!","success")}catch(e){console.error("Delete student error:",e),Y("\xd6ğrenci silinirken hata oluştu","error")}},y=e=>{n(e),c({name:e.name,class:e.class,number:e.number||"0",viewCount:e.viewCount||0,lastViewDate:e.lastViewDate||new Date().toISOString()}),a(!0)};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl p-8 text-white",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"\uD83C\uDF93 \xd6ğrenci Y\xf6netimi"}),(0,t.jsx)("p",{className:"text-indigo-100 text-xs",children:"\xd6ğrenci bilgilerini ekleyin, d\xfczenleyin ve y\xf6netin"})]}),s&&(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h3",{className:"text-xs font-semibold text-gray-800 mb-4",children:r?"\xd6ğrenci D\xfczenle":"Yeni \xd6ğrenci Ekle"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"\xd6ğrenci Adı *"}),(0,t.jsx)("input",{type:"text",value:d.name,onChange:e=>c(s=>({...s,name:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"\xd6ğrenci adını girin",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Sınıf *"}),(0,t.jsxs)("select",{value:d.class,onChange:e=>c(s=>({...s,class:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Sınıf se\xe7in"}),B.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Numara"}),(0,t.jsx)("input",{type:"text",value:d.number,onChange:e=>c(s=>({...s,number:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"\xd6ğrenci numarası"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:r?p:h,disabled:o,className:"bg-indigo-500 text-white px-6 py-2 rounded-lg hover:bg-indigo-600 transition-colors disabled:opacity-50",children:o?"Kaydediliyor...":r?"G\xfcncelle":"Kaydet"}),(0,t.jsx)("button",{onClick:()=>{n(null),a(!1),c({name:"",class:"",number:"0",viewCount:0,lastViewDate:new Date().toISOString()})},disabled:o,className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:"İptal"})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"\xd6ğrenci Listesi"}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:g,disabled:x,className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors disabled:opacity-50 text-sm",children:x?"\uD83D\uDD04 PIN Atanıyor...":"\uD83D\uDD10 T\xfcm \xd6ğrencilere PIN Ata"}),(0,t.jsx)("button",{onClick:()=>a(!0),className:"bg-indigo-500 text-white px-6 py-2 rounded-lg hover:bg-indigo-600 transition-colors",children:"+ Yeni \xd6ğrenci"})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6",children:B.map(s=>{let a=e.filter(e=>e.class===s).length;return(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:a}),(0,t.jsxs)("div",{className:"text-xs text-gray-600",children:[s," Sınıfı"]})]},s)})}),(0,t.jsx)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:B.map(s=>{let a=e.filter(e=>e.class===s),l=s.split("-")[0];return(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 ".concat("8"===l?"bg-gradient-to-r from-red-50 to-red-100":"7"===l?"bg-gradient-to-r from-orange-50 to-orange-100":"6"===l?"bg-gradient-to-r from-yellow-50 to-yellow-100":"bg-gradient-to-r from-blue-50 to-blue-100"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold text-white ".concat("8"===l?"bg-red-500":"7"===l?"bg-orange-500":"6"===l?"bg-yellow-500":"bg-blue-500"),children:l}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800",children:s}),(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:[a.length," \xf6ğrenci"]})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("div",{className:"text-xs text-gray-500",children:a.length>0?"✅ Aktif":"⏳ Boş"})})]})}),(0,t.jsx)("div",{className:"max-h-96 overflow-y-auto",children:a.length>0?(0,t.jsx)("div",{className:"p-4 space-y-2",children:a.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-xs font-medium text-gray-600",children:e.name.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs font-medium text-gray-900",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["No: ",e.number]}),e.pin&&(0,t.jsxs)("div",{className:"text-xs text-blue-600 font-medium",children:["PIN: ",e.pin]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500",children:e.createdAt?new Date(e.createdAt).toLocaleDateString("tr-TR"):"N/A"}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>y(e),className:"text-xs px-2 py-1 text-indigo-600 hover:text-indigo-800 bg-indigo-50 hover:bg-indigo-100 rounded transition-colors",children:"D\xfczenle"}),(0,t.jsx)("button",{onClick:()=>b(e),className:"text-xs px-2 py-1 text-red-600 hover:text-red-800 bg-red-50 hover:bg-red-100 rounded transition-colors",children:"Sil"})]})]})]},e.id))}):(0,t.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,t.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDC65"}),(0,t.jsx)("p",{className:"text-xs",children:"Bu sınıfta hen\xfcz \xf6ğrenci bulunmuyor"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"\xd6ğrenci eklemek i\xe7in yukarıdaki formu kullanın"})]})})]},s)})}),(0,t.jsx)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-6 text-white",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-3xl font-bold",children:e.length}),(0,t.jsx)("div",{className:"text-indigo-100",children:"Toplam \xd6ğrenci"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-3xl font-bold",children:new Set(e.map(e=>e.class)).size}),(0,t.jsx)("div",{className:"text-indigo-100",children:"Aktif Sınıf"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-3xl font-bold",children:Math.round(e.length/Math.max(new Set(e.map(e=>e.class)).size,1))}),(0,t.jsx)("div",{className:"text-indigo-100",children:"Ortalama Sınıf \xd6ğrenci"})]})]})})]})]})},R=()=>{let[e,s]=(0,l.useState)(!1),[r,d]=(0,l.useState)(null),[c,o]=(0,l.useState)({title:"",date:new Date().toISOString().split("T")[0],classes:[]}),[m,x]=(0,l.useState)({}),[u,h]=(0,l.useState)(!1),g=async()=>{if(!c.title.trim()||!c.date){Y("L\xfctfen t\xfcm alanları doldurun","error");return}try{h(!0);let e={title:c.title.trim(),date:c.date,classes:c.classes.length>0?c.classes:void 0,generalAverages:Object.keys(m).length>0?m:void 0};await (0,i.rd)(e),await L(),o({title:"",date:new Date().toISOString().split("T")[0],classes:[]}),s(!1),Y("Deneme başarıyla eklendi!","success")}catch(e){console.error("Add exam error:",e),Y("Deneme eklenirken hata oluştu","error")}finally{h(!1)}},p=async()=>{if(!r||!c.title.trim()||!c.date){Y("L\xfctfen t\xfcm alanları doldurun","error");return}try{h(!0);let e={title:c.title.trim(),date:c.date,classes:c.classes.length>0?c.classes:void 0,generalAverages:Object.keys(m).length>0?m:void 0};await (0,i.w0)(r.id,e),await L(),d(null),o({title:"",date:new Date().toISOString().split("T")[0],classes:[]}),s(!1),Y("Deneme başarıyla g\xfcncellendi!","success")}catch(e){console.error("Update exam error:",e),Y("Deneme g\xfcncellenirken hata oluştu","error")}finally{h(!1)}},b=async e=>{if(confirm("".concat(e.title," denemesini silmek istediğinizden emin misiniz?")))try{await (0,i.ZH)(e.id),await L(),Y("Deneme başarıyla silindi!","success")}catch(e){console.error("Delete exam error:",e),Y("Deneme silinirken hata oluştu","error")}},y=e=>{d(e),o({title:e.title,date:e.date,classes:e.classes||[]}),x(e.generalAverages||{}),s(!0)},j=e=>{o(s=>({...s,classes:s.classes.includes(e)?s.classes.filter(s=>s!==e):[...s.classes,e]}))},f=(e,s,a)=>{x(t=>({...t,[e]:{...t[e],[s]:a}}))},v=(e,s)=>{x(a=>({...a,[e]:{...a[e],generalScore:s}}))};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 rounded-2xl p-8 text-white",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"\uD83D\uDCCB Deneme Y\xf6netimi"}),(0,t.jsx)("p",{className:"text-emerald-100 text-xs",children:"Deneme bilgilerini ekleyin, d\xfczenleyin ve y\xf6netin"})]}),e&&(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h3",{className:"text-xs font-semibold text-gray-800 mb-4",children:r?"Deneme D\xfczenle":"Yeni Deneme Ekle"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Deneme Adı *"}),(0,t.jsx)("input",{type:"text",value:c.title,onChange:e=>o(s=>({...s,title:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Deneme adını girin",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Deneme Tarihi *"}),(0,t.jsx)("input",{type:"date",value:c.date,onChange:e=>o(s=>({...s,date:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Hedef Sınıflar (İsteğe bağlı)"}),(0,t.jsx)("div",{className:"grid grid-cols-4 md:grid-cols-8 gap-2",children:B.map(e=>(0,t.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:c.classes.includes(e),onChange:()=>j(e),className:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"}),(0,t.jsx)("span",{className:"text-xs text-gray-700",children:e})]},e))}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Boş bırakılırsa t\xfcm sınıflar i\xe7in ge\xe7erli olur"})]}),c.classes.length>0&&(0,t.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)("h4",{className:"text-lg font-semibold text-blue-800",children:"\uD83D\uDCCA Genel Ortalama Bilgileri"})}),c.classes.length>0&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("p",{className:"text-xs text-blue-700",children:"\uD83D\uDCCB Her sınıf i\xe7in genel ortalamaları girin. Bu bilgiler \xfc\xe7l\xfc kıyaslama yorumlayıcısında kullanılacak."}),c.classes.map(e=>{let s=m[e]||{generalScore:0},a=F(e);return(0,t.jsxs)("div",{className:"bg-white p-4 rounded border border-blue-200",children:[(0,t.jsxs)("h5",{className:"font-medium text-gray-800 mb-3 flex items-center",children:[(0,t.jsx)("span",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 text-xs font-bold mr-2",children:e}),e," Sınıfı Genel Ortalamaları"]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 mb-4",children:a.sort((e,s)=>{let a={turkce:1,sosyal:2,din:3,ingilizce:4,matematik:5,fen:6};return(a[e.key]||999)-(a[s.key]||999)}).map(a=>(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("label",{className:"block text-xs font-medium text-gray-600",children:[a.label," Net"]}),(0,t.jsx)("input",{type:"number",step:"0.01",min:"0",max:"100",value:s[a.key]||"",onChange:s=>f(e,a.key,Number(s.target.value)||0),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0,00"},"avg-".concat(e,"-").concat(a.key))]},a.key))}),(0,t.jsxs)("div",{className:"pt-3 border-t border-gray-200",children:[(0,t.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["\uD83C\uDF86 ",e," Genel Puan Ortalaması"]}),(0,t.jsx)("input",{type:"number",step:"0.01",min:"0",max:"100",value:s.generalScore||"",onChange:s=>v(e,Number(s.target.value)||0),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0,00"},"gen-".concat(e))]})]},e)})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{onClick:r?p:g,disabled:u,className:"bg-emerald-500 text-white px-6 py-2 rounded-lg hover:bg-emerald-600 transition-colors disabled:opacity-50",children:u?"Kaydediliyor...":r?"G\xfcncelle":"Kaydet"}),(0,t.jsx)("button",{onClick:()=>{d(null),s(!1),o({title:"",date:new Date().toISOString().split("T")[0],classes:[]}),x({})},disabled:u,className:"bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:"İptal"})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Deneme Listesi"}),(0,t.jsx)("button",{onClick:()=>s(!0),className:"bg-emerald-500 text-white px-6 py-2 rounded-lg hover:bg-emerald-600 transition-colors",children:"+ Yeni Deneme"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deneme"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tarih"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sınıflar"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sonu\xe7 Sayısı"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"İşlemler"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-xs font-medium text-gray-900",children:e.title})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleDateString("tr-TR")})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.classes&&e.classes.length>0?e.classes.join(", "):"T\xfcm sınıflar"})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-xs text-gray-500",children:n.filter(s=>s.examId===e.id).length})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-xs font-medium",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>y(e),className:"text-emerald-600 hover:text-emerald-900",children:"D\xfczenle"}),(0,t.jsx)("button",{onClick:()=>b(e),className:"text-red-600 hover:text-red-900",children:"Sil"})]})})]},e.id))})]})}),0===a.length&&(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Hen\xfcz deneme bulunmamaktadır."})]})]})},U=()=>{let[s,r]=(0,l.useState)(""),[d,c]=(0,l.useState)({studentId:"",examId:"",puan:"",scores:{}}),[o,m]=(0,l.useState)([]),[x,u]=(0,l.useState)([]),[h,g]=(0,l.useState)(!1);(0,l.useEffect)(()=>{s?(m(e.filter(e=>n.filter(s=>s.studentId===e.id).filter(e=>{var s,a;let t=(null===(s=e.nets)||void 0===s?void 0:s.total)||0,l=(null===(a=e.scores)||void 0===a?void 0:a.puan)?parseFloat(e.scores.puan):e.puan||e.totalScore||0;return t>0||l>0}).length>0).filter(e=>e.class===s)),u(a.filter(e=>!e.classes||e.classes.includes(s)||0===e.classes.length)),c({studentId:"",examId:"",puan:"",scores:{}})):(m([]),u([]))},[s,e,a]),(0,l.useEffect)(()=>{if(d.studentId&&d.examId&&s&&o.find(e=>e.id===d.studentId)){let e=F(s),a=n.find(e=>e.studentId===d.studentId&&e.examId===d.examId),t=e.reduce((e,s)=>(a&&a.scores&&a.scores[s.key]?e[s.key]={D:a.scores[s.key].D||"",Y:a.scores[s.key].Y||"",B:a.scores[s.key].B||""}:e[s.key]={D:"",Y:"",B:""},e),{});c(e=>({...e,puan:a.scores.puan||"",scores:t}))}},[d.studentId,d.examId,s,o,n]);let p=(0,l.useCallback)((e,s,a)=>{c(t=>({...t,scores:{...t.scores,[e]:{...t.scores[e],[s]:a}}}))},[]),b=(0,l.useCallback)(()=>{let e=d.scores,s=0,a=0,t=0,l=0;Object.values(e).forEach(e=>{let r=parseInt(e.D)||0,i=parseInt(e.Y)||0,n=parseInt(e.B)||0,d=z(r,i);s+=r,a+=i,t+=n,l+=d});let r=parseFloat(d.puan)||0;return{totalD:s,totalY:a,totalB:t,totalNet:Number(l.toFixed(2)),totalP:r}},[d.scores,d.puan]),y=async()=>{if(!d.studentId||!d.examId){Y("L\xfctfen \xf6ğrenci ve deneme se\xe7in","error");return}let e=b();try{g(!0);let s={total:e.totalNet};Object.entries(d.scores).forEach(e=>{let[a,t]=e,l=parseInt(t.D)||0,r=parseInt(t.Y)||0;s[a]=z(l,r)});let a={studentId:d.studentId,examId:d.examId,nets:s,scores:{...d.scores,puan:d.puan||"0"}},t=n.find(e=>e.studentId===d.studentId&&e.examId===d.examId);t?await (0,i.cW)(t.id,a):await (0,i.f6)(a),await L(),c({studentId:"",examId:"",puan:"",scores:{}}),Y("Bireysel sonu\xe7 başarıyla kaydedildi!","success")}catch(e){console.error("Individual result error:",e),Y("Sonu\xe7 kaydedilirken hata oluştu","error")}finally{g(!1)}},j=b();return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-600 rounded-2xl p-8 text-white",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"\uD83D\uDC68‍\uD83C\uDF93 Bireysel Veri Girişi"}),(0,t.jsx)("p",{className:"text-blue-100 text-xs",children:"\xd6ğrencilerin tek tek deneme sonu\xe7larını girin ve analiz edin"})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),y()},className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Sınıf Se\xe7in *"}),(0,t.jsxs)("select",{value:s,onChange:e=>r(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Sınıf se\xe7in"}),B.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),s&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"\xd6ğrenci Se\xe7in *"}),(0,t.jsxs)("select",{value:d.studentId,onChange:e=>c(s=>({...s,studentId:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,t.jsx)("option",{value:"",children:"\xd6ğrenci se\xe7in"}),o.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.name," (",e.number,")"]},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Deneme Se\xe7in *"}),(0,t.jsxs)("select",{value:d.examId,onChange:e=>c(s=>({...s,examId:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Deneme se\xe7in"}),x.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.title," (",new Date(e.date).toLocaleDateString("tr-TR"),")"]},e.id))]})]})]}),d.studentId&&d.examId&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-xs font-semibold text-gray-800",children:"Net Hesaplama"}),(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:F(s).map(e=>{var s,a,l,r,i;return(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-3",children:e.label}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Doğru (D)"}),(0,t.jsx)("input",{type:"number",min:"0",value:(null===(s=d.scores[e.key])||void 0===s?void 0:s.D)||"",onChange:s=>p(e.key,"D",s.target.value),className:"w-full px-3 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Yanlış (Y)"}),(0,t.jsx)("input",{type:"number",min:"0",value:(null===(a=d.scores[e.key])||void 0===a?void 0:a.Y)||"",onChange:s=>p(e.key,"Y",s.target.value),className:"w-full px-3 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Boş (B)"}),(0,t.jsx)("input",{type:"number",min:"0",value:(null===(l=d.scores[e.key])||void 0===l?void 0:l.B)||"",onChange:s=>p(e.key,"B",s.target.value),className:"w-full px-3 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500",placeholder:"0"})]}),(0,t.jsx)("div",{className:"pt-2 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"text-xs font-bold text-blue-600",children:["Net: ",z(parseInt((null===(r=d.scores[e.key])||void 0===r?void 0:r.D)||"0"),parseInt((null===(i=d.scores[e.key])||void 0===i?void 0:i.Y)||"0")).toFixed(2)]})})]})]},e.key)})}),(0,t.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[(0,t.jsx)("h4",{className:"font-semibold text-yellow-800 mb-2",children:"\uD83C\uDFAF Toplam Puan (Puan Tabanında)"}),(0,t.jsxs)("div",{className:"max-w-md",children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"\xd6ğrencinin Toplam Puanı"}),(0,t.jsx)("input",{type:"number",step:"0.01",min:"0",value:d.puan||"",onChange:e=>c(s=>({...s,puan:e.target.value})),className:"w-full px-3 py-2 text-lg border border-yellow-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500",placeholder:"\xd6ğrencinin toplam puanını girin"}),(0,t.jsx)("p",{className:"text-xs text-yellow-700 mt-1",children:"Puan alanını manuel giriniz"})]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"Toplam İstatistikler"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:j.totalD}),(0,t.jsx)("div",{className:"text-xs text-blue-700",children:"Toplam Doğru"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:j.totalY}),(0,t.jsx)("div",{className:"text-xs text-red-700",children:"Toplam Yanlış"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:j.totalB}),(0,t.jsx)("div",{className:"text-xs text-gray-700",children:"Toplam Boş"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:j.totalP}),(0,t.jsx)("div",{className:"text-xs text-yellow-700",children:"Toplam Puan"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:j.totalNet}),(0,t.jsx)("div",{className:"text-xs text-green-700",children:"Toplam Net"})]})]})]})]}),d.studentId&&d.examId&&(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("button",{type:"submit",disabled:h,className:"px-8 py-3 rounded-lg font-semibold transition-colors ".concat(h?"bg-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"),children:h?"Kaydediliyor...":"\uD83D\uDCBE Sonu\xe7ları Kaydet"})})]})})]})},W=()=>{var s,a;let[r,d]=(0,l.useState)(""),[c,o]=(0,l.useState)(""),[m,x]=(0,l.useState)({}),[u,h]=(0,l.useState)(0),[g,p]=(0,l.useState)(!1),y=e.find(e=>e.id===c),v=(0,l.useMemo)(()=>y?f(y.class):[],[y]);(0,l.useEffect)(()=>{c?(async()=>{try{let e=(0,i.JU)(i.db,"targets",c),s=await (0,i.QT)(e);if(s.exists()){let e=s.data(),a=e.targets||{},t=(0,i.M3)(a),l=e.targetScore||0,r={};v.forEach(e=>{r[e.key]=t[e.key]||0}),console.log("\uD83D\uDCCA Fresh hedefler y\xfcklendi - Panel:",r),console.log("\uD83C\uDFAF Fresh puan hedefi:",l),x(r),h(l)}else{let e={};v.forEach(s=>{e[s.key]=0}),x(e),h(0),console.log("\uD83D\uDCCB Hedef bulunamadı, varsayılan değerler y\xfcklendi")}}catch(s){console.error("Fresh target load error:",s);let e={};v.forEach(s=>{e[s.key]=0}),x(e),h(450)}})():(x({}),h(450))},[c]);let N=(e,s)=>{x(a=>({...a,[e]:s}))},D=async()=>{if(!c){Y("L\xfctfen bir \xf6ğrenci se\xe7in","error");return}try{p(!0),await (0,i.Oh)(c,m,u);let e=(0,i.FP)(m);j(s=>({...s,[c]:e})),k(e=>({...e,[c]:u})),Y("Hedefler başarıyla kaydedildi!","success")}catch(e){console.error("Target save error:",e),Y("Hedefler kaydedilirken hata oluştu","error")}finally{p(!1)}},w=(()=>{if(!c||0===n.length)return v.reduce((e,s)=>(e[s.key]=0,e),{});let e=n.filter(e=>e.studentId===c);if(0===e.length)return v.reduce((e,s)=>(e[s.key]=0,e),{});e.length;let s={};return v.forEach(a=>{let t=[];e.forEach((e,s)=>{if(e.scores&&e.scores[a.key]){let s=e.scores[a.key],l=z(parseInt(s.D)||0,parseInt(s.Y)||0);l>0&&t.push(l)}});let l=t.filter(e=>e>0),r=l.length>0?l.reduce((e,s)=>e+s,0)/l.length:0;s[a.key]=r}),s})(),C=(()=>{if(!c||0===n.length)return v.reduce((e,s)=>(e[s.key]=0,e),{});let e=n.filter(e=>e.studentId===c);if(0===e.length)return v.reduce((e,s)=>(e[s.key]=0,e),{});let s=e[e.length-1],a={};return v.forEach(e=>{if(s.scores&&s.scores[e.key]){let t=z(parseInt(s.scores[e.key].D)||0,parseInt(s.scores[e.key].Y)||0);a[e.key]=t}else a[e.key]=0}),a})(),L=Object.values(w).reduce((e,s)=>e+s,0),B=Object.values(m).reduce((e,s)=>e+s,0),F=B-L;return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl p-8 text-white",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"\uD83C\uDFAF Hedef Belirleme"}),(0,t.jsx)("p",{className:"text-purple-100 text-xs",children:"\xd6ğrenciler i\xe7in ders bazında hedef net belirleyin ve takip edin"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h3",{className:"text-xs font-semibold text-gray-800 mb-4",children:"Se\xe7im Yapın"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-xs text-gray-600 mb-2",children:"Sınıf Se\xe7in"}),(0,t.jsxs)("select",{value:r,onChange:e=>{d(e.target.value),o("")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[(0,t.jsx)("option",{value:"",children:"Sınıf se\xe7in"}),Array.from(new Set(e.map(e=>e.class))).map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),r&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-600 mb-2",children:"\xd6ğrenci Se\xe7in"}),(0,t.jsxs)("select",{value:c,onChange:e=>o(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[(0,t.jsx)("option",{value:"",children:"\xd6ğrenci se\xe7in"}),e.filter(e=>n.filter(s=>s.studentId===e.id).filter(e=>{var s,a;let t=(null===(s=e.nets)||void 0===s?void 0:s.total)||0,l=(null===(a=e.scores)||void 0===a?void 0:a.puan)?parseFloat(e.scores.puan):e.puan||e.totalScore||0;return t>0||l>0}).length>0).filter(e=>e.class===r).map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),!c&&(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 text-center",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDFAF"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Hedef Belirleme"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Bir \xf6ğrenci se\xe7erek ders hedeflerini belirleyebilir ve mevcut durumunu g\xf6r\xfcnt\xfcleyebilirsiniz."}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Yukarıdan bir sınıf ve \xf6ğrenci se\xe7in"})]}),c&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl shadow-sm p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-white mb-4",children:["\uD83C\uDFAF ",null===(s=e.find(e=>e.id===c))||void 0===s?void 0:s.name," - LGS Puan Hedefi"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Hedef Puan"}),(0,t.jsx)("input",{type:"number",min:"100",max:"500",value:u,onChange:e=>{h(Number(e.target.value)||0)},className:"w-full px-4 py-3 border border-white/20 rounded-lg bg-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-white/50",placeholder:"Hedef puanınızı girin (100-500)"})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-6",children:["\uD83D\uDCDA ",null===(a=e.find(e=>e.id===c))||void 0===a?void 0:a.name," - LGS Ders Hedefleri"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:v.map(e=>{var s,a,l;return(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg p-4 border border-blue-200 min-h-[280px] flex flex-col",children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center text-sm",children:[(0,t.jsx)("span",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold mr-2",style:{backgroundColor:"".concat(e.color,"20"),color:e.color},children:e.name.charAt(0)}),e.name]}),(0,t.jsxs)("div",{className:"space-y-3 flex-grow",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Mevcut Durum"}),(0,t.jsxs)("div",{className:"bg-gray-100 p-2 rounded-lg space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Ortalama:"}),(0,t.jsx)("span",{className:"text-xs font-bold text-gray-700",children:(null===(s=w[e.key])||void 0===s?void 0:s.toFixed(1))||"0.0"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Son Deneme:"}),(0,t.jsx)("span",{className:"text-xs font-bold text-gray-700",children:(null===(a=C[e.key])||void 0===a?void 0:a.toFixed(1))||"0.0"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Mevcut Hedef"}),(0,t.jsxs)("div",{className:"bg-purple-100 p-2 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-purple-600",children:"Belirlenen:"}),(0,t.jsx)("span",{className:"text-xs font-bold text-purple-700",children:(null===(l=m[e.key])||void 0===l?void 0:l.toFixed(1))||0})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-purple-600",children:"Fark:"}),(0,t.jsxs)("span",{className:"text-xs font-bold ".concat((m[e.key]||0)-(w[e.key]||0)>=0?"text-green-600":"text-red-600"),children:[(m[e.key]||0)-(w[e.key]||0)>=0?"+":"",((m[e.key]||0)-(w[e.key]||0)).toFixed(1)]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Yeni Hedef Net"}),(0,t.jsx)("input",{type:"number",min:"0",step:"0.5",value:m[e.key]||"",onChange:s=>N(e.key,Number(s.target.value)),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm font-semibold",placeholder:"0"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Artış:"}),(0,t.jsxs)("span",{className:"ml-1 font-bold text-xs ".concat((m[e.key]||0)-(w[e.key]||0)>=0?"text-green-600":"text-red-600"),children:[(m[e.key]||0)-(w[e.key]||0)>=0?"+":"",((m[e.key]||0)-(w[e.key]||0)).toFixed(1)," net"]})]}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(100,(m[e.key]||0)/20*100),"%")}})})})]})]},e.key)})})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl p-8",children:[(0,t.jsx)("h4",{className:"text-2xl font-bold mb-6 text-center",children:"\uD83C\uDFC6 Toplam Hedef \xd6zeti"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[(0,t.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-6",children:[(0,t.jsx)("div",{className:"text-3xl font-bold mb-2",children:L}),(0,t.jsx)("div",{className:"text-purple-100 text-lg",children:"Mevcut Toplam Net"})]}),(0,t.jsxs)("div",{className:"bg-white bg-opacity-30 rounded-lg p-6 border-2 border-white",children:[(0,t.jsx)("div",{className:"text-4xl font-bold mb-2",children:B}),(0,t.jsx)("div",{className:"text-white text-xl",children:"Hedef Toplam Net"})]}),(0,t.jsxs)("div",{className:"bg-white bg-opacity-20 rounded-lg p-6",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold mb-2 text-yellow-300",children:[F>=0?"+":"",F.toFixed(1)]}),(0,t.jsx)("div",{className:"text-purple-100 text-lg",children:"Toplam Artış"})]})]}),(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs mb-2",children:[(0,t.jsx)("span",{children:"Mevcut Durum"}),(0,t.jsx)("span",{children:"Hedef"})]}),(0,t.jsx)("div",{className:"w-full bg-white bg-opacity-20 rounded-full h-4",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-yellow-400 to-green-400 h-4 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(100,L/B*100),"%")}})})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-gray-800 mb-4",children:"\uD83D\uDCCA Sınıf Bazında Hedef Belirleme"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sınıf Se\xe7in:"}),(0,t.jsxs)("select",{value:S||"",onChange:e=>A(e.target.value||void 0),className:"w-full max-w-xs px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,t.jsx)("option",{value:"",children:"T\xfcm Sınıflar"}),Array.from(new Set(e.map(e=>e.class))).map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:S?"".concat(S," sınıfı i\xe7in hedef belirleme"):"T\xfcm sınıflar i\xe7in hedef belirleme"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h3",{className:"text-xs font-semibold text-gray-800 mb-4",children:"\uD83D\uDCDD \xd6ğrenci Hedefleri"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(S?e.filter(e=>n.filter(s=>s.studentId===e.id).filter(e=>{var s,a;let t=(null===(s=e.nets)||void 0===s?void 0:s.total)||0,l=(null===(a=e.scores)||void 0===a?void 0:a.puan)?parseFloat(e.scores.puan):e.puan||e.totalScore||0;return t>0||l>0}).length>0).filter(e=>e.class===S):e.filter(e=>n.filter(s=>s.studentId===e.id).filter(e=>{var s,a;let t=(null===(s=e.nets)||void 0===s?void 0:s.total)||0,l=(null===(a=e.scores)||void 0===a?void 0:a.puan)?parseFloat(e.scores.puan):e.puan||e.totalScore||0;return t>0||l>0}).length>0)).map(e=>{let s=b[e.id],a=s?Object.values(s).reduce((e,s)=>e+s,0):0;return(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800",children:e.name}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:e.class})]}),s?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"text-xs text-gray-600",children:["Toplam Hedef: ",(0,t.jsx)("span",{className:"font-bold text-purple-600",children:a.toFixed(1)})," net"]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"".concat(a/120*100,"%")}})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>o(e.id),className:"text-xs px-3 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors",children:"D\xfczenle"}),(0,t.jsx)("button",{onClick:()=>{let s={...b};delete s[e.id],j(s)},className:"text-xs px-3 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:"Sil"})]})]}):(0,t.jsx)("button",{onClick:()=>o(e.id),className:"text-xs px-3 py-2 bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition-colors",children:"+ Hedef Belirle"})]},e.id)})})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{onClick:D,disabled:g||!c,className:"px-8 py-4 rounded-lg font-semibold text-lg transition-colors ".concat(g||!c?"bg-gray-400 cursor-not-allowed":"bg-purple-600 text-white hover:bg-purple-700"),children:g?"Kaydediliyor...":"\uD83D\uDCBE Hedefleri Kaydet"})})]})]})},q=()=>{let[s,r]=(0,l.useState)(""),[d,c]=(0,l.useState)(""),[o,m]=(0,l.useState)({}),[x,u]=(0,l.useState)({}),[h,g]=(0,l.useState)(!1),[p,b]=(0,l.useState)([]),[y,j]=(0,l.useState)([]);(0,l.useEffect)(()=>{if(s){let t=e.filter(e=>e.class===s);b(t),j(a.filter(e=>!e.classes||e.classes.includes(s)||0===e.classes.length));let l={};t.forEach(e=>{let s=F(e.class);l[e.id]=s.reduce((e,s)=>(e[s.key]={D:"",Y:"",B:""},e),{})}),m(l),c("")}else b([]),j([]),m({}),c("")},[s,e,a]),(0,l.useEffect)(()=>{d&&s&&p.length>0&&f()},[d,s,p.length]);let f=(0,l.useCallback)(()=>{try{if(!d)return;let e=p.map(e=>e.id),s=n.filter(s=>s.examId===d&&e.includes(s.studentId));if(s.length>0){let e={},a={};p.forEach(t=>{let l=s.find(e=>e.studentId===t.id),r=F(t.class);e[t.id]=r.reduce((e,s)=>(l&&l.scores&&l.scores[s.key]?e[s.key]={D:l.scores[s.key].D||"",Y:l.scores[s.key].Y||"",B:l.scores[s.key].B||""}:e[s.key]={D:"",Y:"",B:""},e),{}),l&&l.scores&&l.scores.puan&&(a[t.id]=l.scores.puan)}),m(e),u(a)}}catch(e){console.error("Load existing exam data error:",e),setTimeout(()=>{Y("Mevcut veriler y\xfcklenirken hata oluştu","error")},100)}},[d,p,n,m,u]),v=(0,l.useCallback)((e,s,a,t)=>{m(l=>({...l,[e]:{...l[e],[s]:{...l[e][s],[a]:t}}}))},[]),N=(0,l.useCallback)(e=>{let s=0,a=0,t=0,l=0;return Object.values(e).forEach(e=>{let r=parseInt(e.D)||0,i=parseInt(e.Y)||0,n=parseInt(e.B)||0,d=z(r,i);s+=r,a+=i,t+=n,l+=d}),{totalD:s,totalY:a,totalB:t,totalNet:Number(l.toFixed(2))}},[]),D=(0,l.useCallback)(()=>{let e={totalD:0,totalY:0,totalB:0,totalNet:0},s=Object.values(o).filter(e=>N(e).totalNet>0),a=s.length;s.forEach(s=>{let a=N(s);e.totalD+=a.totalD,e.totalY+=a.totalY,e.totalB+=a.totalB,e.totalNet+=a.totalNet});let t=Object.values(x).map(e=>parseFloat(e)||0).filter(e=>e>0),l=t.reduce((e,s)=>e+s,0),r=t.length>0?l/t.length:0;return{totalD:a>0?Number((e.totalD/a).toFixed(2)):0,totalY:a>0?Number((e.totalY/a).toFixed(2)):0,totalB:a>0?Number((e.totalB/a).toFixed(2)):0,totalNet:a>0?Number((e.totalNet/a).toFixed(2)):0,averagePuan:Number(r.toFixed(2))}},[o,N,x]),k=async()=>{if(!s||!d){Y("L\xfctfen sınıf ve deneme se\xe7in","error");return}let a=Object.keys(o).length;try{g(!0);let t=n.filter(e=>e.examId===d);if(t.length>0){let a=t.filter(a=>{let t=e.find(e=>e.id===a.studentId);return t&&t.class===s});if(a.length>0){let e=a.map(e=>(0,i.MV)(e.id));await Promise.all(e)}}let l=Object.entries(o).map(async e=>{let[s,a]=e,t={total:N(a).totalNet};Object.entries(a).forEach(e=>{let[s,a]=e,l=parseInt(a.D)||0,r=parseInt(a.Y)||0;t[s]=z(l,r)});let l={studentId:s,examId:d,nets:t,scores:{...a,puan:x[s]||"0"}};return(0,i.f6)(l)});await Promise.all(l),await L(),Y("".concat(a," \xf6ğrenci i\xe7in sonu\xe7lar başarıyla kaydedildi!"),"success")}catch(e){console.error("Bulk results error:",e),Y("Sonu\xe7lar kaydedilirken hata oluştu","error")}finally{g(!1)}},w=D();return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-600 rounded-2xl p-6 text-white",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"\uD83D\uDC65 Toplu Veri Girişi"}),(0,t.jsx)("p",{className:"text-cyan-100 text-xs",children:"Birden fazla \xf6ğrencinin deneme sonu\xe7larını aynı anda girin"})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Sınıf Se\xe7in *"}),(0,t.jsxs)("select",{value:s,onChange:e=>r(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Sınıf se\xe7in"}),B.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Deneme Se\xe7in *"}),(0,t.jsxs)("select",{value:d,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",required:!0,disabled:!s,children:[(0,t.jsx)("option",{value:"",children:"Deneme se\xe7in"}),y.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.title," (",new Date(e.date).toLocaleDateString("tr-TR"),")"]},e.id))]})]})]}),s&&d&&p.length>0&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-xs font-semibold text-gray-800",children:["\xd6ğrenci Sonu\xe7 Girişi (",p.length," \xf6ğrenci)"]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border border-gray-200 rounded-lg",style:{fontSize:"11px"},children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-2 py-1 text-left text-[10px] font-medium text-gray-700 border-b",children:"\xd6ğrenci"}),F(s).map(e=>(0,t.jsxs)("th",{className:"px-1 py-1 text-center text-[10px] font-medium text-gray-700 border-b min-w-[100px]",children:[e.label,(0,t.jsxs)("div",{className:"text-[8px] text-gray-600 mt-0.5 font-semibold",children:[(0,t.jsx)("span",{className:"inline-block w-4 text-center",children:"D"}),(0,t.jsx)("span",{className:"inline-block w-4 text-center",children:"Y"}),(0,t.jsx)("span",{className:"inline-block w-4 text-center",children:"B"}),(0,t.jsx)("span",{className:"inline-block w-4 text-center",children:"N"})]})]},e.key)),(0,t.jsx)("th",{className:"px-2 py-1 text-center text-[10px] font-medium text-gray-700 border-b",children:"Puan"}),(0,t.jsx)("th",{className:"px-2 py-1 text-center text-[10px] font-medium text-gray-700 border-b",children:"D/Y/B/N"})]})}),(0,t.jsx)("tbody",{className:"bg-white",children:p.map((e,a)=>(0,t.jsxs)("tr",{className:a%2==0?"bg-white":"bg-gray-50",children:[(0,t.jsx)("td",{className:"px-2 py-1 text-[10px] font-medium text-gray-900 border-b",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:e.name}),(0,t.jsxs)("div",{className:"text-[8px] text-gray-500",children:["No: ",e.number]})]})}),F(s).map(s=>{var a,l,r,i,n,d,c,m,x,u;return(0,t.jsx)("td",{className:"px-1 py-1 border-b text-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-0.5",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("label",{className:"text-[8px] text-gray-600 font-medium mb-0.5",children:"D"}),(0,t.jsx)("input",{type:"number",min:"0",value:(null===(l=o[e.id])||void 0===l?void 0:null===(a=l[s.key])||void 0===a?void 0:a.D)||"",onChange:a=>v(e.id,s.key,"D",a.target.value),className:"w-8 h-5 px-0.5 py-0.5 text-[9px] border border-gray-300 rounded-md focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-center font-semibold",placeholder:"0"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("label",{className:"text-[8px] text-gray-600 font-medium mb-0.5",children:"Y"}),(0,t.jsx)("input",{type:"number",min:"0",value:(null===(i=o[e.id])||void 0===i?void 0:null===(r=i[s.key])||void 0===r?void 0:r.Y)||"",onChange:a=>v(e.id,s.key,"Y",a.target.value),className:"w-8 h-5 px-0.5 py-0.5 text-[9px] border border-gray-300 rounded-md focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-center font-semibold",placeholder:"0"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("label",{className:"text-[8px] text-gray-600 font-medium mb-0.5",children:"B"}),(0,t.jsx)("input",{type:"number",min:"0",value:(null===(d=o[e.id])||void 0===d?void 0:null===(n=d[s.key])||void 0===n?void 0:n.B)||"",onChange:a=>v(e.id,s.key,"B",a.target.value),className:"w-8 h-5 px-0.5 py-0.5 text-[9px] border border-gray-300 rounded-md focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-center font-semibold",placeholder:"0"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("label",{className:"text-[8px] text-gray-600 font-medium mb-0.5",children:"N"}),(0,t.jsx)("input",{type:"text",maxLength:6,value:z(parseInt((null===(m=o[e.id])||void 0===m?void 0:null===(c=m[s.key])||void 0===c?void 0:c.D)||"0"),parseInt((null===(u=o[e.id])||void 0===u?void 0:null===(x=u[s.key])||void 0===x?void 0:x.Y)||"0")).toFixed(2),readOnly:!0,className:"w-9 h-5 px-0.5 py-0.5 text-[9px] border border-gray-300 rounded-md bg-gray-50 text-gray-600 text-center font-bold",placeholder:"0"})]})]})},s.key)}),(0,t.jsx)("td",{className:"px-2 py-1 text-center border-b",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-0.5 text-[8px]",children:[(0,t.jsxs)("div",{className:"bg-blue-100 px-0.5 py-0.5 rounded text-blue-800 font-medium",children:["D: ",N(o[e.id]||{}).totalD]}),(0,t.jsxs)("div",{className:"bg-red-100 px-0.5 py-0.5 rounded text-red-800 font-medium",children:["Y: ",N(o[e.id]||{}).totalY]}),(0,t.jsxs)("div",{className:"bg-gray-100 px-0.5 py-0.5 rounded text-gray-800 font-medium",children:["B: ",N(o[e.id]||{}).totalB]}),(0,t.jsxs)("div",{className:"bg-green-100 px-0.5 py-0.5 rounded text-green-800 font-bold col-span-2",children:["N: ",N(o[e.id]||{}).totalNet.toFixed(2)]})]})}),(0,t.jsx)("td",{className:"px-2 py-1 text-center border-b",children:(0,t.jsx)("input",{type:"number",min:"0",step:"0.01",value:x[e.id]||"",onChange:s=>u(a=>({...a,[e.id]:s.target.value})),className:"w-full px-1 py-0.5 text-[9px] border border-yellow-300 rounded focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 text-center font-semibold",placeholder:"Puan"})})]},e.id))})]})}),(0,t.jsxs)("div",{className:"bg-cyan-50 p-3 rounded-lg border border-cyan-200",children:[(0,t.jsx)("h4",{className:"font-semibold text-cyan-800 mb-2 text-sm",children:"Sınıf Ortalama İstatistikleri"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xl font-bold text-blue-600",children:w.totalD}),(0,t.jsx)("div",{className:"text-[10px] text-blue-700",children:"Ortalama Doğru"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xl font-bold text-red-600",children:w.totalY}),(0,t.jsx)("div",{className:"text-[10px] text-red-700",children:"Ortalama Yanlış"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xl font-bold text-gray-600",children:w.totalB}),(0,t.jsx)("div",{className:"text-[10px] text-gray-700",children:"Ortalama Boş"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xl font-bold text-yellow-600",children:w.averagePuan.toFixed(2)}),(0,t.jsx)("div",{className:"text-[10px] text-yellow-700",children:"Ortalama Puan"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xl font-bold text-green-600",children:w.totalNet.toFixed(2)}),(0,t.jsx)("div",{className:"text-[10px] text-green-700",children:"Ortalama Net"})]})]})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("button",{onClick:k,disabled:h,className:"px-6 py-2 rounded-lg font-semibold transition-colors text-sm ".concat(h?"bg-gray-400 cursor-not-allowed":"bg-cyan-500 text-white hover:bg-cyan-600"),children:h?"Kaydediliyor...":"\uD83D\uDCBE ".concat(p.length," \xd6ğrenci Sonucunu Kaydet")})})]})]})})]})};return c?(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Y\xfckleniyor..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[u&&(0,t.jsx)("div",{className:"fixed top-6 right-6 z-50 transform transition-all duration-300 ease-in-out animate-slideIn",children:(0,t.jsxs)("div",{className:"\n            relative min-w-[320px] max-w-md p-4 rounded-xl shadow-2xl text-white overflow-hidden\n            ".concat("success"===u.type?"bg-gradient-to-r from-emerald-500 to-teal-600 border border-emerald-400":"error"===u.type?"bg-gradient-to-r from-red-500 to-pink-600 border border-red-400":"bg-gradient-to-r from-blue-500 to-indigo-600 border border-blue-400","\n          "),children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,t.jsx)("div",{className:"absolute inset-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")",backgroundRepeat:"repeat"}})}),(0,t.jsx)("div",{className:"absolute top-0 left-0 h-1 bg-white bg-opacity-30 animate-progressBar"}),(0,t.jsxs)("div",{className:"relative flex items-start gap-3",children:[(0,t.jsxs)("div",{className:"flex-shrink-0 mt-0.5",children:["success"===u.type&&(0,t.jsx)("div",{className:"w-6 h-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),"error"===u.type&&(0,t.jsx)("div",{className:"w-6 h-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),"info"===u.type&&(0,t.jsx)("div",{className:"w-6 h-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})})]}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsx)("p",{className:"text-sm font-medium leading-relaxed",children:u.message})}),(0,t.jsx)("button",{onClick:()=>h(null),className:"flex-shrink-0 w-6 h-6 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-full flex items-center justify-center transition-all duration-200 group",children:(0,t.jsx)("svg",{className:"w-3 h-3 text-white group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}),(0,t.jsxs)("div",{className:"container mx-auto px-2 sm:px-4 py-4 sm:py-8",children:[(0,t.jsxs)("div",{className:"text-center mb-4 md:mb-8",children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Başarı Takip Sistemi"}),(0,t.jsx)("p",{className:"text-sm sm:text-base text-gray-600",children:"\xd6ğrencilerinizin akademik başarılarını y\xf6netin"})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-2 mb-4 md:mb-8",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-1 md:gap-2 overflow-x-auto",children:N.map(e=>(0,t.jsxs)("button",{onClick:()=>x(e.key),className:"px-3 py-2 md:px-6 md:py-3 rounded-lg font-medium text-xs md:text-sm transition-all whitespace-nowrap flex-shrink-0 ".concat(m===e.key?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:bg-gray-100"),children:[(0,t.jsx)("span",{className:"hidden sm:inline",children:e.label}),(0,t.jsx)("span",{className:"sm:hidden",children:e.label.split(" ")[0]})]},e.key))})}),(0,t.jsx)("div",{className:"min-h-[600px]",children:(()=>{switch(m){case"home":default:return(0,t.jsx)(I,{});case"sinif":return(0,t.jsx)(V,{});case"deneme":return(0,t.jsx)(R,{});case"bireysel":return(0,t.jsx)(U,{});case"toplu":return(0,t.jsx)(q,{});case"excel-import":return(0,t.jsx)(v,{students:e,exams:a,onDataUpdate:E});case"kitap-sinavi":return(0,t.jsx)(H,{students:e,onDataUpdate:E});case"odev-takibi":return(0,t.jsx)(P,{students:e,onDataUpdate:E});case"eksik-konu":return(0,t.jsx)(K,{students:e,onDataUpdate:E});case"hedef":return(0,t.jsx)(W,{});case"lgs-hesaplama":return(0,t.jsx)(T,{});case"analytics":return(0,t.jsx)(y,{students:e,results:n,exams:a});case"van-taban-puan":return(0,t.jsx)(M,{lgsSchools:g,obpSchools:p});case"puan-bazli-tavsiye":return(0,t.jsx)(O,{students:e,results:n,exams:a,lgsSchools:g,obpSchools:p});case"okuma-sinavi":return(0,t.jsx)(G,{students:e})}})()})]})]})}let T=()=>{let[e,s]=(0,l.useState)({turkce:{dogru:0,yanlis:0},matematik:{dogru:0,yanlis:0},fen:{dogru:0,yanlis:0},sosyal:{dogru:0,yanlis:0},din:{dogru:0,yanlis:0},ingilizce:{dogru:0,yanlis:0}}),[a,r]=(0,l.useState)(null),i={turkce:3.671,matematik:4.953,fen:4.072,sosyal:1.685,din:1.941,ingilizce:1.632},n={turkce:20,matematik:20,fen:20,sosyal:10,din:10,ingilizce:10},d={turkce:"T\xfcrk\xe7e",matematik:"Matematik",fen:"Fen Bilimleri",sosyal:"Sosyal Bilgiler",din:"Din K\xfclt\xfcr\xfc ve Ahlak Bilgisi",ingilizce:"İngilizce"},c=(e,a,t)=>{let l=parseInt(t)||0;s(s=>({...s,[e]:{...s[e],[a]:Math.max(0,l)}}))};return(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-2 sm:p-4 lg:p-6",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"\uD83E\uDDEE LGS Puan Hesaplama"}),(0,t.jsx)("p",{className:"text-xs sm:text-sm text-gray-600 mb-3 sm:mb-6",children:"LGS puanınızı hesaplamak i\xe7in doğru ve yanlış sayılarınızı girin."}),(0,t.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[["turkce","sosyal","din","ingilizce","matematik","fen"].map(s=>(0,t.jsxs)("div",{className:"border rounded-lg p-3 sm:p-4 bg-gray-50",children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-800 mb-3 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("span",{className:"text-blue-600 mr-2 text-lg sm:text-xl",children:["turkce"===s&&"\uD83D\uDCDD","matematik"===s&&"\uD83D\uDD22","fen"===s&&"\uD83E\uDDEA","sosyal"===s&&"\uD83C\uDF0D","din"===s&&"\uD83D\uDD4C","ingilizce"===s&&"\uD83C\uDDFA\uD83C\uDDF8"]}),(0,t.jsx)("span",{className:"text-sm sm:text-base",children:d[s]})]}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-1 rounded",children:[n[s]," soru"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Doğru Sayısı"}),(0,t.jsx)("input",{type:"number",min:"0",value:e[s].dogru,onChange:e=>c(s,"dogru",e.target.value),className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md sm:rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Yanlış Sayısı"}),(0,t.jsx)("input",{type:"number",min:"0",value:e[s].yanlis,onChange:e=>c(s,"yanlis",e.target.value),className:"w-full px-2 sm:px-3 py-2 border border-gray-300 rounded-md sm:rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})]})]},s)),(0,t.jsxs)("div",{className:"flex gap-2 sm:gap-3",children:[(0,t.jsx)("button",{onClick:()=>{let s=193.492,a={};Object.keys(e).forEach(t=>{let{dogru:l,yanlis:r}=e[t],n=l-r/3,d=n*i[t];a[t]={dogru:l,yanlis:r,net:Math.round(100*n)/100,points:Math.round(100*d)/100},s+=d}),r({totalPoints:Math.round(100*s)/100,subjects:a})},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 sm:py-3 px-4 sm:px-6 rounded-md sm:rounded-lg font-medium transition-colors flex items-center justify-center text-sm sm:text-base",children:"\uD83E\uDDEE Puanı Hesapla"}),(0,t.jsx)("button",{onClick:()=>{s({turkce:{dogru:0,yanlis:0},matematik:{dogru:0,yanlis:0},fen:{dogru:0,yanlis:0},sosyal:{dogru:0,yanlis:0},din:{dogru:0,yanlis:0},ingilizce:{dogru:0,yanlis:0}}),r(null)},className:"px-3 sm:px-6 py-2 sm:py-3 border border-gray-300 text-gray-700 rounded-md sm:rounded-lg hover:bg-gray-50 transition-colors flex items-center text-sm sm:text-base",children:"\uD83D\uDD04 Temizle"})]})]}),a&&(0,t.jsxs)("div",{className:"mt-4 sm:mt-6 space-y-4 sm:space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg p-4 sm:p-6 lg:p-8",children:[(0,t.jsx)("h4",{className:"text-lg sm:text-xl lg:text-2xl font-bold mb-2 sm:mb-3",children:"\uD83C\uDFAF LGS Puanınız"}),(0,t.jsx)("div",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold",children:a.totalPoints}),(0,t.jsx)("p",{className:"text-blue-100 text-xs sm:text-sm mt-2 sm:mt-3",children:"Maksimum puan: 500 • Minimum puan: 0"})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-3 sm:p-4 lg:p-6",children:[(0,t.jsx)("h5",{className:"font-semibold text-gray-800 mb-3 sm:mb-4 text-sm sm:text-base",children:"\uD83D\uDCCA Ders Bazında Detaylar"}),(0,t.jsx)("div",{className:"space-y-3 sm:space-y-4",children:["turkce","sosyal","din","ingilizce","matematik","fen"].map(e=>{let s=d[e],l=a.subjects[e]||{dogru:0,yanlis:0,net:0,points:0};return(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 bg-gray-50 rounded-lg gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("span",{className:"text-blue-600 mr-2 sm:mr-3 text-lg sm:text-xl",children:["turkce"===e&&"\uD83D\uDCDD","matematik"===e&&"\uD83D\uDD22","fen"===e&&"\uD83E\uDDEA","sosyal"===e&&"\uD83C\uDF0D","din"===e&&"\uD83D\uDD4C","ingilizce"===e&&"\uD83C\uDDFA\uD83C\uDDF8"]}),(0,t.jsx)("span",{className:"font-medium text-sm sm:text-base",children:s}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(",n[e]," soru)"]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("div",{className:"text-xs sm:text-sm text-gray-600",children:["Doğru: ",l.dogru," | Yanlış: ",l.yanlis," | Boş: ",20-l.dogru-l.yanlis," | Net: ",l.net]})})]},e)})})]}),(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 sm:p-4 lg:p-6",children:(0,t.jsxs)("p",{className:"text-green-800 text-xs sm:text-sm",children:[(0,t.jsx)("strong",{children:"\uD83D\uDCA1 Bilgi:"})," Bu hesaplama MEB'in resmi LGS puan hesaplama sistemine uygun olarak yapılmıştır. Net sayıları = Doğru sayısı - (Yanlış sayısı \xf7 3) form\xfcl\xfc ile hesaplanır.",(0,t.jsx)("strong",{children:"Taban puan: 193.492"})," otomatik olarak eklenir."]})})]})]})})},M=e=>{let{lgsSchools:s,obpSchools:a}=e,[r,i]=(0,l.useState)(null);return(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 sm:p-6 lg:p-8",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,t.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"\uD83C\uDF93 Lise Taban Puanları"}),r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("button",{onClick:()=>i(null),className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors",children:[(0,t.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Geri D\xf6n"]})}),"merkezi"===r?(0,t.jsx)(Y,{}):(0,t.jsx)(I,{})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-blue-900 mb-4",children:"\uD83D\uDCDA Lise Yerleştirme Sistemi"}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 border mb-6",children:[(0,t.jsxs)("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"text-purple-600 mr-3 text-2xl",children:"\uD83C\uDF93"}),"Lise Yerleştirme T\xfcrleri"]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-6 border border-blue-200",children:[(0,t.jsxs)("h5",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[(0,t.jsx)("span",{className:"text-blue-600 mr-2 text-xl",children:"\uD83C\uDFAF"}),"Merkezi Yerleştirme"]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("p",{className:"text-gray-700",children:[(0,t.jsx)("strong",{children:"Tanım:"})," LGS sınav puanına g\xf6re T\xfcrkiye genelinde sıralama yapılarak \xf6ğrenci alan okullara yerleşme."]}),(0,t.jsxs)("p",{className:"text-gray-700",children:[(0,t.jsx)("strong",{children:"Okul T\xfcrleri:"})," Fen Liseleri, Sosyal Bilimler Liseleri, Anadolu Liseleri, proje okulları, bazı teknik programlar"]}),(0,t.jsxs)("p",{className:"text-gray-700",children:[(0,t.jsx)("strong",{children:"Belirleyici Fakt\xf6r:"})," LGS puanı ve tercih sırası; adres dikkate alınmaz."]}),(0,t.jsxs)("p",{className:"text-gray-700",children:[(0,t.jsx)("strong",{children:"Tercih:"})," \xd6ğrenciler sınavla alan okullar i\xe7in ayrı tercih listesinden se\xe7im yapar."]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-6 border border-green-200",children:[(0,t.jsxs)("h5",{className:"font-semibold text-green-800 mb-3 flex items-center",children:[(0,t.jsx)("span",{className:"text-green-600 mr-2 text-xl",children:"\uD83C\uDFE0"}),"Yerel Yerleştirme (Adrese Dayalı)"]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("p",{className:"text-gray-700",children:[(0,t.jsx)("strong",{children:"Tanım:"})," \xd6ğrencinin ikamet adresi, okul t\xfcr\xfc ve kontenjan dikkate alınarak kendi kayıt alanındaki okullara yerleşme."]}),(0,t.jsxs)("p",{className:"text-gray-700",children:[(0,t.jsx)("strong",{children:"Okul T\xfcrleri:"})," Anadolu Liseleri, Meslek Liseleri, İmam Hatip Liseleri"]}),(0,t.jsxs)("p",{className:"text-gray-700",children:[(0,t.jsx)("strong",{children:"Belirleyici Fakt\xf6r:"})," Kayıt alanı, okul t\xfcr\xfc ve kontenjan; tercih sırası \xf6nemlidir."]}),(0,t.jsxs)("p",{className:"text-gray-700",children:[(0,t.jsx)("strong",{children:"Tercih:"})," Kayıt alanı \xf6nceliklidir; farklı alanlardan (komşu/diğer) okul se\xe7imi sınırlıdır."]})]})]})]}),(0,t.jsx)("div",{className:"mt-6 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:(0,t.jsxs)("p",{className:"text-purple-800 text-sm",children:[(0,t.jsx)("strong",{children:"\uD83D\uDCA1 Bilgi:"})," LGS puanınız ile merkezi yerleştirme kapsamındaki okullara (Fen, Sosyal Bilimler), adres bilginiz ile yerel yerleştirme kapsamındaki okullara (Anadolu, Meslek, İmam Hatip) başvurabilirsiniz."]})})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("button",{onClick:()=>i("merkezi"),className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg p-8 text-left transition-all duration-200 transform hover:scale-105 shadow-lg",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)("div",{className:"bg-white bg-opacity-20 rounded-full p-3 mr-4",children:(0,t.jsx)("span",{className:"text-3xl",children:"\uD83C\uDFAF"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xl font-semibold",children:"Merkezi Yerleştirme"}),(0,t.jsx)("p",{className:"text-blue-100 text-sm",children:"Fen & Sosyal Bilimler Liseleri"})]})]}),(0,t.jsx)("p",{className:"text-blue-100 text-sm",children:"LGS puanına g\xf6re merkezi yerleştirme kapsamındaki okulların taban puanlarını g\xf6r\xfcnt\xfcleyin."})]}),(0,t.jsxs)("button",{onClick:()=>i("yerel"),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-lg p-8 text-left transition-all duration-200 transform hover:scale-105 shadow-lg",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)("div",{className:"bg-white bg-opacity-20 rounded-full p-3 mr-4",children:(0,t.jsx)("span",{className:"text-3xl",children:"\uD83C\uDFE0"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xl font-semibold",children:"Yerel Yerleştirme"}),(0,t.jsx)("p",{className:"text-green-100 text-sm",children:"İmam Hatip & Meslek Liseleri"})]})]}),(0,t.jsx)("p",{className:"text-green-100 text-sm",children:"Adres bilginize g\xf6re yerel yerleştirme kapsamındaki okulların taban puanlarını g\xf6r\xfcnt\xfcleyin."})]})]})]})]})})},Y=()=>(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"text-blue-600 mr-3",children:"\uD83C\uDFAF"}),"Van İli Merkezi Yerleştirme Taban Puanları (2025)"]}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"2025 LGS sonu\xe7larına g\xf6re Van ilindeki merkezi yerleştirme kapsamındaki okulların taban puanları:"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50",children:[(0,t.jsx)("th",{className:"text-left p-4 font-semibold text-gray-800",children:"Lise Adı"}),(0,t.jsx)("th",{className:"text-left p-4 font-semibold text-gray-800",children:"T\xfcr"}),(0,t.jsx)("th",{className:"text-center p-4 font-semibold text-gray-800",children:"Taban Puan"}),(0,t.jsx)("th",{className:"text-center p-4 font-semibold text-gray-800",children:"Y\xfczdelik Dilim"}),(0,t.jsx)("th",{className:"text-center p-4 font-semibold text-gray-800",children:"Kontenjan"}),(0,t.jsx)("th",{className:"text-left p-4 font-semibold text-gray-800",children:"İl\xe7e"})]})}),(0,t.jsx)("tbody",{children:[{name:"Van T\xfcrk Telekom Fen Lisesi",type:"Fen Lisesi",score:"460.91",percentile:"2.51",capacity:"150",district:"Edremit"},{name:"İpekyolu Borsa İstanbul Fen Lisesi",type:"Fen Lisesi",score:"441.61",percentile:"4.67",capacity:"150",district:"İpekyolu"},{name:"Tuşba TOBB Fen Lisesi",type:"Fen Lisesi",score:"422.90",percentile:"7.20",capacity:"150",district:"Tuşba"},{name:"Niyazi T\xfcrkmenoğlu Anadolu Lisesi",type:"Anadolu Lisesi",score:"416.75",percentile:"8.09",capacity:"120",district:"İpekyolu"},{name:"Erciş Fen Lisesi",type:"Fen Lisesi",score:"402.18",percentile:"10.39",capacity:"150",district:"Erciş"},{name:"Kazım Karabekir Anadolu Lisesi",type:"Anadolu Lisesi",score:"400.23",percentile:"10.71",capacity:"150",district:"İpekyolu"},{name:"T\xfcrkiye Yardımsevenler Derneği Anadolu Lisesi",type:"Anadolu Lisesi",score:"387.01",percentile:"12.92",capacity:"120",district:"Edremit"},{name:"Van Atat\xfcrk Anadolu Lisesi",type:"Anadolu Lisesi",score:"379.46",percentile:"14.26",capacity:"180",district:"İpekyolu"},{name:"Abdurrahman Gazi Borsa İstanbul Anadolu Lisesi",type:"Anadolu Lisesi",score:"367.20",percentile:"16.52",capacity:"150",district:"Tuşba"},{name:"Muradiye Alpaslan Fen Lisesi",type:"Fen Lisesi",score:"366.59",percentile:"16.63",capacity:"120",district:"Muradiye"},{name:"Erciş Sosyal Bilimler Lisesi",type:"Sosyal Bilimler Lisesi",score:"366.09",percentile:"20.09",capacity:"120",district:"Erciş"},{name:"Van Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:"360.29",percentile:"19.06",capacity:"120",district:"İpekyolu"},{name:"Van-Borsa İstanbul Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:"349.74",percentile:"23.59",capacity:"180",district:"Edremit"},{name:"Sevim K\xfcr\xfcm Anadolu Lisesi",type:"Anadolu Lisesi",score:"349.08",percentile:"18.31",capacity:"120",district:"Erciş"},{name:"İskele Kız Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:"325.31",percentile:"27.46",capacity:"120",district:"İpekyolu"},{name:"Edremit Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:"312.80",percentile:"39.48",capacity:"120",district:"Edremit"},{name:"Mehmet Erdemoğlu Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:"305.71",percentile:"30.94",capacity:"150",district:"İpekyolu"},{name:"Şehit Polis Halil Hamuryen Kız Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:"308.52",percentile:"40.76",capacity:"120",district:"Erciş"},{name:"Tevfik İleri Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:"294.42",percentile:"45.03",capacity:"120",district:"Erciş"},{name:"Erciş Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:"293.47",percentile:"50.02",capacity:"150",district:"Erciş"},{name:"Mizancı Murat Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:"293.21",percentile:"55.88",capacity:"120",district:"Edremit"},{name:"Gevaş Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:"267.96",percentile:"98.45",capacity:"120",district:"Gevaş"},{name:"H\xfcseyin \xc7elik Kız Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:"263.42",percentile:"48.81",capacity:"120",district:"Tuşba"},{name:"\xd6zalp Kız Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:"255.88",percentile:"89.83",capacity:"120",district:"\xd6zalp"},{name:"Tuşba Şehit Ferhat Arslan Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:"251.82",percentile:"97.98",capacity:"120",district:"Tuşba"},{name:"Şehit Haluk Varlı Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:"221.47",percentile:"94.06",capacity:"120",district:"G\xfcrpınar"},{name:"Muradiye Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:"208.61",percentile:"97.43",capacity:"120",district:"Muradiye"},{name:"Başkale Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:"199.41",percentile:"99.80",capacity:"120",district:"Başkale"},{name:"\xc7aldıran Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:"197.30",percentile:"82.62",capacity:"120",district:"\xc7aldıran"}].map((e,s)=>(0,t.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"p-4 font-medium text-gray-900",children:e.name}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("Fen Lisesi"===e.type?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:e.type})}),(0,t.jsx)("td",{className:"p-4 text-center font-bold text-blue-600 text-lg",children:e.score}),(0,t.jsxs)("td",{className:"p-4 text-center font-bold text-purple-600 text-lg",children:[e.percentile,"%"]}),(0,t.jsx)("td",{className:"p-4 text-center text-gray-700",children:e.capacity}),(0,t.jsx)("td",{className:"p-4 text-gray-600",children:e.district})]},s))})]})})]})}),I=()=>(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8",children:[(0,t.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"text-green-600 mr-3",children:"\uD83D\uDCD6"}),"Van İli Yerel Yerleştirme Taban Puanları (2025)"]}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"2025 OBP sonu\xe7larına g\xf6re Van ilindeki yerel yerleştirme kapsamındaki okulların taban puanları:"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50",children:[(0,t.jsx)("th",{className:"text-left p-4 font-semibold text-gray-800",children:"Okul Adı"}),(0,t.jsx)("th",{className:"text-left p-4 font-semibold text-gray-800",children:"T\xfcr"}),(0,t.jsx)("th",{className:"text-center p-4 font-semibold text-gray-800",children:"Taban Puan"}),(0,t.jsx)("th",{className:"text-center p-4 font-semibold text-gray-800",children:"Kontenjan"}),(0,t.jsx)("th",{className:"text-left p-4 font-semibold text-gray-800",children:"İl\xe7e"})]})}),(0,t.jsx)("tbody",{children:[{name:"Mesut \xd6zata Anadolu Lisesi",type:"Anadolu Lisesi",score:"91.09",capacity:"150",district:"İpekyolu"},{name:"\xd6zen Adalı Anadolu Lisesi",type:"Anadolu Lisesi",score:"89.66",capacity:"150",district:"İpekyolu"},{name:"Mehmet Akif Ersoy Anadolu Lisesi",type:"Anadolu Lisesi",score:"88.96",capacity:"150",district:"İpekyolu"},{name:"Arif Nihat Asya Anadolu Lisesi",type:"Anadolu Lisesi",score:"89.39",capacity:"150",district:"Erciş"},{name:"Faki Teyran Anadolu Lisesi",type:"Anadolu Lisesi",score:"85.96",capacity:"150",district:"Edremit"},{name:"İki Nisan Anadolu Lisesi",type:"Anadolu Lisesi",score:"84.93",capacity:"150",district:"İpekyolu"},{name:"\xc7aldıran Anadolu Lisesi",type:"Anadolu Lisesi",score:"84.30",capacity:"120",district:"\xc7aldıran"},{name:"İzzeddin Şir Anadolu Lisesi",type:"Anadolu Lisesi",score:"83.69",capacity:"120",district:"Gevaş"},{name:"Van-Borsa İstanbul Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:"84.09",capacity:"150",district:"Edremit"},{name:"Said Nursi Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:"65.83",capacity:"120",district:"İpekyolu"},{name:"Evliya \xc7elebi Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:"45.72",capacity:"150",district:"Edremit"},{name:"Kalecik Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:"43.85",capacity:"120",district:"Tuşba"},{name:"Tuşba Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:"42.18",capacity:"120",district:"Tuşba"},{name:"Başkale Anadolu Lisesi",type:"Anadolu Lisesi",score:"41.65",capacity:"120",district:"Başkale"},{name:"Muradiye Anadolu Lisesi",type:"Anadolu Lisesi",score:"39.24",capacity:"120",district:"Muradiye"},{name:"G\xfcrpınar Anadolu Lisesi",type:"Anadolu Lisesi",score:"38.97",capacity:"120",district:"G\xfcrpınar"},{name:"\xd6zalp Anadolu Lisesi",type:"Anadolu Lisesi",score:"35.82",capacity:"120",district:"\xd6zalp"},{name:"Saray Anadolu Lisesi",type:"Anadolu Lisesi",score:"34.15",capacity:"120",district:"Saray"},{name:"Bah\xe7esaray Anadolu Lisesi",type:"Anadolu Lisesi",score:"32.48",capacity:"120",district:"Bah\xe7esaray"},{name:"Gevaş Anadolu Lisesi",type:"Anadolu Lisesi",score:"30.76",capacity:"120",district:"Gevaş"},{name:"Akdamar Anadolu Lisesi",type:"Anadolu Lisesi",score:"29.31",capacity:"120",district:"Gevaş"},{name:"\xc7atak Anadolu Lisesi",type:"Anadolu Lisesi",score:"27.84",capacity:"120",district:"\xc7atak"},{name:"Gevaş Kız Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:"26.45",capacity:"120",district:"Gevaş"},{name:"Başkale Kız Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:"24.89",capacity:"120",district:"Başkale"},{name:"\xc7atak Kız Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:"23.68",capacity:"120",district:"\xc7atak"}].map((e,s)=>(0,t.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"p-4 font-medium text-gray-900",children:e.name}),(0,t.jsx)("td",{className:"p-4",children:(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(e.type.includes("İmam Hatip")?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"),children:e.type})}),(0,t.jsx)("td",{className:"p-4 text-center font-bold text-green-600 text-lg",children:e.score}),(0,t.jsx)("td",{className:"p-4 text-center text-gray-700",children:e.capacity}),(0,t.jsx)("td",{className:"p-4 text-gray-600",children:e.district})]},s))})]})}),(0,t.jsx)("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,t.jsxs)("p",{className:"text-yellow-800",children:[(0,t.jsx)("strong",{children:"Not:"})," Bu puanlar 2025 OBP sonu\xe7larına g\xf6re yerel yerleştirme taban puanlarıdır ve MEB verilerine dayanmaktadır."]})})]})}),O=e=>{let{students:s,results:a,exams:r,lgsSchools:i,obpSchools:n}=e,[d,c]=(0,l.useState)(""),[o,m]=(0,l.useState)(""),[x,u]=(0,l.useState)(0),[h,g]=(0,l.useState)(0),p=Array.from(new Set(s.map(e=>e.class))).sort(),b=e=>{if("number"==typeof e)return e>0?e:0;if("string"==typeof e&&""!==e.trim()){let s=parseFloat(e);return isNaN(s)?0:s}return 0},y=e=>{var s,a;if(!e)return 0;let t=b(e.puan);return t||(t=b(null===(s=e.scores)||void 0===s?void 0:s.puan)),t||(t=b(e.totalScore)),t||(t=b(null===(a=e.nets)||void 0===a?void 0:a.total)),t};(0,l.useEffect)(()=>{if(o&&a.length>0){let e=a.filter(e=>e.studentId===o);if(e.length>0){let s=0,a=0,t=0;e.forEach(e=>{var l;let r=e.examData||e,i=null==r?void 0:null===(l=r.studentResults)||void 0===l?void 0:l.find(e=>e.studentId===o);if(i){let e=y(i);e>0&&(s+=e,a++,t=Math.max(t,e))}else{let l=y(e);l>0&&(s+=l,a++,t=Math.max(t,l))}}),g(a>0?s/a:0),u(t)}else g(0),u(0)}else g(0),u(0)},[o,a]);let j=[{name:"Van T\xfcrk Telekom Fen Lisesi",type:"Fen Lisesi",score:460.91,district:"Edremit"},{name:"İpekyolu Borsa İstanbul Fen Lisesi",type:"Fen Lisesi",score:441.61,district:"İpekyolu"},{name:"Tuşba TOBB Fen Lisesi",type:"Fen Lisesi",score:422.9,district:"Tuşba"},{name:"Niyazi T\xfcrkmenoğlu Anadolu Lisesi",type:"Anadolu Lisesi",score:416.75,district:"İpekyolu"},{name:"Erciş Fen Lisesi",type:"Fen Lisesi",score:402.18,district:"Erciş"},{name:"Kazım Karabekir Anadolu Lisesi",type:"Anadolu Lisesi",score:400.23,district:"İpekyolu"},{name:"T\xfcrkiye Yardımsevenler Derneği Anadolu Lisesi",type:"Anadolu Lisesi",score:387.01,district:"Edremit"},{name:"Van Atat\xfcrk Anadolu Lisesi",type:"Anadolu Lisesi",score:379.46,district:"İpekyolu"},{name:"Abdurrahman Gazi Borsa İstanbul Anadolu Lisesi",type:"Anadolu Lisesi",score:367.2,district:"Tuşba"},{name:"Muradiye Alpaslan Fen Lisesi",type:"Fen Lisesi",score:366.59,district:"Muradiye"},{name:"Erciş Sosyal Bilimler Lisesi",type:"Sosyal Bilimler Lisesi",score:366.09,district:"Erciş"},{name:"Van Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:360.29,district:"İpekyolu"},{name:"Van-Borsa İstanbul Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:349.74,district:"Edremit"},{name:"Sevim K\xfcr\xfcm Anadolu Lisesi",type:"Anadolu Lisesi",score:349.08,district:"Erciş"},{name:"İskele Kız Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:325.31,district:"İpekyolu"},{name:"Edremit Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:312.8,district:"Edremit"},{name:"Mehmet Erdemoğlu Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:305.71,district:"İpekyolu"},{name:"Şehit Polis Halil Hamuryen Kız Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:308.52,district:"Erciş"},{name:"Tevfik İleri Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:294.42,district:"Erciş"},{name:"Erciş Mesleki ve Teknik Anadolu Lisesi",type:"Mesleki ve Teknik Anadolu Lisesi",score:293.47,district:"Erciş"},{name:"Mizancı Murat Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:293.21,district:"Edremit"},{name:"Gevaş Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:267.96,district:"Gevaş"},{name:"H\xfcseyin \xc7elik Kız Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:263.42,district:"Tuşba"},{name:"\xd6zalp Kız Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:255.88,district:"\xd6zalp"},{name:"Tuşba Şehit Ferhat Arslan Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:251.82,district:"Tuşba"},{name:"Şehit Haluk Varlı Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:221.47,district:"G\xfcrpınar"},{name:"Muradiye Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:208.61,district:"Muradiye"},{name:"Başkale Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:199.41,district:"Başkale"},{name:"\xc7aldıran Anadolu İmam Hatip Lisesi",type:"Anadolu İmam Hatip Lisesi",score:197.3,district:"\xc7aldıran"}],f=e=>{let s={min:e-20,max:e+20},a={min:e+21,max:e+40},t={min:e+41,max:e+60},l=j.filter(e=>e.score>=s.min&&e.score<=s.max),r=j.filter(e=>e.score>=a.min&&e.score<=a.max),i=j.filter(e=>e.score>=t.min&&e.score<=t.max);return{highRange:s,mediumRange:a,lowRange:t,highProbabilitySchools:l,mediumProbabilitySchools:r,lowProbabilitySchools:i}},v=h>0?f(h):null,N=x>0?f(x):null,D=e=>{let{data:s,title:a,puanLabel:l}=e;if(!s)return null;let{highRange:r,mediumRange:i,lowRange:n,highProbabilitySchools:d,mediumProbabilitySchools:c,lowProbabilitySchools:o}=s;return(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:a}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 mb-6",children:(0,t.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg text-center",children:[(0,t.jsx)("div",{className:"text-sm text-blue-700 mb-1",children:l}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(h||x)," puan"]})]})}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"border-2 border-green-200 bg-green-50 rounded-lg p-4",children:[(0,t.jsx)("h5",{className:"text-sm font-semibold text-green-800 mb-2 flex items-center",children:"✅ Y\xfcksek İhtimal"}),(0,t.jsxs)("div",{className:"text-xs text-green-700 mb-3",children:[Math.round(r.min),"-",Math.round(r.max)," puan aralığı"]}),(0,t.jsx)("div",{className:"space-y-2",children:d.length>0?d.slice(0,4).map(e=>(0,t.jsxs)("div",{className:"bg-white p-2 rounded border",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-600",children:[e.type," • ",e.score.toFixed(2)," taban • ",e.district]})]},e.name)):(0,t.jsx)("div",{className:"text-xs text-green-600",children:"Bu aralıkta okul bulunmuyor"})})]}),(0,t.jsxs)("div",{className:"border-2 border-yellow-200 bg-yellow-50 rounded-lg p-4",children:[(0,t.jsx)("h5",{className:"text-sm font-semibold text-yellow-800 mb-2 flex items-center",children:"⚠️ Orta İhtimal"}),(0,t.jsxs)("div",{className:"text-xs text-yellow-700 mb-3",children:[Math.round(i.min),"-",Math.round(i.max)," puan aralığı"]}),(0,t.jsx)("div",{className:"space-y-2",children:c.length>0?c.slice(0,4).map(e=>(0,t.jsxs)("div",{className:"bg-white p-2 rounded border",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-600",children:[e.type," • ",e.score.toFixed(2)," taban • ",e.district]})]},e.name)):(0,t.jsx)("div",{className:"text-xs text-yellow-600",children:"Bu aralıkta okul bulunmuyor"})})]}),(0,t.jsxs)("div",{className:"border-2 border-red-200 bg-red-50 rounded-lg p-4",children:[(0,t.jsx)("h5",{className:"text-sm font-semibold text-red-800 mb-2 flex items-center",children:"\uD83D\uDD25 D\xfcş\xfck İhtimal"}),(0,t.jsxs)("div",{className:"text-xs text-red-700 mb-3",children:[Math.round(n.min),"-",Math.round(n.max)," puan aralığı"]}),(0,t.jsx)("div",{className:"space-y-2",children:o.length>0?o.slice(0,4).map(e=>(0,t.jsxs)("div",{className:"bg-white p-2 rounded border",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsxs)("div",{className:"text-xs text-gray-600",children:[e.type," • ",e.score.toFixed(2)," taban • ",e.district]})]},e.name)):(0,t.jsx)("div",{className:"text-xs text-red-600",children:"Bu aralıkta okul bulunmuyor"})})]})]})})]})};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 rounded-2xl p-8 text-white",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"\uD83C\uDFAF Puan Bazlı Lise Tavsiyesi"}),(0,t.jsx)("p",{className:"text-purple-100 text-lg",children:"\xd6ğrencinin puanına g\xf6re uygun lise \xf6nerileri"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"\uD83D\uDC68‍\uD83C\uDF93 \xd6ğrenci Se\xe7imi"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFEB Sınıf Se\xe7in"}),(0,t.jsxs)("select",{value:d,onChange:e=>{c(e.target.value),m("")},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[(0,t.jsx)("option",{value:"",children:"Sınıf se\xe7in..."}),p.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDC64 \xd6ğrenci Se\xe7in"}),(0,t.jsxs)("select",{value:o,onChange:e=>m(e.target.value),disabled:!d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 disabled:bg-gray-100",children:[(0,t.jsx)("option",{value:"",children:"\xd6ğrenci se\xe7in..."}),d&&s.filter(e=>e.class===d).map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})]}),o&&(h>0||x>0)&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg text-center",children:[(0,t.jsx)("div",{className:"text-sm text-blue-700 mb-1",children:"\uD83D\uDCC8 Ortalama Puan"}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(h)," puan"]}),(0,t.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"(Denemelerin ortalaması)"})]}),(0,t.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-center",children:[(0,t.jsx)("div",{className:"text-sm text-green-700 mb-1",children:"\uD83C\uDFC6 En Y\xfcksek Puan"}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[Math.round(x)," puan"]}),(0,t.jsx)("div",{className:"text-xs text-green-600 mt-1",children:"(En başarılı deneme)"})]})]}),o&&h>0&&(0,t.jsx)(D,{data:v,title:"\uD83D\uDCCA Ortalama Puana G\xf6re Lise \xd6nerileri",puanLabel:"\uD83D\uDCC8 \xd6ğrencinin Ortalama Deneme Puanı"}),o&&x>0&&(0,t.jsx)(D,{data:N,title:"\uD83C\uDFC6 En Y\xfcksek Puana G\xf6re Lise \xd6nerileri",puanLabel:"\uD83D\uDCCA \xd6ğrencinin En Y\xfcksek Deneme Puanı"}),o&&(h>0||x>0)&&(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"\uD83D\uDCA1 Tavsiyeler"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"\uD83D\uDCDA \xc7alışma Tavsiyesi"}),(0,t.jsx)("p",{className:"text-blue-700",children:(h||x)>=400?"M\xfckemmel! Bu performansı s\xfcrd\xfcrmek i\xe7in d\xfczenli tekrar yapın.":(h||x)>=350?"İyi gidiyorsunuz! Zayıf derslerinize daha \xe7ok odaklanın.":(h||x)>=300?"Hedeflerinize ulaşmak i\xe7in g\xfcnde en az 3 saat \xe7alışın.":"Temel konuları tekrar ederek başlayın. G\xfcnde en az 4 saat \xe7alışmalısınız."})]}),(0,t.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-purple-800 mb-2",children:"\uD83C\uDFAF Strateji"}),(0,t.jsx)("p",{className:"text-purple-700",children:(h||x)>=400?"En iyi liseleri hedefleyin. Matematik ve fen odaklı \xe7alışın.":(h||x)>=350?"Orta d\xfczey liselere odaklanın. T\xfcrk\xe7e ve sosyal geliştirin.":(h||x)>=300?"Temel liseleri hedefleyin. T\xfcm derslerde denge kurun.":"Temel konularda eksiklerinizi kapatın. Sınav stratejisi geliştirin."})]})]})]})]})},H=e=>{let{students:s,onDataUpdate:r}=e,[i,n]=(0,l.useState)([]),[d,c]=(0,l.useState)(!1),[o,m]=(0,l.useState)(!1),[x,u]=(0,l.useState)(!1),[h,g]=(0,l.useState)(null),[p,b]=(0,l.useState)(null),[y,j]=(0,l.useState)([]),[f,v]=(0,l.useState)({kitapAdi:"",sinif:"",tarih:new Date().toISOString().split("T")[0],puanlar:{}}),N=Array.from(new Set(s.map(e=>e.class))).sort();(0,l.useEffect)(()=>{D()},[]);let D=async()=>{c(!0);try{let{getKitapSinavlari:e}=await Promise.resolve().then(a.bind(a,34621)),s=await e();n(s)}catch(e){console.error("Kitap sınavları y\xfcklenirken hata:",e)}finally{c(!1)}},k=async()=>{if(!f.kitapAdi||!f.sinif){alert("L\xfctfen kitap adı ve sınıf se\xe7iniz!");return}try{let{addKitapSinavi:e}=await Promise.resolve().then(a.bind(a,34621)),s=Object.entries(f.puanlar).reduce((e,s)=>{let[a,t]=s;return e[a]={puan:t,tarih:f.tarih},e},{});await e({kitapAdi:f.kitapAdi,sinif:f.sinif,tarih:f.tarih,puanlar:s}),v({kitapAdi:"",sinif:"",tarih:new Date().toISOString().split("T")[0],puanlar:{}}),m(!1),D(),alert("\uD83D\uDCDA Kitap sınavı başarıyla eklendi!")}catch(e){console.error("Kitap sınavı eklenirken hata:",e),alert("Kitap sınavı eklenirken hata oluştu!")}},w=(e,s)=>{let a=parseFloat(s)||0;v(s=>({...s,puanlar:{...s.puanlar,[e]:a}}))},C=s.filter(e=>e.class===f.sinif),S=e=>{g(e),v({kitapAdi:e.kitapAdi,sinif:e.sinif,tarih:e.tarih,puanlar:Object.fromEntries(Object.entries(e.puanlar||{}).map(e=>{let[s,a]=e;return[s,a.puan]}))}),u(!0),m(!1)},A=async()=>{if(!h||!f.kitapAdi||!f.sinif){alert("L\xfctfen kitap adı ve sınıf se\xe7iniz!");return}try{let{updateKitapSinavi:e}=await Promise.resolve().then(a.bind(a,34621)),s=Object.entries(f.puanlar).reduce((e,s)=>{let[a,t]=s;return e[a]={puan:t,tarih:f.tarih},e},{});await e(h.id,s),g(null),v({kitapAdi:"",sinif:"",tarih:new Date().toISOString().split("T")[0],puanlar:{}}),u(!1),D(),alert("\uD83D\uDCDA Kitap sınavı başarıyla g\xfcncellendi!")}catch(e){console.error("Kitap sınavı g\xfcncellenirken hata:",e),alert("Kitap sınavı g\xfcncellenirken hata oluştu!")}},L=async e=>{if(confirm("Bu kitap sınavını silmek istediğinizden emin misiniz? Bu işlem geri alınamaz!"))try{let{deleteKitapSinavi:s}=await Promise.resolve().then(a.bind(a,34621));await s(e),D(),(null==p?void 0:p.id)===e&&(b(null),j([])),alert("\uD83D\uDCDA Kitap sınavı başarıyla silindi!")}catch(e){console.error("Kitap sınavı silinirken hata:",e),alert("Kitap sınavı silinirken hata oluştu!")}},B=async e=>{b(e);let a=Object.entries(e.puanlar||{}).map(e=>{let[a,t]=e,l=s.find(e=>e.id===a);return{studentId:a,studentName:(null==l?void 0:l.name)||"Bilinmeyen \xd6ğrenci",studentNumber:(null==l?void 0:l.number)||"-",studentClass:(null==l?void 0:l.class)||"-",puan:t.puan,tarih:t.tarih}});a.sort((e,s)=>("number"==typeof e.studentNumber?e.studentNumber:parseInt(e.studentNumber)||0)-("number"==typeof s.studentNumber?s.studentNumber:parseInt(s.studentNumber)||0)),j(a)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\uD83D\uDCDA Kitap Sınavı Y\xf6netimi"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Kitap sınavları oluşturun ve puanları y\xf6netin"})]}),(0,t.jsx)("button",{onClick:()=>{m(!o),u(!1),g(null)},className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 font-medium",children:o||x?"İptal":"➕ Yeni Sınav Ekle"})]}),i.length>0&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"\uD83D\uDCCA Sınav Sonu\xe7larını G\xf6r\xfcnt\xfcle"}),p&&(0,t.jsx)("button",{onClick:()=>{b(null),j([])},className:"text-gray-500 hover:text-gray-700 text-sm",children:"← Sınav Se\xe7imine D\xf6n"})]}),p?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCD6"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-lg font-bold text-blue-800",children:p.kitapAdi}),(0,t.jsxs)("p",{className:"text-sm text-blue-600",children:[p.sinif," Sınıfı • ",new Date(p.tarih).toLocaleDateString("tr-TR")]})]})]}),y.length>0&&(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4 mt-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg p-3 text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-gray-800",children:y.length}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Toplam \xd6ğrenci"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-3 text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(y.reduce((e,s)=>e+s.puan,0)/y.length).toFixed(1)}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Sınıf Ortalaması"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-3 text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:Math.max(...y.map(e=>e.puan))}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"En Y\xfcksek"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-3 text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:Math.min(...y.map(e=>e.puan))}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"En D\xfcş\xfck"})]})]})]}),y.length>0?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"#"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\xd6ğrenci Adı"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sınıf"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Puan"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Başarı Durumu"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map((e,s)=>{let a=e.puan>=85?"M\xfckemmel":e.puan>=70?"İyi":e.puan>=50?"Orta":"Gelişmeli",l=e.puan>=85?"text-green-600 bg-green-100":e.puan>=70?"text-blue-600 bg-blue-100":e.puan>=50?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100";return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:s+1}),(0,t.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.studentName}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["No: ",e.studentNumber]})]}),(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.studentClass}),(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:(0,t.jsx)("div",{className:"text-lg font-bold text-gray-900",children:e.puan})}),(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(l),children:a})})]},e.studentId)})})]})}):(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Bu sınav i\xe7in sonu\xe7 bulunmuyor."})]}):(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"G\xf6r\xfcnt\xfclemek istediğiniz sınavı se\xe7in"}),(0,t.jsxs)("select",{onChange:e=>{let s=e.target.value;if(s){let e=i.find(e=>e.id===s);e&&B(e)}},className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[(0,t.jsx)("option",{value:"",children:"\uD83D\uDCDA Sınav se\xe7iniz..."}),i.map(e=>(0,t.jsxs)("option",{value:e.id,children:["\uD83D\uDCD6 ",e.kitapAdi," - ",e.sinif," (",new Date(e.tarih).toLocaleDateString("tr-TR"),")"]},e.id))]})]})]}),o&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\uD83D\uDCDD Yeni Kitap Sınavı Oluştur"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCD6 Kitap Adı"}),(0,t.jsx)("input",{type:"text",value:f.kitapAdi,onChange:e=>v(s=>({...s,kitapAdi:e.target.value})),placeholder:"Kitap adını giriniz...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFDB️ Sınıf Se\xe7in"}),(0,t.jsxs)("select",{value:f.sinif,onChange:e=>v(s=>({...s,sinif:e.target.value,puanlar:{}})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:"Sınıf se\xe7iniz..."}),N.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCC5 Sınav Tarihi"}),(0,t.jsx)("input",{type:"date",value:f.tarih,onChange:e=>v(s=>({...s,tarih:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),C.length>0&&(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"font-medium mb-3",children:["\uD83D\uDC65 ",f.sinif," Sınıfı \xd6ğrencileri (",C.length," \xf6ğrenci)"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 max-h-96 overflow-y-auto",children:C.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 border rounded",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["No: ",e.number]})]}),(0,t.jsx)("input",{type:"number",min:"0",max:"100",step:"0.5",placeholder:"Puan",value:f.puanlar[e.id]||"",onChange:s=>w(e.id,s.target.value),className:"w-20 border border-gray-300 rounded px-2 py-1 text-sm focus:ring-1 focus:ring-blue-500"})]},e.id))})]}),(0,t.jsx)("div",{className:"flex justify-end mt-6",children:(0,t.jsx)("button",{onClick:h?A:k,className:"bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-600 font-medium",children:h?"\uD83D\uDCBE Sınavı G\xfcncelle":"\uD83D\uDCBE Sınavı Kaydet"})})]}),x&&h&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"✏️ Kitap Sınavını D\xfczenle"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCD6 Kitap Adı"}),(0,t.jsx)("input",{type:"text",value:f.kitapAdi,onChange:e=>v(s=>({...s,kitapAdi:e.target.value})),placeholder:"Kitap adını giriniz...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFDB️ Sınıf Se\xe7in"}),(0,t.jsxs)("select",{value:f.sinif,onChange:e=>v(s=>({...s,sinif:e.target.value,puanlar:{}})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"",children:"Sınıf se\xe7iniz..."}),N.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCC5 Sınav Tarihi"}),(0,t.jsx)("input",{type:"date",value:f.tarih,onChange:e=>v(s=>({...s,tarih:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),C.length>0&&(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsxs)("h4",{className:"font-medium mb-3",children:["\uD83D\uDC65 ",f.sinif," Sınıfı \xd6ğrencileri (",C.length," \xf6ğrenci)"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 max-h-96 overflow-y-auto",children:C.map(e=>(0,t.jsxs)("div",{className:"flex items-center space-x-3 p-2 border rounded",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["No: ",e.number]})]}),(0,t.jsx)("input",{type:"number",min:"0",max:"100",step:"0.5",placeholder:"Puan",value:f.puanlar[e.id]||"",onChange:s=>w(e.id,s.target.value),className:"w-20 border border-gray-300 rounded px-2 py-1 text-sm focus:ring-1 focus:ring-blue-500"})]},e.id))})]}),(0,t.jsx)("div",{className:"flex justify-end mt-6",children:(0,t.jsx)("button",{onClick:A,className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 font-medium",children:"\uD83D\uDCBE Sınavı G\xfcncelle"})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"p-6 border-b",children:(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"\uD83D\uDCCA Mevcut Kitap Sınavları"})}),d?(0,t.jsxs)("div",{className:"p-8 text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),(0,t.jsx)("p",{className:"text-gray-500 mt-2",children:"Y\xfckleniyor..."})]}):0===i.length?(0,t.jsx)("div",{className:"p-8 text-center text-gray-500",children:"\uD83D\uDCDA Hen\xfcz kitap sınavı bulunmamaktadır."}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uD83D\uDCD6 Kitap Adı"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uD83C\uDFDB️ Sınıf"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uD83D\uDCC5 Tarih"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uD83D\uDC65 \xd6ğrenci Sayısı"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uD83D\uDCCA Ortalama"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"⚙️ İşlemler"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(e=>{let s=Object.keys(e.puanlar||{}).length,a=Object.values(e.puanlar||{}).map(e=>e.puan),l=a.length>0?(a.reduce((e,s)=>e+s,0)/a.length).toFixed(1):"0";return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.kitapAdi})}),(0,t.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm text-gray-900",children:e.sinif})}),(0,t.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm text-gray-900",children:new Date(e.tarih).toLocaleDateString("tr-TR")})}),(0,t.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm text-gray-900",children:s})}),(0,t.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm font-medium text-blue-600",children:l})}),(0,t.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:()=>S(e),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",title:"D\xfczenle",children:"✏️"}),(0,t.jsx)("button",{onClick:()=>L(e.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",title:"Sil",children:"\uD83D\uDDD1️"})]})})]},e.id)})})]})})]})]})},P=e=>{var s,r,i;let{students:n,onDataUpdate:d}=e,[c,o]=(0,l.useState)(""),[m,x]=(0,l.useState)(""),[u,h]=(0,l.useState)({}),[g,p]=(0,l.useState)(new Date().toISOString().split("T")[0]),[b,y]=(0,l.useState)([]),[j,f]=(0,l.useState)(!1),[v,N]=(0,l.useState)(null),[D,k]=(0,l.useState)({}),[w,C]=(0,l.useState)("yeni"),[S,A]=(0,l.useState)(""),[L,B]=(0,l.useState)(""),[F,z]=(0,l.useState)(""),[E,T]=(0,l.useState)(""),[M,Y]=(0,l.useState)(""),I=[{key:"turkce",label:"\uD83D\uDCD6 T\xfcrk\xe7e",color:"#10B981"},{key:"matematik",label:"\uD83D\uDD22 Matematik",color:"#F59E0B"},{key:"fen",label:"\uD83D\uDD2C Fen Bilimleri",color:"#3B82F6"},{key:"sosyal",label:"\uD83C\uDF0D Sosyal Bilgiler",color:"#8B5CF6"},{key:"din",label:"\uD83D\uDD4C Din K\xfclt\xfcr\xfc",color:"#F97316"},{key:"ingilizce",label:"\uD83C\uDDFA\uD83C\uDDF8 İngilizce",color:"#EF4444"}],O=Array.from(new Set(n.map(e=>e.class))).sort(),H=n.filter(e=>e.class===c);(0,l.useEffect)(()=>{P()},[]),(0,l.useEffect)(()=>{m&&c&&g?K(n.filter(e=>e.class===c)):(h({}),k({}))},[m,c,g,n]);let P=async()=>{f(!0);try{let{getOdevDurumlariTumKayitlar:e}=await Promise.resolve().then(a.bind(a,34621)),s=await e();y(s)}catch(e){console.error("Ge\xe7miş kayıtlar y\xfcklenirken hata:",e)}finally{f(!1)}},K=async e=>{try{let{getOdevDurumlari:s}=await Promise.resolve().then(a.bind(a,34621)),t=await s(m,c,g);if(Object.keys(t).length>0)h(t),k({});else{let s={},a={};e.forEach(e=>{s[e.id]="yapildi",a[e.id]=!0}),h(s),k(a)}}catch(t){console.error("\xd6dev durumları y\xfcklenirken hata:",t);let s={},a={};e.forEach(e=>{s[e.id]="yapildi",a[e.id]=!0}),h(s),k(a)}},G=(e,s)=>{h(a=>a[e]===s?a:{...a,[e]:s}),k(s=>({...s,[e]:!0}))},V=async()=>{f(!0);try{let{updateOdevDurumu:e,getOdevDurumlari:s}=await Promise.resolve().then(a.bind(a,34621)),t=await s(m,c,g),l=Object.keys(t).length>0;if(0===Object.keys(D).length&&l||0===Object.keys(D).length&&l){alert("ℹ️ Bu \xf6dev kontrol\xfc zaten kaydedilmiş. Herhangi bir değişiklik bulunmuyor."),f(!1);return}for(let s of H){let a=u[s.id]||"yapildi";await e(m,c,g,s.id,a)}let r={ders:m,sinif:c,tarih:g,ogrenciler:Object.entries(u).map(e=>{let[s,a]=e;return{ogrenciId:s,durum:a}}),toplamOgrenci:H.length,yapildi:H.filter(e=>"yapildi"===u[e.id]).length,eksikYapildi:H.filter(e=>"eksikYapildi"===u[e.id]).length,yapilmadi:H.filter(e=>"yapilmadi"===u[e.id]).length,updatedAt:new Date().toISOString()};y(e=>{let s=e.findIndex(e=>e.ders===m&&e.sinif===c&&e.tarih===g);if(!(s>=0))return[r,...e];{let a=[...e];return a[s]=r,a}}),k({}),d&&d();let i=H.filter(e=>"yapildi"===u[e.id]).length,n=H.filter(e=>"eksikYapildi"===u[e.id]).length,o=H.filter(e=>"yapilmadi"===u[e.id]).length;alert("✅ \xd6dev kontrol\xfc başarıyla kaydedildi!\n\n\uD83D\uDCCA İstatistikler:\n• ✅ Yapıldı: ".concat(i," \xf6ğrenci\n• ⚠️ Eksik Yapıldı: ").concat(n," \xf6ğrenci\n• ❌ Yapılmadı: ").concat(o," \xf6ğrenci\n• \uD83D\uDCDD Toplam: ").concat(H.length," \xf6ğrenci\n\n\uD83D\uDCC5 ").concat(m," - ").concat(c," - ").concat(g)),P()}catch(e){console.error("\xd6dev durumları kaydedilirken hata:",e),alert("❌ Kaydetme sırasında hata oluştu!")}finally{f(!1)}},R=e=>{N(e),o(e.sinif),x(e.ders),p(e.tarih);let s={};e.ogrenciler.forEach(e=>{s[e.ogrenciId]=e.durum}),h(s),k({})},U=async e=>{let s="".concat(e.ders," - ").concat(e.sinif," - ").concat(new Date(e.tarih).toLocaleDateString("tr-TR"));if(confirm("⚠️ Bu kaydı silmek istediğinize emin misiniz?\n\n\uD83D\uDCDD Kayıt: ".concat(s,"\n\nBu işlem geri alınamaz!"))){f(!0);try{let{deleteOdev:t}=await Promise.resolve().then(a.bind(a,34621));await t(e.id),y(s=>s.filter(s=>s.id!==e.id)),d&&d(),alert("✅ Kayıt başarıyla silindi!\n\n\uD83D\uDCDD ".concat(s)),P()}catch(e){console.error("Kayıt silme hatası:",e),alert("❌ Kayıt silme sırasında hata oluştu!")}finally{f(!1)}}},W={toplamOgrenci:H.length,yapildi:H.filter(e=>"yapildi"===u[e.id]).length,eksikYapildi:H.filter(e=>"eksikYapildi"===u[e.id]).length,yapilmadi:H.filter(e=>"yapilmadi"===u[e.id]).length};return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6 rounded-lg shadow-lg",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"\uD83D\uDCDD \xd6dev Takibi"}),(0,t.jsx)("p",{className:"text-blue-100",children:"G\xfcnl\xfck \xf6dev durumlarını takip edin ve y\xf6netin"})]}),(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,t.jsxs)("div",{className:"flex space-x-4 border-b",children:[(0,t.jsx)("button",{onClick:()=>C("yeni"),className:"px-6 py-3 font-medium rounded-t-lg transition-colors ".concat("yeni"===w?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"),children:"✏️ Yeni \xd6dev Kontrol\xfc"}),(0,t.jsx)("button",{onClick:()=>C("rapor"),className:"px-6 py-3 font-medium rounded-t-lg transition-colors ".concat("rapor"===w?"bg-blue-600 text-white border-b-2 border-blue-600":"text-gray-600 hover:text-blue-600 hover:bg-blue-50"),children:"\uD83D\uDCCA \xd6dev Raporu"})]})}),"yeni"===w&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFEB Sınıf Se\xe7in:"}),(0,t.jsxs)("select",{value:c,onChange:e=>{o(e.target.value),x(""),h({})},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Sınıf se\xe7iniz..."}),O.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCDA Ders Se\xe7in:"}),(0,t.jsxs)("select",{value:m,onChange:e=>x(e.target.value),disabled:!c,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100",children:[(0,t.jsx)("option",{value:"",children:"Ders se\xe7iniz..."}),I.map(e=>(0,t.jsx)("option",{value:e.key,children:e.label},e.key))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCC5 Tarih Se\xe7in:"}),(0,t.jsx)("input",{type:"date",value:g,onChange:e=>p(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})}),m&&c&&(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold",children:["\uD83D\uDCCB \xd6ğrenci Listesi - ",null===(s=I.find(e=>e.key===m))||void 0===s?void 0:s.label," (",c,")"]}),(0,t.jsx)("div",{className:"flex items-center space-x-4",children:(0,t.jsxs)("button",{onClick:V,disabled:0===Object.keys(D).length||j,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center",children:[j?"⏳":"\uD83D\uDCBE"," ",Object.keys(D).length>0?"Kaydet (".concat(Object.keys(D).length,")"):"Kaydet"]})})]}),Object.keys(u).length>0&&(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-green-100 p-4 rounded-lg text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:W.toplamOgrenci}),(0,t.jsx)("div",{className:"text-sm text-green-700",children:"Toplam \xd6ğrenci"})]}),(0,t.jsxs)("div",{className:"bg-blue-100 p-4 rounded-lg text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:W.yapildi}),(0,t.jsx)("div",{className:"text-sm text-blue-700",children:"✅ Yapıldı"})]}),(0,t.jsxs)("div",{className:"bg-yellow-100 p-4 rounded-lg text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:W.eksikYapildi}),(0,t.jsx)("div",{className:"text-sm text-yellow-700",children:"⚠️ Eksik Yapıldı"})]}),(0,t.jsxs)("div",{className:"bg-red-100 p-4 rounded-lg text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:W.yapilmadi}),(0,t.jsx)("div",{className:"text-sm text-red-700",children:"❌ Yapılmadı"})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full table-auto",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50",children:[(0,t.jsx)("th",{className:"p-3 text-left",children:"\xd6ğrenci"}),(0,t.jsx)("th",{className:"p-3 text-center",children:"Durum"})]})}),(0,t.jsx)("tbody",{children:H.map(e=>(0,t.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"p-3 font-medium",children:e.name}),(0,t.jsx)("td",{className:"p-3",children:(0,t.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"odev-".concat(e.id),value:"yapildi",checked:"yapildi"===u[e.id],onChange:s=>G(e.id,s.target.value),className:"sr-only"}),(0,t.jsx)("div",{className:"px-3 py-2 rounded-lg border-2 transition-all ".concat("yapildi"===u[e.id]?"bg-green-100 border-green-500 text-green-700":"bg-gray-50 border-gray-300 text-gray-500 hover:border-green-300"),children:"✅ Yapıldı"})]}),(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"odev-".concat(e.id),value:"eksikYapildi",checked:"eksikYapildi"===u[e.id],onChange:s=>G(e.id,s.target.value),className:"sr-only"}),(0,t.jsx)("div",{className:"px-3 py-2 rounded-lg border-2 transition-all ".concat("eksikYapildi"===u[e.id]?"bg-yellow-100 border-yellow-500 text-yellow-700":"bg-gray-50 border-gray-300 text-gray-500 hover:border-yellow-300"),children:"⚠️ Eksik Yapıldı"})]}),(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"odev-".concat(e.id),value:"yapilmadi",checked:"yapilmadi"===u[e.id],onChange:s=>G(e.id,s.target.value),className:"sr-only"}),(0,t.jsx)("div",{className:"px-3 py-2 rounded-lg border-2 transition-all ".concat("yapilmadi"===u[e.id]?"bg-red-100 border-red-500 text-red-700":"bg-gray-50 border-gray-300 text-gray-500 hover:border-red-300"),children:"❌ Yapılmadı"})]})]})})]},e.id))})]})}),0===Object.keys(u).length&&(0,t.jsx)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center text-blue-700",children:[(0,t.jsx)("span",{className:"text-xl mr-2",children:"ℹ️"}),(0,t.jsx)("p",{className:"text-sm",children:"Bu tarihte hen\xfcz \xf6dev kontrol\xfc yapılmamış. Yukarıdaki \xf6ğrencilerin durumlarını işaretleyip kaydedebilirsiniz."})]})})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\uD83D\uDCCA Ge\xe7miş Kontroller"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFEB Sınıf Filtresi:"}),(0,t.jsxs)("select",{value:E,onChange:e=>T(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"T\xfcm Sınıflar"}),O.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCDA Ders Filtresi:"}),(0,t.jsxs)("select",{value:M,onChange:e=>Y(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"T\xfcm Dersler"}),I.map(e=>(0,t.jsx)("option",{value:e.key,children:e.label},e.key))]})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)("button",{onClick:()=>{T(""),Y("")},className:"w-full px-4 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"\uD83D\uDD04 Filtreleri Temizle"})})]}),j&&0===b.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:"⏳ Ge\xe7miş kayıtlar y\xfckleniyor..."}):(()=>{let e=b.filter(e=>(!E||e.sinif===E)&&(!M||e.ders===M)&&e.yapildi+e.eksikYapildi+e.yapilmadi>0);return b.filter(e=>"din-kulturu"===e.ders),b.filter(e=>e.yapildi+e.eksikYapildi+e.yapilmadi===0),0===e.length?(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:"\uD83D\uDCDD Hen\xfcz hi\xe7 \xf6dev kontrol\xfc yapılmamış."})}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full table-auto",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-gray-50",children:[(0,t.jsx)("th",{className:"p-3 text-left",children:"Tarih"}),(0,t.jsx)("th",{className:"p-3 text-left",children:"Sınıf"}),(0,t.jsx)("th",{className:"p-3 text-left",children:"Ders"}),(0,t.jsx)("th",{className:"p-3 text-center",children:"Yapıldı"}),(0,t.jsx)("th",{className:"p-3 text-center",children:"Eksik Yapıldı"}),(0,t.jsx)("th",{className:"p-3 text-center",children:"Yapılmadı"}),(0,t.jsx)("th",{className:"p-3 text-center",children:"İşlemler"})]})}),(0,t.jsx)("tbody",{children:e.map(e=>{var s;let a=e.ogrenciler.filter(e=>"yapildi"===e.durum).length,l=e.ogrenciler.filter(e=>"eksikYapildi"===e.durum).length,r=e.ogrenciler.filter(e=>"yapilmadi"===e.durum).length;return(0,t.jsxs)("tr",{className:"border-t hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"p-3 font-medium",children:new Date(e.tarih).toLocaleDateString("tr-TR")}),(0,t.jsx)("td",{className:"p-3",children:e.sinif}),(0,t.jsx)("td",{className:"p-3",children:(null===(s=I.find(s=>s.key===e.ders))||void 0===s?void 0:s.label)||e.ders}),(0,t.jsx)("td",{className:"p-3 text-center",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-sm",children:a})}),(0,t.jsx)("td",{className:"p-3 text-center",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm",children:l})}),(0,t.jsx)("td",{className:"p-3 text-center",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded-full text-sm",children:r})}),(0,t.jsx)("td",{className:"p-3 text-center",children:(0,t.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>R(e),className:"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"✏️ D\xfczenle"}),(0,t.jsx)("button",{onClick:()=>U(e),className:"px-3 py-1 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:"\uD83D\uDDD1️ Sil"})]})})]},"".concat(e.tarih,"-").concat(e.ders,"-").concat(e.sinif))})})]})})})()]})]}),"rapor"===w&&(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-6",children:"\uD83D\uDCCA \xd6dev Raporu"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFEB Sınıf Se\xe7in:"}),(0,t.jsxs)("select",{value:S,onChange:e=>{A(e.target.value),B("")},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Sınıf se\xe7iniz..."}),O.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCDA Ders Se\xe7in (Opsiyonel):"}),(0,t.jsxs)("select",{value:F,onChange:e=>z(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",children:"T\xfcm Dersler"}),I.map(e=>(0,t.jsx)("option",{value:e.key,children:e.label},e.key))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDC64 \xd6ğrenci Se\xe7in (Opsiyonel):"}),(0,t.jsxs)("select",{value:L,onChange:e=>B(e.target.value),disabled:!S,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100",children:[(0,t.jsx)("option",{value:"",children:"T\xfcm \xf6ğrenciler"}),S&&n.filter(e=>e.class===S).map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),S?(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-200",children:[(0,t.jsxs)("h4",{className:"text-lg font-semibold text-blue-800 mb-4",children:["\uD83D\uDCC8 ",S," Sınıfı \xd6dev \xd6zeti",L&&" - ".concat(null===(r=n.find(e=>e.id===L))||void 0===r?void 0:r.name),F&&" - ".concat(null===(i=I.find(e=>e.key===F))||void 0===i?void 0:i.label)]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map(e=>{if(F&&e.key!==F)return null;let s=b.filter(s=>s.ders===e.key&&s.sinif===S&&(!L||s.ogrenciler.some(e=>e.ogrenciId===L))),a=s.length,l=s.reduce((e,s)=>e+s.yapildi,0),r=s.reduce((e,s)=>e+s.eksikYapildi,0),i=s.reduce((e,s)=>e+s.yapilmadi,0);if(0===a)return null;let n=a>0&&l+r+i>0?Math.round(l/(l+r+i)*100):0;return(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center mb-3",children:[(0,t.jsx)("span",{className:"text-2xl mr-2",children:e.label.split(" ")[0]}),(0,t.jsx)("h5",{className:"font-semibold text-gray-800",children:e.label.split(" ").slice(1).join(" ")})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Toplam Kontrol:"}),(0,t.jsx)("span",{className:"font-medium",children:a})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"✅ Başarılı:"}),(0,t.jsx)("span",{className:"font-medium text-green-600",children:l})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"⚠️ Eksik:"}),(0,t.jsx)("span",{className:"font-medium text-yellow-600",children:r})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"❌ Başarısız:"}),(0,t.jsx)("span",{className:"font-medium text-red-600",children:i})]}),(0,t.jsxs)("div",{className:"flex justify-between border-t pt-2",children:[(0,t.jsx)("span",{className:"font-medium",children:"Başarı Oranı:"}),(0,t.jsxs)("span",{className:"font-bold ".concat(n>=80?"text-green-600":n>=60?"text-yellow-600":"text-red-600"),children:["%",isNaN(n)?0:n]})]})]})]},e.key)})}),(()=>{var e;let s=[];if(S){if(L){let e=n.find(e=>e.id===L&&e.class===S);e&&(s=[e])}else s=n.filter(e=>e.class===S)}if(0===s.length)return null;let a=s.map(e=>{let s=b.filter(s=>s.sinif===S&&s.ogrenciler.some(s=>s.ogrenciId===e.id)),a=I.map(a=>{let t=s.filter(e=>e.ders===a.key),l=t.map(s=>{let a=s.ogrenciler.find(s=>s.ogrenciId===e.id);return{tarih:s.tarih,durum:(null==a?void 0:a.durum)||"yapilmadi"}}),r=t.reduce((s,a)=>{let t=a.ogrenciler.find(s=>s.ogrenciId===e.id);return s+((null==t?void 0:t.durum)==="yapildi"?1:0)},0),i=t.reduce((s,a)=>{let t=a.ogrenciler.find(s=>s.ogrenciId===e.id);return s+((null==t?void 0:t.durum)==="eksikYapildi"?1:0)},0),n=t.reduce((s,a)=>{let t=a.ogrenciler.find(s=>s.ogrenciId===e.id);return s+((null==t?void 0:t.durum)==="yapilmadi"?1:0)},0),d=r+i+n;return{ders:a.label,dersKey:a.key,toplamYapildi:r,toplamEksik:i,toplamYapilmadi:n,toplamKontrol:d,basariOrani:d>0?Math.round(r/d*100):0,tarihDetaylari:l}}).filter(e=>e.toplamKontrol>0),t=a.reduce((e,s)=>e+s.toplamYapildi,0),l=a.reduce((e,s)=>e+s.toplamEksik,0),r=a.reduce((e,s)=>e+s.toplamYapilmadi,0),i=t+l+r;return{student:e,dersIstatistikleri:a,genelYapildi:t,genelEksik:l,genelYapilmadi:r,genelToplam:i,genelBasariOrani:i>0?Math.round(t/i*100):0}}).filter(e=>e.genelToplam>0);return 0===a.length?(0,t.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDC65"}),(0,t.jsx)("p",{children:"Se\xe7ili sınıf i\xe7in hen\xfcz \xf6dev kontrol\xfc verisi bulunmamaktadır."})]}):(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow border",children:[(0,t.jsx)("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:L?"\uD83D\uDC64 ".concat(null===(e=n.find(e=>e.id===L))||void 0===e?void 0:e.name," - Detaylı Performans \xd6zeti"):"\uD83D\uDC65 ".concat(S," Sınıfı - \xd6ğrenci Bazında Detaylı Performans \xd6zeti")}),(0,t.jsx)("div",{className:"space-y-4",children:a.map(e=>{let{student:s,dersIstatistikleri:a,genelYapildi:l,genelEksik:r,genelYapilmadi:i,genelToplam:n,genelBasariOrani:d}=e;return(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,t.jsx)("h5",{className:"font-semibold text-gray-800",children:s.name}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,t.jsxs)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded",children:[l," ✅"]}),(0,t.jsxs)("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:[r," ⚠️"]}),(0,t.jsxs)("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded",children:[i," ❌"]}),(0,t.jsxs)("span",{className:"font-bold px-2 py-1 rounded ".concat(d>=80?"bg-green-100 text-green-800":d>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:["%",d]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:a.map(e=>(0,t.jsxs)("div",{className:"bg-gray-50 p-3 rounded border",children:[(0,t.jsx)("div",{className:"font-medium text-sm text-gray-700 mb-2",children:e.ders}),(0,t.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"✅ Yapıldı:"}),(0,t.jsx)("span",{className:"font-medium text-green-600",children:e.toplamYapildi})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"⚠️ Eksik:"}),(0,t.jsx)("span",{className:"font-medium text-yellow-600",children:e.toplamEksik})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"❌ Yapılmadı:"}),(0,t.jsx)("span",{className:"font-medium text-red-600",children:e.toplamYapilmadi})]}),(0,t.jsxs)("div",{className:"flex justify-between border-t pt-1 mt-2",children:[(0,t.jsx)("span",{className:"font-medium",children:"Başarı:"}),(0,t.jsxs)("span",{className:"font-bold ".concat(e.basariOrani>=80?"text-green-600":e.basariOrani>=60?"text-yellow-600":"text-red-600"),children:["%",e.basariOrani]})]}),e.tarihDetaylari&&e.tarihDetaylari.length>0&&(0,t.jsxs)("div",{className:"border-t pt-2 mt-2",children:[(0,t.jsx)("div",{className:"font-medium text-xs text-gray-600 mb-1",children:"\uD83D\uDCC5 Kontrol Tarihleri:"}),(0,t.jsx)("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:e.tarihDetaylari.map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,t.jsx)("span",{className:"text-gray-500",children:e.tarih}),(0,t.jsx)("span",{className:"px-1 py-0.5 rounded text-xs ".concat("yapildi"===e.durum?"bg-green-100 text-green-700":"eksikYapildi"===e.durum?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:"yapildi"===e.durum?"✅":"eksikYapildi"===e.durum?"⚠️":"❌"})]},s))})]})]})]},e.dersKey))})]},s.id)})})]})})()]})}):(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCCA"}),(0,t.jsx)("h4",{className:"text-lg font-semibold text-gray-600 mb-2",children:"\xd6dev Raporu G\xf6r\xfcnt\xfcleme"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Sınıf se\xe7erek başlayın. \xd6ğrenci se\xe7erseniz sadece o \xf6ğrencinin \xf6zeti g\xf6sterilir."})]})]})]})},K=e=>{let{students:s,onDataUpdate:r}=e,[i,n]=(0,l.useState)(""),[d,c]=(0,l.useState)(""),[o,m]=(0,l.useState)(""),[x,u]=(0,l.useState)(""),[h,g]=(0,l.useState)(!1),[p,b]=(0,l.useState)([]),[y,j]=(0,l.useState)([]),f=Array.from(new Set(s.map(e=>e.class))).sort();(0,l.useEffect)(()=>{c(""),m(""),u(""),b([]),j([])},[i]),(0,l.useEffect)(()=>{d&&v()},[d]);let v=async()=>{g(!0);try{let{getDocs:e,collection:s}=await Promise.resolve().then(a.bind(a,5978)),{db:t}=await Promise.resolve().then(a.bind(a,34621)),l=(await e(s(t,"exams"))).docs.map(e=>({id:e.id,...e.data()})),r=(await e(s(t,"results"))).docs.map(e=>({id:e.id,...e.data()}));console.log("\uD83D\uDD0D DEBUG - Toplam deneme:",l.length),console.log("\uD83D\uDD0D DEBUG - Toplam sonu\xe7:",r.length);let i=r.filter(e=>e.studentId===d||e.student_id===d);console.log("\uD83D\uDD0D DEBUG - \xd6ğrenci sonu\xe7ları:",i.length),console.log("\uD83D\uDD0D DEBUG - \xd6ğrenci sonu\xe7 \xf6rneği:",i[0]);let n=new Set(i.map(e=>e.examId)),c=l.filter(e=>n.has(e.id));console.log("\uD83D\uDD0D DEBUG - Eşleşen denemeler:",c.length),b(c),j(i)}catch(e){console.error("Deneme verilerini y\xfckleme hatası:",e)}finally{g(!1)}},N=async()=>{if(!d||!o||!x.trim()){alert("L\xfctfen \xf6ğrenci, deneme se\xe7in ve değerlendirme yazın.");return}g(!0);try{var e;let{addDoc:t,collection:l}=await Promise.resolve().then(a.bind(a,5978)),{db:i}=await Promise.resolve().then(a.bind(a,34621)),h=p.find(e=>e.id===o)||y.find(e=>e.id===o);await t(l(i,"denemeDegerlendirmeleri"),{studentId:d,studentName:(null===(e=s.find(e=>e.id===d))||void 0===e?void 0:e.name)||"",examId:o,examName:(null==h?void 0:h.name)||(null==h?void 0:h.examName)||"Bilinmeyen Deneme",evaluationText:x.trim(),createdAt:new Date}),n(""),c(""),m(""),u(""),b([]),j([]),r(),alert("Deneme değerlendirmesi başarıyla kaydedildi!")}catch(e){console.error("Deneme değerlendirme kaydetme hatası:",e),alert("Kaydetme sırasında bir hata oluştu: "+e.message)}finally{g(!1)}};return s.find(e=>e.id===d),(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white p-4 rounded-lg shadow-lg",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-1",children:"\uD83D\uDCCA Deneme Değerlendirme"}),(0,t.jsx)("p",{className:"text-purple-100 text-sm",children:"\xd6ğrencilerin deneme performanslarını değerlendirin"})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"\uD83D\uDCDD Yeni Değerlendirme Ekle"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFEB Sınıf Se\xe7in:"}),(0,t.jsxs)("select",{value:i,onChange:e=>{n(e.target.value),c(""),m(""),u("")},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[(0,t.jsx)("option",{value:"",children:"Sınıf se\xe7iniz..."}),f.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDC64 \xd6ğrenci Se\xe7in:"}),(0,t.jsxs)("select",{value:d,onChange:e=>c(e.target.value),disabled:!i,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 disabled:bg-gray-100",children:[(0,t.jsx)("option",{value:"",children:"\xd6ğrenci se\xe7iniz..."}),i&&s.filter(e=>e.class===i).map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),d&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCDA Deneme Se\xe7in:"}),h?(0,t.jsxs)("div",{className:"p-3 border border-gray-300 rounded-lg bg-gray-50 flex items-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-600 mr-3"}),(0,t.jsx)("span",{className:"text-gray-600",children:"Denemeler y\xfckleniyor..."})]}):p.length>0?(0,t.jsxs)("select",{value:o,onChange:e=>{m(e.target.value),u("")},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[(0,t.jsx)("option",{value:"",children:"Deneme se\xe7iniz..."}),p.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.title," - ",new Date(e.date).toLocaleDateString("tr-TR")]},e.id))]}):(0,t.jsxs)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,t.jsxs)("p",{className:"text-yellow-800 text-sm",children:[(0,t.jsx)("strong",{children:"⚠️ Bilgi:"})," Bu \xf6ğrencinin hen\xfcz deneme sonucu bulunmuyor."]}),(0,t.jsxs)("p",{className:"text-yellow-700 text-xs mt-2",children:["Toplam ",y.length," sonu\xe7 bulundu, ",p.length," deneme listelendi."]})]})]}),o&&y.length>0&&(()=>{let e=y.find(e=>e.examId===o||e.id===o);if(!e)return null;let s=[{key:"turkce",name:"T\xfcrk\xe7e",icon:"\uD83D\uDCD6"},{key:"matematik",name:"Matematik",icon:"\uD83D\uDD22"},{key:"fen",name:"Fen",icon:"\uD83D\uDD2C"},{key:"sosyal",name:"Sosyal",icon:"\uD83C\uDF0D"},{key:"din",name:"Din K\xfclt\xfcr\xfc",icon:"\uD83D\uDD4C"},{key:"ingilizce",name:"İngilizce",icon:"\uD83D\uDDE3️"}],a=s=>{var a,t;let l=null===(a=e.scores)||void 0===a?void 0:a[s],r=null===(t=e.nets)||void 0===t?void 0:t[s],i=0,n=0,d=0,c=0;return l&&"object"==typeof l?(i=l.D||0,n=l.Y||0,d=l.B||0,c=parseFloat((i-n/3).toFixed(1))):void 0!==r&&(d=Math.max(0,20-(i=Math.round(Math.max(0,4*(c="string"==typeof r?parseFloat(r):r))))-(n=Math.max(0,Math.round(4*c)-Math.round(5*c))))),{D:i,Y:n,B:d,net:c}};return(0,t.jsxs)("div",{className:"mt-6 bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,t.jsx)("div",{className:"p-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-t-lg",children:(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"\uD83D\uDCCA Deneme Sonucu Detayları"})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Ders"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Doğru"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Yanlış"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Boş"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Net"})]})}),(0,t.jsx)("tbody",{children:s.map(e=>{let s=a(e.key);return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"text-lg mr-2",children:e.icon}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:e.name})]})}),(0,t.jsx)("td",{className:"px-4 py-3 text-center",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:s.D})}),(0,t.jsx)("td",{className:"px-4 py-3 text-center",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:s.Y})}),(0,t.jsx)("td",{className:"px-4 py-3 text-center",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:s.B})}),(0,t.jsx)("td",{className:"px-4 py-3 text-center",children:(0,t.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(s.net>=0?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"),children:[s.net>=0?"+":"",s.net]})})]},e.key)})})]})}),(0,t.jsx)("div",{className:"p-4 bg-gray-50 border-t",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:s.reduce((e,s)=>e+a(s.key).net,0).toFixed(1)}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Toplam Net"})]})})]})})(),o&&(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCAC \xd6ğrenci Değerlendirmesi:"}),(0,t.jsx)("textarea",{value:x,onChange:e=>u(e.target.value),placeholder:"Bu deneme ile ilgili \xf6ğrencinin performansını, g\xfc\xe7l\xfc ve zayıf y\xf6nlerini, \xe7alışma \xf6nerilerini yazın...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:5})]}),o&&x.trim()&&(0,t.jsx)("div",{className:"mt-6 flex justify-end",children:(0,t.jsx)("button",{onClick:N,disabled:h,className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center font-medium",children:h?"⏳ Kaydediliyor...":"\uD83D\uDCBE Değerlendirmeyi Kaydet"})})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg p-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-purple-900 mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"text-purple-600 mr-3",children:"\uD83D\uDCA1"}),"Nasıl Kullanılır?"]}),(0,t.jsxs)("div",{className:"space-y-3 text-purple-800",children:[(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"bg-purple-200 text-purple-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Sınıf ve \xd6ğrenci Se\xe7in"}),(0,t.jsx)("p",{className:"text-sm",children:"Hangi sınıftan hangi \xf6ğrencinin değerlendirmesini yapacağınızı belirleyin."})]})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"bg-purple-200 text-purple-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Deneme Sonucunu İnceleyin"}),(0,t.jsx)("p",{className:"text-sm",children:"\xd6ğrencinin girdiği denemeyi se\xe7in ve mevcut sonu\xe7larını g\xf6r\xfcnt\xfcleyin."})]})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"bg-purple-200 text-purple-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"3"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Değerlendirme Yazın"}),(0,t.jsx)("p",{className:"text-sm",children:"\xd6ğrencinin performansı hakkında detaylı değerlendirme ve \xf6nerilerinizi yazın."})]})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"bg-purple-200 text-purple-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"4"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Kaydedin ve Takip Edin"}),(0,t.jsx)("p",{className:"text-sm",children:"Değerlendirmeyi kaydedin ve \xf6ğrencinin gelişimini takip edin."})]})]})]}),(0,t.jsx)("div",{className:"mt-6 p-4 bg-purple-100 rounded-lg",children:(0,t.jsxs)("p",{className:"text-purple-900 text-sm",children:[(0,t.jsx)("strong",{children:"\uD83D\uDCCC Not:"})," Deneme değerlendirmeleri \xf6ğrencinin dashboard'ında g\xf6r\xfcnecektir. \xd6ğrenci \xf6ğretmenin değerlendirmelerini okuyabilir ve \xe7alışma \xf6nerilerini takip edebilir."]})})]})]})},G=e=>{let{students:s}=e,[r,i]=(0,l.useState)("yeni"),[n,p]=(0,l.useState)("performans"),[b,y]=(0,l.useState)(""),[j,f]=(0,l.useState)(new Date().toISOString().split("T")[0]),[v,N]=(0,l.useState)({}),[D,k]=(0,l.useState)(!1),[w,C]=(0,l.useState)([]),[S,A]=(0,l.useState)([]),[L,B]=(0,l.useState)(""),[F,z]=(0,l.useState)(""),E=["2-A","3-A","4-A"],T=b?s.filter(e=>e.class===b).sort((e,s)=>e.name.localeCompare(s.name)):[],M=w.filter(e=>{let s=!L||e.class===L,a=!F||e.studentName===F;return s&&a}),Y=(0,l.useMemo)(()=>{if(!L)return[];console.log("\uD83C\uDFAF DEBUG - Grafik hesaplanıyor..."),console.log("\uD83C\uDFAF DEBUG - Se\xe7ilen sınıf:",L),console.log("\uD83C\uDFAF DEBUG - Toplam sınav:",w.length);let e=w.filter(e=>e.class===L);console.log("\uD83C\uDFAF DEBUG - Sınıf sınavları sayısı:",e.length),console.log("\uD83C\uDFAF DEBUG - Sınıf sınavları \xf6rnek:",e.slice(0,3));let s=e.reduce((e,s)=>{let a=s.date;return e[a]||(e[a]={exams:[],studentExams:[]}),e[a].exams.push(s),F&&s.studentName===F&&e[a].studentExams.push(s),e},{});console.log("\uD83C\uDFAF DEBUG - Tarih grupları:",Object.keys(s));let a=Object.keys(s).sort().map(e=>{let a=s[e],t=a.exams.reduce((e,s)=>e+(Number(s.wpm)||0),0),l=a.exams.length>0?t/a.exams.length:0,r=a.studentExams.length>0?a.studentExams.reduce((e,s)=>e+(Number(s.wpm)||0),0)/a.studentExams.length:null;return console.log("\uD83C\uDFAF DEBUG - ".concat(e,": Toplam WPM=").concat(t,", Sayı=").concat(a.exams.length,", Ortalama=").concat(l)),{date:e,sinifOrtalamasi:Math.round(l),ogrenci:null!==r?Math.round(r):null}});return console.log("\uD83C\uDFAF DEBUG - Grafik verileri:",a),a},[w,L,F]),I=(0,l.useMemo)(()=>{if(!L)return 0;let e=w.filter(e=>e.class===L);return 0===e.length?0:e.reduce((e,s)=>e+s.wpm,0)/e.length},[w,L]),O=(0,l.useMemo)(()=>{if(!F)return 0;let e=w.filter(e=>e.studentName===F);return 0===e.length?0:e.reduce((e,s)=>e+s.wpm,0)/e.length},[w,F]);(0,l.useEffect)(()=>{H()},[]);let H=async()=>{try{let{getDocs:e,query:s,collection:t,orderBy:l}=await Promise.resolve().then(a.bind(a,5978)),{db:r}=await Promise.resolve().then(a.bind(a,34621)),i=s(t(r,"okumaSinavlari"),l("date","desc")),n=(await e(i)).docs.map(e=>{let s=e.data();return console.log("\uD83C\uDFAF DEBUG - Firestore verisi:",e.id,s),{id:e.id,...s,date:s.date||s.date||"",class:s.class||s.classId||""}});console.log("\uD83D\uDCDA Y\xfcklenen sınav sayısı:",n.length),console.log("\uD83D\uDCDA Sınıf alanları:",n.map(e=>({id:e.id,class:e.class,date:e.date}))),C(n)}catch(e){console.error("Ge\xe7miş sınavları y\xfckleme hatası:",e)}},P=async(e,s)=>{try{let{getOkumaSinavlariByClassAndDate:t}=await Promise.resolve().then(a.bind(a,34621)),l=await t(e,s);A(l);let r={};l.forEach(e=>{r[e.studentId]=e.wpm}),N(e=>({...e,...r}))}catch(e){console.error("Sınav sonu\xe7larını y\xfckleme hatası:",e)}};(0,l.useEffect)(()=>{b&&j&&P(b,j)},[b,j]);let K=(e,s)=>{let a=parseInt(s)||0;N(s=>({...s,[e]:a}))},G=async()=>{if(!b||!j){alert("L\xfctfen sınıf ve tarih se\xe7in!");return}k(!0);try{let{addBulkOkumaSinavlari:e}=await Promise.resolve().then(a.bind(a,34621)),s=T.filter(e=>v[e.id]>0).map(e=>({classId:b,date:j,studentId:e.id,studentName:e.name,wpm:v[e.id]}));if(0===s.length){alert("L\xfctfen en az bir \xf6ğrenci i\xe7in kelime sayısı girin!"),k(!1);return}await e(s),alert("✅ ".concat(s.length," \xf6ğrencinin okuma sınavı başarıyla kaydedildi!")),N({}),await H(),await P(b,j)}catch(e){console.error("Sınav kaydetme hatası:",e),alert("Sınav kaydedilirken bir hata oluştu!")}finally{k(!1)}},V=async e=>{if(confirm("Bu sınav sonucunu silmek istediğinize emin misiniz?"))try{let{deleteOkumaSinavi:s}=await Promise.resolve().then(a.bind(a,34621));await s(e),H(),P(b,j)}catch(e){console.error("Sınav silme hatası:",e)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl p-8 text-white",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"\uD83D\uDCDA Okuma Sınavı Y\xf6netimi"}),(0,t.jsx)("p",{className:"text-green-100 text-lg",children:"2-A, 3-A ve 4-A sınıfları i\xe7in okuma hızı takibi"})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-2",children:(0,t.jsx)("div",{className:"flex space-x-2",children:[{key:"yeni",label:"\uD83D\uDCDD Yeni Sınav"},{key:"gecmis",label:"\uD83D\uDCCB Ge\xe7miş Sınavlar"},{key:"analiz",label:"\uD83D\uDCCA Analiz"}].map(e=>(0,t.jsx)("button",{onClick:()=>i(e.key),className:"px-6 py-3 rounded-lg font-medium transition-all ".concat(r===e.key?"bg-green-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.label},e.key))})}),"yeni"===r&&(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"\uD83D\uDCDD Yeni Okuma Sınavı Ekle"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFEB Sınıf Se\xe7in"}),(0,t.jsxs)("select",{value:b,onChange:e=>{y(e.target.value),N({})},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[(0,t.jsx)("option",{value:"",children:"Sınıf se\xe7in..."}),E.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDCC5 Sınav Tarihi"}),(0,t.jsx)("input",{type:"date",value:j,onChange:e=>f(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),b&&(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("h4",{className:"text-lg font-semibold text-gray-700",children:["\uD83D\uDC68‍\uD83C\uDF93 ",b," Sınıfı \xd6ğrencileri"]}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[T.length," \xf6ğrenci"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse border border-gray-200 rounded-lg",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-green-50",children:[(0,t.jsx)("th",{className:"border border-gray-200 p-3 text-left",children:"\xd6ğrenci Adı"}),(0,t.jsx)("th",{className:"border border-gray-200 p-3 text-center w-32",children:"Okuma Hızı (kelime/dakika)"}),(0,t.jsx)("th",{className:"border border-gray-200 p-3 text-center w-24",children:"Durum"})]})}),(0,t.jsx)("tbody",{children:T.map(e=>{let s=v[e.id]||0,a=S.find(s=>s.studentId===e.id);return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsxs)("td",{className:"border border-gray-200 p-3",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["No: ",e.number]})]}),(0,t.jsx)("td",{className:"border border-gray-200 p-3 text-center",children:(0,t.jsx)("input",{type:"number",min:"0",max:"500",value:s||"",onChange:s=>K(e.id,s.target.value),placeholder:"0",className:"w-24 p-2 border border-gray-300 rounded-lg text-center focus:ring-2 focus:ring-green-500 focus:border-green-500"})}),(0,t.jsx)("td",{className:"border border-gray-200 p-3 text-center",children:s>0?(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-700 rounded text-sm",children:"✓ Girildi"}):a?(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-sm",children:"⚠ Mevcut"}):(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 bg-gray-100 text-gray-500 rounded text-sm",children:"-"})})]},e.id)})})]})})]}),b&&T.length>0&&(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{onClick:G,disabled:D,className:"px-8 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed font-medium flex items-center",children:D?"⏳ Kaydediliyor...":"\uD83D\uDCBE Sınavı Kaydet"})})]}),"gecmis"===r&&(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"\uD83D\uDCCB Ge\xe7miş Okuma Sınavları"}),(0,t.jsx)("button",{onClick:()=>H(),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center gap-2",children:"\uD83D\uDD04 Yenile"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFEB Sınıf Filtresi"}),(0,t.jsxs)("select",{value:L,onChange:e=>{B(e.target.value),z("")},className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[(0,t.jsx)("option",{value:"",children:"T\xfcm Sınıflar"}),E.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDC64 \xd6ğrenci Filtresi"}),(0,t.jsxs)("select",{value:F,onChange:e=>z(e.target.value),disabled:!L,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 disabled:bg-gray-100",children:[(0,t.jsx)("option",{value:"",children:"T\xfcm \xd6ğrenciler"}),L&&s.filter(e=>e.class===L).sort((e,s)=>e.name.localeCompare(s.name)).map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e.id))]})]})]}),0===M.length?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCDD"}),(0,t.jsx)("h4",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Hen\xfcz Sınav Yok"}),(0,t.jsx)("p",{children:"Yeni okuma sınavı ekleyerek başlayın."})]}):(0,t.jsx)("div",{className:"space-y-4",children:Object.entries(M.reduce((e,s)=>{let a="".concat(s.date,"-").concat(s.class);return e[a]||(e[a]=[]),e[a].push(s),e},{})).map(e=>{let[s,a]=e,[l,r]=s.split("-");return(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-800",children:["\uD83D\uDCC5 ",new Date(l).toLocaleDateString("tr-TR")," - ",r]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[a.length," \xf6ğrenci sınava alındı"]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:Math.round(a.reduce((e,s)=>e+s.wpm,0)/a.length)}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:"Ortalama D/K"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2",children:a.map(e=>(0,t.jsxs)("div",{className:"bg-gray-50 p-2 rounded text-center",children:[(0,t.jsx)("div",{className:"font-medium text-sm text-gray-800 truncate",children:e.studentName}),(0,t.jsx)("div",{className:"text-lg font-bold text-green-600",children:e.wpm}),(0,t.jsx)("button",{onClick:()=>V(e.id),className:"text-xs text-red-500 hover:text-red-700 mt-1",children:"Sil"})]},e.id))})]},s)})})]}),"analiz"===r&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"\uD83D\uDCC8 Sınıf Bazlı Genel Ortalamalar"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:E.map(e=>{let s=w.filter(s=>s.class===e),a=s.map(e=>e.wpm),l=a.length>0?a.reduce((e,s)=>e+s,0)/a.length:0,r=s.map(e=>e.wpm),i=r.length>0?r.reduce((e,s)=>e+s,0)/r.length:0;return(0,t.jsxs)("div",{className:"p-4 rounded-lg border ".concat(L===e?"bg-green-100 border-green-300":"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200"),children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsxs)("div",{className:"text-sm font-medium text-green-700",children:[e," Sınıfı"]}),L===e&&(0,t.jsx)("span",{className:"text-xs bg-green-200 text-green-800 px-2 py-1 rounded",children:"Filtrelenmiş"})]}),(0,t.jsx)("div",{className:"text-3xl font-bold text-green-600",children:L?i>0?Math.round(i):"-":l>0?Math.round(l):"-"}),(0,t.jsx)("div",{className:"text-xs text-green-600",children:"Ortalama D/K"}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:[L?r.length:s.length," sınav kaydı"]})]},e)})})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,t.jsx)("button",{onClick:()=>p("performans"),className:"px-4 py-2 rounded-lg font-medium transition-all ".concat("performans"===n?"bg-green-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"\uD83C\uDFC6 En İyi Performanslar"}),(0,t.jsx)("button",{onClick:()=>p("ortalama"),className:"px-4 py-2 rounded-lg font-medium transition-all ".concat("ortalama"===n?"bg-green-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"\uD83D\uDCCA Ortalama D/K Tablosu"}),(0,t.jsx)("button",{onClick:()=>p("grafik"),className:"px-4 py-2 rounded-lg font-medium transition-all ".concat("grafik"===n?"bg-green-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"\uD83D\uDCC8 Gelişim Grafiği"})]}),(0,t.jsx)("button",{onClick:()=>H(),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center gap-2",children:"\uD83D\uDD04 Yenile"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83C\uDFEB Sınıf Filtresi"}),(0,t.jsxs)("select",{value:L,onChange:e=>{B(e.target.value),z("")},className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",children:[(0,t.jsx)("option",{value:"",children:"T\xfcm Sınıflar"}),E.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\uD83D\uDC64 \xd6ğrenci Filtresi (Grafik i\xe7in gerekli)"}),(0,t.jsxs)("select",{value:F,onChange:e=>z(e.target.value),disabled:!L,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 disabled:bg-gray-100",children:[(0,t.jsx)("option",{value:"",children:"\xd6ğrenci se\xe7in..."}),L&&s.filter(e=>e.class===L).sort((e,s)=>e.name.localeCompare(s.name)).map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e.id))]})]})]}),"performans"===n&&(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"\uD83C\uDFC6 En İyi Performanslar"}),0===M.length?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCCA"}),(0,t.jsx)("h4",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Veri Yok"}),(0,t.jsx)("p",{children:"Filtrelere uygun sınav verisi bulunamadı."})]}):(0,t.jsx)("div",{className:"space-y-2",children:M.sort((e,s)=>s.wpm-e.wpm).slice(0,20).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"w-8 h-8 flex items-center justify-center rounded-full font-bold text-sm ".concat(0===s?"bg-yellow-400 text-white":1===s?"bg-gray-300 text-gray-700":2===s?"bg-orange-300 text-white":"bg-gray-200 text-gray-600"),children:s+1}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.studentName}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[e.class," - ",new Date(e.date).toLocaleDateString("tr-TR")]})]})]}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[e.wpm," D/K"]})]},e.id))})]}),"ortalama"===n&&(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"\uD83D\uDCCA Ortalama D/K Tablosu"}),0===M.length?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCCA"}),(0,t.jsx)("h4",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Veri Yok"}),(0,t.jsx)("p",{children:"Filtrelere uygun sınav verisi bulunamadı."})]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-green-50",children:[(0,t.jsx)("th",{className:"border border-gray-200 p-3 text-left",children:"Sıra"}),(0,t.jsx)("th",{className:"border border-gray-200 p-3 text-left",children:"\xd6ğrenci Adı"}),(0,t.jsx)("th",{className:"border border-gray-200 p-3 text-center",children:"Sınıf"}),(0,t.jsx)("th",{className:"border border-gray-200 p-3 text-center",children:"Sınav Sayısı"}),(0,t.jsx)("th",{className:"border border-gray-200 p-3 text-center",children:"Ortalama D/K"}),(0,t.jsx)("th",{className:"border border-gray-200 p-3 text-center",children:"En Y\xfcksek"})]})}),(0,t.jsx)("tbody",{children:Object.values(M.reduce((e,s)=>{let a=s.studentName;return e[a]||(e[a]={name:s.studentName,class:s.class,exams:[],wpmSum:0,count:0,maxWpm:0}),e[a].exams.push(s),e[a].wpmSum+=s.wpm,e[a].count+=1,e[a].maxWpm=Math.max(e[a].maxWpm,s.wpm),e},{})).map(e=>({...e,average:e.count>0?e.wpmSum/e.count:0})).sort((e,s)=>s.average-e.average).map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"border border-gray-200 p-3",children:(0,t.jsx)("span",{className:"inline-flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold ".concat(0===s?"bg-yellow-400 text-white":1===s?"bg-gray-300 text-gray-700":2===s?"bg-orange-300 text-white":"bg-gray-100 text-gray-600"),children:s+1})}),(0,t.jsx)("td",{className:"border border-gray-200 p-3 font-medium text-gray-900",children:e.name}),(0,t.jsx)("td",{className:"border border-gray-200 p-3 text-center text-gray-600",children:e.class}),(0,t.jsx)("td",{className:"border border-gray-200 p-3 text-center",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-700 rounded text-sm",children:e.count})}),(0,t.jsx)("td",{className:"border border-gray-200 p-3 text-center",children:(0,t.jsx)("span",{className:"text-lg font-bold text-green-600",children:Math.round(e.average)})}),(0,t.jsx)("td",{className:"border border-gray-200 p-3 text-center",children:(0,t.jsx)("span",{className:"text-green-600 font-medium",children:e.maxWpm})})]},e.name))})]})})]}),"grafik"===n&&(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:"\uD83D\uDCC8 Gelişim Grafiği"}),L?0===M.length?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCCA"}),(0,t.jsx)("h4",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Veri Yok"}),(0,t.jsx)("p",{children:"Se\xe7ilen sınıf i\xe7in sınav verisi bulunamadı."})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"h-96",children:(0,t.jsx)(d.h,{width:"100%",height:"100%",children:(0,t.jsxs)(c.w,{data:Y,margin:{top:5,right:30,left:20,bottom:5},children:[(0,t.jsx)(o.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,t.jsx)(m.K,{dataKey:"date",tick:{fontSize:12},tickFormatter:e=>new Date(e).toLocaleDateString("tr-TR",{day:"numeric",month:"short"})}),(0,t.jsx)(x.B,{tick:{fontSize:12},label:{value:"D/K",angle:-90,position:"insideLeft",fill:"#6b7280"}}),(0,t.jsx)(u.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},labelFormatter:e=>new Date(e).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})}),(0,t.jsx)(h.D,{}),(0,t.jsx)(g.x,{type:"monotone",dataKey:"sinifOrtalamasi",name:"Sınıf Ortalaması",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6}}),F&&(0,t.jsx)(g.x,{type:"monotone",dataKey:"ogrenci",name:F,stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",strokeWidth:2,r:4},activeDot:{r:6}})]})})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),(0,t.jsx)("span",{className:"font-medium text-green-800",children:"Sınıf Ortalaması"})]}),(0,t.jsx)("p",{className:"text-sm text-green-700",children:"Se\xe7ilen sınıfın her sınav tarihindeki ortalama D/K değerini g\xf6sterir."})]}),F&&(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded-full"}),(0,t.jsx)("span",{className:"font-medium text-blue-800",children:F})]}),(0,t.jsx)("p",{className:"text-sm text-blue-700",children:"Se\xe7ilen \xf6ğrencinin zaman i\xe7indeki D/K gelişimini g\xf6sterir."})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Sınıf Genel Ortalaması"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:Math.round(I)})]}),F&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"\xd6ğrenci Genel Ortalaması"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:Math.round(O)})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-1",children:"Gelişim Farkı"}),(0,t.jsxs)("div",{className:"text-2xl font-bold ".concat(O>=I?"text-green-600":"text-red-600"),children:[O>=I?"+":"",Math.round(O-I)]})]})]})]})]}):(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCC8"}),(0,t.jsx)("h4",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Sınıf Se\xe7in"}),(0,t.jsx)("p",{children:"Grafiği g\xf6r\xfcnt\xfclemek i\xe7in l\xfctfen bir sınıf se\xe7in."})]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-green-900 mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"text-green-600 mr-3",children:"\uD83D\uDCA1"}),"Nasıl Kullanılır?"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-green-800",children:[(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"bg-green-200 text-green-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Yeni Sınav Ekle"}),(0,t.jsx)("p",{className:"text-sm",children:"Sınıf ve tarih se\xe7ip \xf6ğrencilerin okuma hızlarını girin."})]})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"bg-green-200 text-green-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Kaydet"}),(0,t.jsx)("p",{className:"text-sm",children:"T\xfcm verileri kaydedip ge\xe7mişe aktarın."})]})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"bg-green-200 text-green-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"3"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Ge\xe7miş İzle"}),(0,t.jsx)("p",{className:"text-sm",children:"Ge\xe7miş sınavları g\xf6r\xfcnt\xfcleyin ve karşılaştırın."})]})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"bg-green-200 text-green-800 rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3 mt-0.5",children:"4"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Analiz Et"}),(0,t.jsx)("p",{className:"text-sm",children:"Sınıf bazlı istatistikleri inceleyin."})]})]})]})]})]})};function V(){let[e,s]=(0,l.useState)(null),[a,d]=(0,l.useState)(!0),[c,o]=(0,l.useState)(!1),[m,x]=(0,l.useState)("ogrenci"),u=(0,n.useRouter)();(0,l.useEffect)(()=>{let e=(0,r.Aj)(i.I8,e=>{e?(s(e.email),d(!1)):u.push("/login")});return()=>e()},[u]);let h=async()=>{try{await (0,r.w7)(i.I8),u.push("/login")}catch(e){console.error("\xc7ıkış hatası:",e),alert("\xc7ıkış yaparken hata oluştu")}};return a?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-gray-50 to-blue-50",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Y\xfckleniyor..."})]})}):(0,t.jsxs)("main",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-gray-50 to-blue-50",children:[(0,t.jsxs)("section",{className:"mx-auto max-w-7xl px-4 py-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6 bg-white rounded-xl shadow-md p-4 border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-3 rounded-lg",children:(0,t.jsx)("img",{src:"/projelogo.png",alt:"Project Logo",className:"w-8 h-8 rounded"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Başarı Portalı"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Başarı Takip Sistemi"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[e&&(0,t.jsxs)("div",{className:"hidden sm:flex items-center px-4 py-2 rounded-lg bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Hoşgeldiniz,\xa0"}),(0,t.jsx)("strong",{className:"text-sm font-semibold text-blue-700",children:e})]}),(0,t.jsxs)("button",{onClick:h,className:"px-4 py-2 rounded-lg bg-gradient-to-r from-red-500 to-red-600 text-white font-medium hover:from-red-600 hover:to-red-700 active:scale-95 transition-all duration-200 shadow-lg flex items-center gap-2",children:[(0,t.jsx)("span",{children:"✖️"}),(0,t.jsx)("span",{children:"\xc7ıkış"})]})]})]}),(0,t.jsx)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:(0,t.jsx)(E,{})})]}),(0,t.jsx)("footer",{className:"mt-12 py-4 text-center text-xs text-gray-500 border-t bg-white/50 backdrop-blur",children:(0,t.jsxs)("div",{className:"mx-auto max-w-7xl px-4",children:["\xa9 ",new Date().getFullYear()," K\xf6pr\xfcler LGS | Developed by Murat UYSAL"]})})]})}}},function(e){e.O(0,[358,139,943,28,621,971,117,744],function(){return e(e.s=36322)}),_N_E=e.O()}]);