(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[370],{86234:function(e,t,s){Promise.resolve().then(s.bind(s,23489))},77031:function(e,t,s){"use strict";s.d(t,{v:function(){return d}});var a=s(93765),l=s(83046),r=s(97059),n=s(62994),i=s(25311),d=(0,a.z)({chartName:"BarChart",GraphicalChild:l.$,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:r.K},{axisType:"yAxis",AxisComp:n.B}],formatAxisMap:i.t9})},23489:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var a=s(57437),l=s(2265),r=s(99376),n=s(47625),i=s(21156),d=s(56940),x=s(97059),c=s(62994),m=s(8147),o=s(22190),u=s(54061),h=s(77031),p=s(83046);let g=e=>{let{reportData:t}=e,s=t.examResults.map((e,s)=>({exam:e.exam.title,[t.student?"\xd6ğrenci":"Sınıf"]:e.studentTotalNet,"Sınıf Ortalaması":e.classAverage,"Genel Ortalama":e.generalAverage})),l=t.examResults.length>0?t.examResults.reduce((e,t)=>e+t.studentTotalNet,0):0,r=t.examResults.length>0?t.examResults.reduce((e,t)=>e+t.classAverage,0)/t.examResults.length:0,h=t.examResults.length>0?t.examResults.reduce((e,t)=>e+t.generalAverage,0)/t.examResults.length:0,p=t.examResults.length>=2?t.examResults[t.examResults.length-1].studentTotalNet-t.examResults[t.examResults.length-2].studentTotalNet:0;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83D\uDCCA Toplam Net"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:(l||0).toFixed(2)})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83C\uDFEB Sınıf Ortalaması"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-600",children:(r||0).toFixed(2)})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83C\uDF0D Genel Ortalama"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-red-600",children:(h||0).toFixed(2)})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83D\uDCC8 Trend"}),(0,a.jsxs)("p",{className:"text-3xl font-bold ".concat(p>=0?"text-green-600":"text-red-600"),children:[(p||0)>=0?"+":"",(p||0).toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83D\uDCC8 Deneme Trendi"}),(0,a.jsx)("div",{className:"h-96",children:(0,a.jsx)(n.h,{width:"100%",height:"100%",children:(0,a.jsxs)(i.w,{data:s,children:[(0,a.jsx)(d.q,{strokeDasharray:"3 3"}),(0,a.jsx)(x.K,{dataKey:"exam"}),(0,a.jsx)(c.B,{}),(0,a.jsx)(m.u,{}),(0,a.jsx)(o.D,{}),(0,a.jsx)(u.x,{type:"monotone",dataKey:t.student?"\xd6ğrenci":"Sınıf",stroke:"#3B82F6",strokeWidth:2}),(0,a.jsx)(u.x,{type:"monotone",dataKey:"Sınıf Ortalaması",stroke:"#22C55E",strokeWidth:2}),(0,a.jsx)(u.x,{type:"monotone",dataKey:"Genel Ortalama",stroke:"#EF4444",strokeWidth:2})]})})})]})]})},j=e=>{let{reportData:t}=e,s=t.examResults.map(e=>({name:e.exam.title,Öğrenci:e.studentTotalNet,"Sınıf Ort.":e.classAverage,"Genel Ort.":e.generalAverage}));return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"\uD83D\uDCCB Deneme Karşılaştırması"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deneme"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t.student?"\xd6ğrenci":"Sınıf"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sınıf Ort."}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Genel Ort."}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fark (Sınıf)"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fark (Genel)"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.examResults.map((e,t)=>{let s=e.studentTotalNet-e.classAverage,l=e.studentTotalNet-e.generalAverage;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.exam.title}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.studentTotalNet.toFixed(2)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.classAverage.toFixed(2)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.generalAverage.toFixed(2)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsxs)("span",{className:"font-medium ".concat(s>=0?"text-green-600":"text-red-600"),children:[s>=0?"+":"",s.toFixed(2)]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsxs)("span",{className:"font-medium ".concat(l>=0?"text-green-600":"text-red-600"),children:[l>=0?"+":"",l.toFixed(2)]})})]},t)})})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83D\uDCCA Deneme Karşılaştırma"}),(0,a.jsx)("div",{className:"h-96",children:(0,a.jsx)(n.h,{width:"100%",height:"100%",children:(0,a.jsxs)(h.v,{data:s,children:[(0,a.jsx)(d.q,{strokeDasharray:"3 3"}),(0,a.jsx)(x.K,{dataKey:"name"}),(0,a.jsx)(c.B,{}),(0,a.jsx)(m.u,{}),(0,a.jsx)(o.D,{}),(0,a.jsx)(p.$,{dataKey:"\xd6ğrenci",fill:"#3B82F6"}),(0,a.jsx)(p.$,{dataKey:"Sınıf Ort.",fill:"#22C55E"}),(0,a.jsx)(p.$,{dataKey:"Genel Ort.",fill:"#EF4444"})]})})})]})]})},f=e=>{let{reportData:t}=e,s=t.examResults,l=["T\xfcrk\xe7e","Matematik","Fen","Sosyal","İngilizce","Din"].map(e=>{let t=s.map(t=>{var s,a;return(null===(a=t.studentResults[0])||void 0===a?void 0:null===(s=a.nets)||void 0===s?void 0:s[e.toLowerCase()])||0});return{ders:e,ortalama:t.length>0?t.reduce((e,t)=>e+t,0)/t.length:0,sinif:s.length>0?s.reduce((e,t)=>e+t.classAverage,0)/s.length:0,genel:s.length>0?s.reduce((e,t)=>e+t.generalAverage,0)/s.length:0}});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"\uD83D\uDCCA Konu Bazlı Analiz"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Konu"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ortalama Net"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sınıf Ortalaması"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Genel Ortalama"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((e,t)=>{let s=e.ortalama-e.sinif;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.ders}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.ortalama.toFixed(1)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.sinif.toFixed(1)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.genel.toFixed(1)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(s>5?"bg-green-100 text-green-800":s>-5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:s>5?"G\xfc\xe7l\xfc":s>-5?"Normal":"Zayıf"})})]},t)})})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83D\uDCDD Genel Değerlendirme"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-green-800 mb-3",children:"\uD83D\uDCAA G\xfc\xe7l\xfc Konular"}),(0,a.jsxs)("ul",{className:"space-y-2",children:[l.filter(e=>e.ortalama>e.sinif+5).map((e,t)=>(0,a.jsxs)("li",{className:"text-green-700 flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"✅"}),e.ders," (Net: ",e.ortalama.toFixed(1),")"]},t)),0===l.filter(e=>e.ortalama>e.sinif+5).length&&(0,a.jsx)("li",{className:"text-gray-500 text-sm",children:"G\xfc\xe7l\xfc konu bulunamadı"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-red-800 mb-3",children:"⚠️ Geliştirilmesi Gerekenler"}),(0,a.jsxs)("ul",{className:"space-y-2",children:[l.filter(e=>e.ortalama<e.sinif-5).map((e,t)=>(0,a.jsxs)("li",{className:"text-red-700 flex items-center",children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDCDA"}),e.ders," (Net: ",e.ortalama.toFixed(1),")"]},t)),0===l.filter(e=>e.ortalama<e.sinif-5).length&&(0,a.jsx)("li",{className:"text-gray-500 text-sm",children:"Zayıf konu bulunamadı"})]})]})]})]})]})},N=e=>{let{reportData:t}=e,s=t.examResults.map((e,t)=>{var s,a,l,r;let n=(null===(a=e.studentResults[0])||void 0===a?void 0:null===(s=a.scores)||void 0===s?void 0:s.puan)?parseFloat(e.studentResults[0].scores.puan):(null===(l=e.studentResults[0])||void 0===l?void 0:l.puan)||(null===(r=e.studentResults[0])||void 0===r?void 0:r.totalScore)||0;return{exam:e.exam.title,puan:n,net:e.studentTotalNet,tarih:new Date(e.exam.date).toLocaleDateString("tr-TR")}}).filter(e=>e.puan>0),l=s.map(e=>e.puan),r=l.length>0?l.reduce((e,t)=>e+t,0)/l.length:0,h=l.length>0?Math.max(...l):0,p=l.length>0?Math.min(...l):0,g=s.length>=2?s[s.length-1].puan-s[s.length-2].puan:0,j={"450+":s.filter(e=>e.puan>=450).length,"400-449":s.filter(e=>e.puan>=400&&e.puan<450).length,"350-399":s.filter(e=>e.puan>=350&&e.puan<400).length,"300-349":s.filter(e=>e.puan>=300&&e.puan<350).length,"300-":s.filter(e=>e.puan<300).length};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83C\uDFAF Ortalama Puan"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:r.toFixed(1)})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83C\uDFC6 En Y\xfcksek Puan"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-600",children:h.toFixed(1)})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83D\uDCC9 En D\xfcş\xfck Puan"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-red-600",children:p.toFixed(1)})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"\uD83D\uDCC8 Son Trend"}),(0,a.jsxs)("p",{className:"text-3xl font-bold ".concat(g>=0?"text-green-600":"text-red-600"),children:[g>=0?"+":"",g.toFixed(1)]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83D\uDCC8 Puan Gelişim Trendi"}),(0,a.jsx)("div",{className:"h-96",children:(0,a.jsx)(n.h,{width:"100%",height:"100%",children:(0,a.jsxs)(i.w,{data:s,children:[(0,a.jsx)(d.q,{strokeDasharray:"3 3"}),(0,a.jsx)(x.K,{dataKey:"exam",angle:-45,textAnchor:"end",height:100,interval:0,tick:{fontSize:10}}),(0,a.jsx)(c.B,{domain:[200,500]}),(0,a.jsx)(m.u,{formatter:(e,t)=>["puan"===t?"".concat(e," puan"):"".concat(e," net"),"puan"===t?"Puan":"Net"],labelFormatter:e=>"Deneme: ".concat(e)}),(0,a.jsx)(o.D,{}),(0,a.jsx)(u.x,{type:"monotone",dataKey:"puan",stroke:"#8B5CF6",strokeWidth:3,name:"Puan",dot:{fill:"#8B5CF6",strokeWidth:2,r:6},activeDot:{r:8}}),(0,a.jsx)(u.x,{type:"monotone",dataKey:"net",stroke:"#3B82F6",strokeWidth:2,name:"Net",dot:{fill:"#3B82F6",strokeWidth:2,r:4}})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83D\uDCCA Puan Aralıkları"}),(0,a.jsx)("div",{className:"space-y-3",children:Object.entries(j).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[t," Puan"]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2 mr-3",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(s/Math.max(...Object.values(j))*100,"%")}})}),(0,a.jsx)("span",{className:"text-sm font-bold text-gray-900 w-8",children:s})]})]},t)})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83C\uDFAF Puan Performansı"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"LGS Başarı Hedefi:"}),(0,a.jsx)("span",{className:"font-bold text-purple-600",children:"450+ Puan"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Mevcut Durum:"}),(0,a.jsx)("span",{className:"font-bold ".concat(r>=450?"text-green-600":r>=400?"text-yellow-600":"text-red-600"),children:r>=450?"M\xfckemmel":r>=400?"İyi":"Gelişim Gerekli"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Hedefe Uzaklık:"}),(0,a.jsxs)("span",{className:"font-bold text-blue-600",children:[Math.max(0,450-r).toFixed(1)," puan"]})]}),(0,a.jsxs)("div",{className:"pt-2 border-t",children:[(0,a.jsx)("div",{className:"bg-gray-200 rounded-full h-3",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-3 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(r/500*100,100),"%")}})}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1 text-center",children:["%",(r/500*100).toFixed(1)," tamamlandı"]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"\uD83D\uDCCB Detaylı Puan Analizi"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deneme"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tarih"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Puan"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((e,t)=>{let l=t>0&&e.puan>s[t-1].puan,r=t>0&&e.puan<s[t-1].puan;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.exam}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.tarih}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-purple-600",children:e.puan.toFixed(1)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.net.toFixed(1)}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[l&&(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"↗️ Artış"}),r&&(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"↘️ Azalış"}),!l&&!r&&0===t&&(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"\uD83D\uDCCA İlk Deneme"}),!l&&!r&&t>0&&(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"➡️ Sabit"})]})]},t)})})]})})]})]})},y=e=>{let{reportData:t}=e,s=t.examResults.length>0?t.examResults[t.examResults.length-1].studentTotalNet:0,l=Math.min(s/70*100,100),r=t.examResults.map(e=>e.studentTotalNet),n=r.length>0?r.reduce((e,t)=>e+t,0)/r.length:0,i=Math.sqrt(r.length>0?r.reduce((e,t)=>e+Math.pow(t-n,2),0)/r.length:0),d=i<=3?"İstikrarlı":i<=6?"Orta İstikrar":"Değişken";return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83C\uDFAF Hedef Takibi"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Hedef Net"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:70})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Son Net"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-600",children:s.toFixed(1)})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Tamamlanma"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:["%",l.toFixed(0)]})]})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("div",{className:"bg-gray-200 rounded-full h-4",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-4 rounded-full transition-all duration-300",style:{width:"".concat(l,"%")}})})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83D\uDCCA Performans Durumu"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"İstikrar Durumu"}),(0,a.jsx)("p",{className:"text-2xl font-bold ".concat("İstikrarlı"===d?"text-green-600":"Orta İstikrar"===d?"text-yellow-600":"text-red-600"),children:d}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Standart Sapma: ",i.toFixed(1)]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Toplam Deneme"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:t.examResults.length}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Ortalama Net: ",n.toFixed(1)]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\uD83D\uDCDD Genel Değerlendirme"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"border-l-4 border-green-500 pl-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-green-700",children:"\uD83D\uDCAA G\xfc\xe7l\xfc Y\xf6nler"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:s>n+5?"Son denemede y\xfcksek performans sergiledi.":n>50?"Genel performans ortalamanın \xfczerinde.":"D\xfczenli \xe7alışma sergiliyor."})]}),(0,a.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-blue-700",children:"\uD83D\uDCC8 İlerleme \xd6nerisi"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:l<80?"Hedef net i\xe7in \xe7alışmaya devam edilmeli.":"Hedef net tutturulmuş, daha y\xfcksek hedef belirlenebilir."})]}),(0,a.jsxs)("div",{className:"border-l-4 border-orange-500 pl-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-orange-700",children:"\uD83C\uDFAF Sonraki Adımlar"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:i>5?"Performansta istikrar sağlanmalı.":"Mevcut \xe7alışma d\xfczeni korunmalı."})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"\uD83D\uDCCB Rapor \xd6zeti"}),(0,a.jsxs)("p",{className:"text-gray-600 text-sm leading-relaxed",children:["Bu rapor ",t.student?t.student.name+" \xf6ğrencisinin":"sınıfın",t.examResults.length," denemedeki performansını g\xf6stermektedir.",s>n?"Genel olarak pozitif bir trend":"İstikrarlı bir performans","sergilenmekte olup, hedef netlere ulaşmak i\xe7in",i>5?" daha d\xfczenli \xe7alışma yapılması":" mevcut \xe7alışma d\xfczeninin s\xfcrd\xfcr\xfclmesi"," \xf6nerilir."]})]})]})};var b=e=>{let{students:t,exams:n,results:i}=e,d={error:e=>{console.error(e),alert(e)},success:e=>{console.log(e),alert(e)}},x=(0,r.useSearchParams)(),[c,m]=(0,l.useState)(null),[o,u]=(0,l.useState)(1),[h,p]=(0,l.useState)(!0),[b,v]=(0,l.useState)(!1),D={1:(0,l.useRef)(null),2:(0,l.useRef)(null),3:(0,l.useRef)(null),4:(0,l.useRef)(null),5:(0,l.useRef)(null)};(0,l.useEffect)(()=>{if(x){let e=x.get("type"),t=x.get("studentId"),s=x.get("classId");e&&("student"!==e||t)&&("class"!==e||s)||d.error("Ge\xe7ersiz rapor parametreleri")}},[x]),(0,l.useEffect)(()=>{w()},[]);let w=async()=>{p(!0);try{var e,s,a,l;let r=x.get("type"),c=x.get("studentId"),o=x.get("classId");if(!r){d.error("Rapor tipi belirtilmemiş");return}if("student"===r&&!c){d.error("\xd6ğrenci ID belirtilmemiş");return}if("class"===r&&!o){d.error("Sınıf ID belirtilmemiş");return}if(console.log("DEBUG - Students count:",t.length),console.log("DEBUG - Exams count:",n.length),console.log("DEBUG - Results count:",i.length),"student"===r&&c){let a=t.find(e=>e.id===c);if(!a){d.error("\xd6ğrenci bulunamadı");return}let l=i.filter(e=>e.studentId===c),r=[];for(let d of l){let l=n.find(e=>e.id===d.examId);if(!l)continue;let x=i.filter(e=>{var s;return e.examId===d.examId&&(null===(s=t.find(t=>t.id===e.studentId))||void 0===s?void 0:s.class)===a.class}),c=x.length>0?x.reduce((e,t)=>e+t.nets.total,0)/x.length:0,m=(null===(s=l.generalAverages)||void 0===s?void 0:null===(e=s[a.class])||void 0===e?void 0:e.generalScore)||0;r.push({exam:l,studentResults:[d],classAverage:c,generalAverage:m,studentTotalNet:d.nets.total})}r.sort((e,t)=>new Date(e.exam.date).getTime()-new Date(t.exam.date).getTime()),m({student:a,examResults:r})}else if("class"===r&&o){let e=t.filter(e=>e.class===o),s=i.filter(t=>e.some(e=>e.id===t.studentId)),r=[];for(let e of n){let t=s.filter(t=>t.examId===e.id);if(0===t.length)continue;let n=t.map(e=>e.nets.total),i=n.reduce((e,t)=>e+t,0)/n.length,d=(null===(l=e.generalAverages)||void 0===l?void 0:null===(a=l[o])||void 0===a?void 0:a.generalScore)||0;r.push({exam:e,studentResults:t,classAverage:i,generalAverage:d,studentTotalNet:i})}r.sort((e,t)=>new Date(e.exam.date).getTime()-new Date(t.exam.date).getTime()),m({className:o,examResults:r})}}catch(e){console.error("Rapor verisi y\xfckleme hatası:",e),d.error("Rapor verileri y\xfcklenirken hata oluştu")}finally{p(!1)}};if(h)return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Rapor hazırlanıyor..."})]})});if(!c)return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"text-center text-red-600",children:(0,a.jsx)("p",{children:"Rapor verileri bulunamadı"})})});c.examResults.length,c.examResults.length>0&&(c.examResults.reduce((e,t)=>e+t.studentTotalNet,0),c.examResults.length);let k=async()=>{v(!0);try{let t=(await Promise.all([s.e(505),s.e(553)]).then(s.bind(s,53375))).default,a=(await s.e(337).then(s.t.bind(s,24457,23))).default,l=new t("p","mm","a4"),r=10;l.setFontSize(20),l.setFont("helvetica","bold");let n=c.student?"".concat(c.student.name," - ").concat(c.student.class," \xd6ğrenci Raporu"):"".concat(c.className," Sınıf Raporu");l.text(n,10,r),r+=20;for(let t=1;t<=5;t++){var e;let s=null===(e=D[t])||void 0===e?void 0:e.current;if(!s)continue;let n=await a(s,{scale:2,useCORS:!0,allowTaint:!0}),i=n.toDataURL("image/png"),d=190*n.height/n.width;t>1&&(l.addPage(),r=10),l.addImage(i,"PNG",10,r,190,d)}let i=c.student?"ogrenci-raporu-".concat(c.student.name.replace(/\s+/g,"-"),".pdf"):"sinif-raporu-".concat(c.className,".pdf");l.save(i),d.success("PDF başarıyla oluşturuldu!")}catch(e){console.error("PDF export error:",e),d.error("PDF oluşturulurken hata oluştu")}finally{v(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:c.student?"\uD83D\uDC68‍\uD83C\uDF93 \xd6ğrenci Raporu":"\uD83C\uDFEB Sınıf Raporu"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:c.student?"".concat(c.student.name," - ").concat(c.student.class):c.className})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{onClick:k,disabled:b,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"PDF Oluşturuluyor..."]}):(0,a.jsx)(a.Fragment,{children:"\uD83D\uDCC4 PDF İndir"})}),(0,a.jsx)("button",{onClick:()=>window.print(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"\uD83D\uDDA8️ Yazdır"})]})]})})}),(0,a.jsx)("div",{className:"bg-white border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,a.jsx)("div",{className:"flex space-x-8 overflow-x-auto",children:[{num:1,label:"Genel G\xf6r\xfcn\xfcm",icon:"\uD83D\uDCCA"},{num:2,label:"Net Gelişim",icon:"\uD83D\uDCC8"},{num:3,label:"Puan Gelişim",icon:"\uD83C\uDFAF"},{num:4,label:"Denemeler",icon:"\uD83D\uDCCB"},{num:5,label:"Ders Bazında",icon:"\uD83D\uDCDA"}].map(e=>(0,a.jsxs)("button",{onClick:()=>u(e.num),className:"py-4 px-2 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ".concat(o===e.num?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[e.icon," ",e.label]},e.num))})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[1===o&&(0,a.jsx)("div",{ref:D[1],children:(0,a.jsx)(g,{reportData:c})}),2===o&&(0,a.jsx)("div",{ref:D[2],children:(0,a.jsx)(j,{reportData:c})}),3===o&&(0,a.jsx)("div",{ref:D[3],children:(0,a.jsx)(N,{reportData:c})}),4===o&&(0,a.jsx)("div",{ref:D[4],children:(0,a.jsx)(y,{reportData:c})}),5===o&&(0,a.jsx)("div",{ref:D[5],children:(0,a.jsx)(f,{reportData:c})})]})]})},v=s(34621);function D(){let[e,t]=(0,l.useState)([]),[s,r]=(0,l.useState)([]),[n,i]=(0,l.useState)([]),[d,x]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{(async()=>{try{let[e,s,a]=await Promise.all([(0,v.sK)(),(0,v._P)(),(0,v.O7)()]);t(e),r(s),i(a)}catch(e){console.error("Student Report veri y\xfckleme hatası:",e),alert("Veriler y\xfcklenirken hata oluştu")}finally{x(!1)}})()},[]),d)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Rapor verileri y\xfckleniyor..."})]})}):(0,a.jsx)(b,{students:e,exams:s,results:n})}function w(){return(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Rapor sayfası y\xfckleniyor..."})]})}),children:(0,a.jsx)(D,{})})}}},function(e){e.O(0,[358,139,943,28,621,971,117,744],function(){return e(e.s=86234)}),_N_E=e.O()}]);