<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Test Verileri Ekleme</title>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            max-width: 600px; 
            margin: 50px auto; 
            padding: 20px;
            background: #f5f5f5;
        }
        .container { 
            background: white; 
            padding: 30px; 
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        button { 
            background: #4CAF50; 
            color: white; 
            padding: 15px 30px; 
            border: none; 
            border-radius: 5px; 
            cursor: pointer; 
            font-size: 16px;
            margin: 10px 5px;
        }
        button:hover { background: #45a049; }
        .success { 
            background: #d4edda; 
            color: #155724; 
            padding: 15px; 
            border-radius: 5px; 
            margin: 10px 0;
        }
        .error { 
            background: #f8d7da; 
            color: #721c24; 
            padding: 15px; 
            border-radius: 5px; 
            margin: 10px 0;
        }
        .info { 
            background: #d1ecf1; 
            color: #0c5460; 
            padding: 15px; 
            border-radius: 5px; 
            margin: 10px 0;
        }
        h1 { color: #333; }
        .test-info { 
            background: #e2e3e5; 
            padding: 15px; 
            border-radius: 5px; 
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ Firebase Firestore Test Verileri</h1>
        
        <div class="info">
            <strong>Bu sayfa Firebase Firestore'a test √∂ƒürencileri ekleyecek.</strong><br>
            Sadece bir kez √ßalƒ±≈ütƒ±rƒ±n, sonra √∂ƒürenci giri≈ü sistemini test edebilirsiniz.
        </div>

        <div class="test-info">
            <strong>Eklenecek Test √ñƒürencileri:</strong><br>
            ‚Ä¢ Test √ñƒürenci (8-A / 12345)<br>
            ‚Ä¢ Ahmet Yƒ±lmaz (8-B / 12346)<br>
            ‚Ä¢ Fatma Demir (8-A / 12347)<br>
            ‚Ä¢ Mehmet Kaya (8-C / 12348)
        </div>

        <button onclick="addTestStudents()">‚úÖ Test Verilerini Ekle</button>
        <button onclick="clearMessages()">üóëÔ∏è Mesajlarƒ± Temizle</button>

        <div id="result"></div>
    </div>

    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBYfBhkLIfjqpnL9MxBhxW6iJeC0VAEDLk",
            authDomain: "kopruler-basari-portali.firebaseapp.com",
            projectId: "kopruler-basari-portali",
            storageBucket: "kopruler-basari-portali.firebasestorage.app",
            messagingSenderId: "318334276429",
            appId: "1:318334276429:web:7caa5e5b9dccb564d71d04",
            measurementId: "G-EF6P77SMFP"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // Test student data
        const testStudents = [
            {
                name: "Test √ñƒürenci",
                class: "8-A",
                number: "12345",
                viewCount: 0,
                lastViewDate: new Date().toISOString(),
                createdAt: new Date().toISOString()
            },
            {
                name: "Ahmet Yƒ±lmaz",
                class: "8-B", 
                number: "12346",
                viewCount: 5,
                lastViewDate: new Date().toISOString(),
                createdAt: new Date().toISOString()
            },
            {
                name: "Fatma Demir",
                class: "8-A",
                number: "12347", 
                viewCount: 3,
                lastViewDate: new Date().toISOString(),
                createdAt: new Date().toISOString()
            },
            {
                name: "Mehmet Kaya",
                class: "8-C",
                number: "12348",
                viewCount: 8,
                lastViewDate: new Date().toISOString(), 
                createdAt: new Date().toISOString()
            }
        ];

        function generateId() {
            return 'student_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }

        function showMessage(message, type = 'success') {
            const resultDiv = document.getElementById('result');
            const messageClass = type === 'error' ? 'error' : 'success';
            resultDiv.innerHTML += `<div class="${messageClass}">${message}</div>`;
        }

        function clearMessages() {
            document.getElementById('result').innerHTML = '';
        }

        async function addTestStudents() {
            try {
                showMessage('üöÄ Firestore\'a test √∂ƒürencileri ekleniyor...', 'info');
                
                for (let i = 0; i < testStudents.length; i++) {
                    const student = testStudents[i];
                    
                    const docRef = await db.collection('students').add({
                        ...student,
                        id: generateId()
                    });
                    
                    showMessage(`‚úÖ ${student.name} (${student.class}/${student.number}) eklendi: ${docRef.id}`);
                }
                
                showMessage('üéâ T√ºm test √∂ƒürencileri ba≈üarƒ±yla eklendi!', 'success');
                showMessage('üìã ≈ûimdi /ogrenci sayfasƒ±ndan giri≈ü yapabilirsiniz:', 'info');
                showMessage('Sƒ±nƒ±f: 8-A, Okul Numarasƒ±: 12345 (Test √ñƒürenci)', 'info');
                showMessage('Sƒ±nƒ±f: 8-B, Okul Numarasƒ±: 12346 (Ahmet Yƒ±lmaz)', 'info');
                showMessage('Sƒ±nƒ±f: 8-A, Okul Numarasƒ±: 12347 (Fatma Demir)', 'info');
                showMessage('Sƒ±nƒ±f: 8-C, Okul Numarasƒ±: 12348 (Mehmet Kaya)', 'info');
                
            } catch (error) {
                console.error('Hata:', error);
                showMessage(`‚ùå Hata olu≈ütu: ${error.message}`, 'error');
                showMessage('Firestore kurallarƒ±nƒ±zƒ± kontrol edin veya Firebase konsolundan izin verin.', 'error');
            }
        }
    </script>
</body>
</html>